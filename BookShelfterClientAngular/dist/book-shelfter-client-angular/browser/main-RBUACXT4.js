import{$ as tr,$a as RC,$b as qC,A as sa,Aa as yC,Ab as ut,Ac as Gp,B as Lv,Ba as bC,Bb as lt,Bc as rS,C as qc,Ca as CC,Cb as dt,Cc as Qv,D as uC,Da as SC,Db as Mr,Dc as Hp,E as $c,Ea as TC,Eb as Se,Ec as zp,F as ca,Fa as xC,Fb as YC,Fc as Jv,G as Uv,Ga as NC,Gb as Rp,H as lC,Ha as ho,Hb as VC,I as dC,Ia as zv,Ib as pn,J as fC,Ja as Vt,Jb as jn,K as Zn,Ka as DC,Kb as Ap,L as pC,La as Kl,Lb as ed,Lc as iS,M as Ct,Ma as b,Mb as kp,Mc as od,N as mt,Na as M,Nb as BC,Nc as qp,O as ua,Oa as Mp,Ob as Fp,P as wr,Pa as IC,Pb as Lp,Q as Ce,Qa as OC,Qb as Kv,R as er,Ra as Xc,Rb as Up,S as hC,Sa as Ds,Sb as Xv,Sc as oS,T as it,Ta as PC,Tb as td,Tc as $p,U as Yv,Ua as Xl,Ub as go,V as ce,Va as bi,Vb as jC,Vc as aS,W as le,Wa as Bn,Wb as Yp,X as Vv,Xa as wC,Xb as GC,Y as mC,Ya as MC,Yb as Os,Z as $l,Za as qv,Zb as HC,_ as _e,_a as ie,_b as zC,_c as sS,a as oe,aa as wt,ab as ni,ac as $C,b as ft,ba as Fi,bb as k,bc as Ps,c as nC,ca as Bv,cb as Ql,cc as Jc,d as Mv,da as gC,db as fn,dc as vo,e as rC,ea as Ns,eb as mo,ec as WC,f as iC,fa as Zr,fb as d,fc as ws,g as ql,ga as la,gb as f,gc as KC,h as Rv,ha as xe,hb as re,hc as XC,i as Av,ia as Ne,ib as Jl,ic as Bt,j as bn,ja as ei,jb as Zl,jc as QC,k as ln,ka as vC,kb as AC,kc as nd,l as oa,la as da,lb as ot,lc as JC,m as Mn,ma as Pp,mb as kC,mc as ZC,n as Ue,na as ti,nb as ae,nc as rd,o as xs,oa as dn,ob as W,oc as Vp,p as oC,pa as jv,pb as Ui,pc as Bp,q as aC,qa as fa,qb as Qc,qc as St,r as Re,ra as _C,rb as FC,rc as gt,s as Op,sa as wp,sb as $v,sc as eS,t as Pr,ta as EC,tb as Wv,tc as jp,u as kv,ua as Li,ub as Is,uc as Zc,v as sC,va as Wl,vb as v,vc as He,w as Fv,wa as Gv,wb as je,wc as tS,x as cC,xa as Hv,xb as we,xc as pa,y as po,ya as Wc,yb as LC,yc as id,z as aa,za as Kc,zb as UC,zc as nS}from"./chunk-4UHVXKF6.js";var sd=class{},cd=class{},Yi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),o=i.toLowerCase(),a=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,r);let i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let o=e.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let a=this.headers.get(r);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,a)}break}}setHeaderEntries(e,r){let n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var e_=class{encodeKey(e){return cS(e)}encodeValue(e){return cS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function $1(t,e){let r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,s]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=r.get(a)||[];c.push(s),r.set(a,c)}),r}var W1=/%(\d[a-f0-9])/gi,K1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cS(t){return encodeURIComponent(t).replace(W1,(e,r)=>K1[r]??e)}function Wp(t){return`${t}`}var ri=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new e_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=$1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let n=e.fromObject[r],i=Array.isArray(n)?n.map(Wp):[Wp(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(n=>{let i=e[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(Wp(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],i=n.indexOf(Wp(e.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var t_=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function X1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function lS(t){return typeof Blob<"u"&&t instanceof Blob}function dS(t){return typeof FormData<"u"&&t instanceof FormData}function Q1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ad=class t{constructor(e,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(X1(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Yi,this.context??=new t_,!this.params)this.params=new ri,this.urlWithParams=r;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=r;else{let s=r.indexOf("?"),c=s===-1?"?":s<r.length-1?"&":"";this.urlWithParams=r+c+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||uS(this.body)||lS(this.body)||dS(this.body)||Q1(this.body)?this.body:this.body instanceof ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dS(this.body)?null:lS(this.body)?this.body.type||null:uS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,s=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,h)=>m.set(h,e.setHeaders[h]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((m,h)=>m.set(h,e.setParams[h]),l)),new t(r,n,a,{params:l,headers:u,context:p,reportProgress:c,responseType:i,withCredentials:s,transferCache:o})}},ma=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ma||{}),ud=class{constructor(e,r=200,n="OK"){this.headers=e.headers||new Yi,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xp=class t extends ud{constructor(e={}){super(e),this.type=ma.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ms=class t extends ud{constructor(e={}){super(e),this.type=ma.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ha=class extends ud{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},CS=200,J1=204;function Zv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var nr=(()=>{let e=class e{constructor(n){this.handler=n}request(n,i,o={}){let a;if(n instanceof ad)a=n;else{let u;o.headers instanceof Yi?u=o.headers:u=new Yi(o.headers);let l;o.params&&(o.params instanceof ri?l=o.params:l=new ri({fromObject:o.params})),a=new ad(n,i,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=Ue(a).pipe(sa(u=>this.handler.handle(u)));if(n instanceof ad||o.observe==="events")return s;let c=s.pipe(po(u=>u instanceof Ms));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return c.pipe(Re(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Re(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Re(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(Re(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new ri().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,Zv(o,i))}post(n,i,o={}){return this.request("POST",n,Zv(o,i))}put(n,i,o={}){return this.request("PUT",n,Zv(o,i))}};e.\u0275fac=function(i){return new(i||e)(ce(sd))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),Z1=/^\)\]\}',?\n/,eO="X-Request-URL";function fS(t){if(t.url)return t.url;let e=eO.toLocaleLowerCase();return t.headers.get(e)}var n_=(()=>{let e=class e{constructor(){this.fetchImpl=le(r_,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=le(dn)}handle(n){return new ql(i=>{let o=new AbortController;return this.doRequest(n,o.signal,i).then(i_,a=>i.error(new ha({error:a}))),()=>o.abort()})}doRequest(n,i,o){return Mv(this,null,function*(){let a=this.createRequestInit(n),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,oe({signal:i},a)));tO(g),o.next({type:ma.Sent}),s=yield g}catch(g){o.error(new ha({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let c=new Yi(s.headers),u=s.statusText,l=fS(s)??n.urlWithParams,p=s.status,m=null;if(n.reportProgress&&o.next(new Xp({headers:c,status:p,statusText:u,url:l})),s.body){let g=s.headers.get("content-length"),E=[],_=s.body.getReader(),y=0,x,w,R=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Mv(this,null,function*(){for(;;){let{done:Q,value:A}=yield _.read();if(Q)break;if(E.push(A),y+=A.length,n.reportProgress){w=n.responseType==="text"?(w??"")+(x??=new TextDecoder).decode(A,{stream:!0}):void 0;let D=()=>o.next({type:ma.DownloadProgress,total:g?+g:void 0,loaded:y,partialText:w});R?R.run(D):D()}}}));let j=this.concatChunks(E,y);try{let Q=s.headers.get("Content-Type")??"";m=this.parseBody(n,j,Q)}catch(Q){o.error(new ha({error:Q,headers:new Yi(s.headers),status:s.status,statusText:s.statusText,url:fS(s)??n.urlWithParams}));return}}p===0&&(p=m?CS:0),p>=200&&p<300?(o.next(new Ms({body:m,headers:c,status:p,statusText:u,url:l})),o.complete()):o.error(new ha({error:m,headers:c,status:p,statusText:u,url:l}))})}parseBody(n,i,o){switch(n.responseType){case"json":let a=new TextDecoder().decode(i).replace(Z1,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},o=n.withCredentials?"include":void 0;if(n.headers.forEach((a,s)=>i[a]=s.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let a=n.detectContentTypeHeader();a!==null&&(i["Content-Type"]=a)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:o}}concatChunks(n,i){let o=new Uint8Array(i),a=0;for(let s of n)o.set(s,a),a+=s.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),r_=class{};function i_(){}function tO(t){t.then(i_,i_)}function nO(t,e){return e(t)}function rO(t,e,r){return(n,i)=>Zr(r,()=>e(n,o=>t(o,i)))}var SS=new it(""),TS=new it(""),iO=new it("",{providedIn:"root",factory:()=>!0});var pS=(()=>{let e=class e extends sd{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=le(Pp),this.contributeToStability=le(iO)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(SS),...this.injector.get(TS,[])]));this.chain=i.reduceRight((o,a)=>rO(o,a,this.injector),nO)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe($c(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(ce(cd),ce(Ns))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})();var oO=/^\)\]\}',?\n/;function aO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var hS=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new mt(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Mn(i.\u0275loadImpl()):Ue(null)).pipe(Zn(()=>new ql(a=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((_,y)=>s.setRequestHeader(_,y.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let _=n.detectContentTypeHeader();_!==null&&s.setRequestHeader("Content-Type",_)}if(n.responseType){let _=n.responseType.toLowerCase();s.responseType=_!=="json"?_:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let _=s.statusText||"OK",y=new Yi(s.getAllResponseHeaders()),x=aO(s)||n.url;return u=new Xp({headers:y,status:s.status,statusText:_,url:x}),u},p=()=>{let{headers:_,status:y,statusText:x,url:w}=l(),R=null;y!==J1&&(R=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=R?CS:0);let j=y>=200&&y<300;if(n.responseType==="json"&&typeof R=="string"){let Q=R;R=R.replace(oO,"");try{R=R!==""?JSON.parse(R):null}catch(A){R=Q,j&&(j=!1,R={error:A,text:R})}}j?(a.next(new Ms({body:R,headers:_,status:y,statusText:x,url:w||void 0})),a.complete()):a.error(new ha({error:R,headers:_,status:y,statusText:x,url:w||void 0}))},m=_=>{let{url:y}=l(),x=new ha({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});a.error(x)},h=!1,g=_=>{h||(a.next(l()),h=!0);let y={type:ma.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(y.total=_.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),a.next(y)},E=_=>{let y={type:ma.UploadProgress,loaded:_.loaded};_.lengthComputable&&(y.total=_.total),a.next(y)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),n.reportProgress&&(s.addEventListener("progress",g),c!==null&&s.upload&&s.upload.addEventListener("progress",E)),s.send(c),a.next({type:ma.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",g),c!==null&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(ce(Gp))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),xS=new it(""),sO="XSRF-TOKEN",cO=new it("",{providedIn:"root",factory:()=>sO}),uO="X-XSRF-TOKEN",lO=new it("",{providedIn:"root",factory:()=>uO}),Qp=class{},dO=(()=>{let e=class e{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vp(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(ce(Bt),ce(Li),ce(cO))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})();function fO(t,e){let r=t.url.toLowerCase();if(!le(xS)||t.method==="GET"||t.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(t);let n=le(Qp).getToken(),i=le(lO);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}var NS=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(NS||{});function pO(t,e){return{\u0275kind:t,\u0275providers:e}}function DS(...t){let e=[nr,hS,pS,{provide:sd,useExisting:pS},{provide:cd,useFactory:()=>le(n_,{optional:!0})??le(hS)},{provide:SS,useValue:fO,multi:!0},{provide:xS,useValue:!0},{provide:Qp,useClass:dO}];for(let r of t)e.push(...r.\u0275providers);return Fi(e)}function IS(){return pO(NS.Fetch,[n_,{provide:cd,useExisting:n_}])}var hO=new it(""),mS="b",gS="h",vS="s",_S="st",ES="u",yS="rt",Kp=new it(""),mO=["GET","HEAD"];function gO(t,e){let h=le(Kp),{isCacheActive:r}=h,n=nC(h,["isCacheActive"]),{transferCache:i,method:o}=t;if(!r||i===!1||o==="POST"&&!n.includePostRequests&&!i||o!=="POST"&&!mO.includes(o)||!n.includeRequestsWithAuthHeaders&&vO(t)||n.filter?.(t)===!1)return e(t);let a=le(Hv),s=le(hO,{optional:!0}),c=id(le(Li));if(s&&!c)throw new mt(2803,!1);let u=c&&s?bO(t.url,s):t.url,l=EO(t,u),p=a.get(l,null),m=n.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(m=i.includeHeaders),p){let{[mS]:g,[yS]:E,[gS]:_,[vS]:y,[_S]:x,[ES]:w}=p,R=g;switch(E){case"arraybuffer":R=new TextEncoder().encode(g).buffer;break;case"blob":R=new Blob([g]);break}let j=new Yi(_);return Ue(new Ms({body:R,headers:j,status:y,statusText:x,url:w}))}return e(t).pipe(Ct(g=>{g instanceof Ms&&c&&a.set(l,{[mS]:g.body,[gS]:_O(g.headers,m),[vS]:g.status,[_S]:g.statusText,[ES]:u,[yS]:t.responseType})}))}function vO(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function _O(t,e){if(!e)return{};let r={};for(let n of e){let i=t.getAll(n);i!==null&&(r[n]=i)}return r}function bS(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function EO(t,e){let{params:r,method:n,responseType:i}=t,o=bS(r),a=t.serializeBody();a instanceof URLSearchParams?a=bS(a):typeof a!="string"&&(a="");let s=[n,i,e,a,o].join("|"),c=yO(s);return c}function yO(t){let e=0;for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function OS(t){return[{provide:Kp,useFactory:()=>(Xl("NgHttpTransferCache"),oe({isCacheActive:!0},t))},{provide:TS,useValue:gO,multi:!0,deps:[Hv,Kp]},{provide:td,multi:!0,useFactory:()=>{let e=le(go),r=le(Kp);return()=>{jC(e).then(()=>{r.isCacheActive=!1})}}}]}function bO(t,e){let r=new URL(t,"resolve://").origin,n=e[r];return n?t.replace(r,n):t}var s_=class extends XC{constructor(){super(...arguments),this.supportsDOMEvents=!0}},c_=class t extends s_{static makeCurrent(){KC(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.remove()}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=SO();return r==null?null:TO(r)}resetBaseElement(){ld=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vp(document.cookie,e)}},ld=null;function SO(){return ld=ld||document.querySelector("base"),ld?ld.getAttribute("href"):null}function TO(t){return new URL(t,document.baseURI).pathname}var u_=class{addToWindow(e){ua.getAngularTestability=(n,i=!0)=>{let o=e.findTestabilityInTree(n,i);if(o==null)throw new mt(5103,!1);return o},ua.getAllAngularTestabilities=()=>e.getAllTestabilities(),ua.getAllAngularRootElements=()=>e.getAllRootElements();let r=n=>{let i=ua.getAllAngularTestabilities(),o=i.length,a=function(){o--,o==0&&n()};i.forEach(s=>{s.whenStable(a)})};ua.frameworkStabilizers||(ua.frameworkStabilizers=[]),ua.frameworkStabilizers.push(r)}findTestabilityInTree(e,r,n){if(r==null)return null;let i=e.getTestability(r);return i??(n?ws().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null)}},xO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),Jp=new it(""),RS=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(a=>a.supports(n)),!i)throw new mt(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(ce(Jp),ce(dn))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),dd=class{constructor(e){this._doc=e}},o_="ng-app-id",AS=(()=>{let e=class e{constructor(n,i,o,a={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=id(a),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${o_}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let a=o.get(n);return a.usage+=i,a.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,a=o?.get(i);if(a?.parentNode===n)return o.delete(i),a.removeAttribute(o_),a;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(o_,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),a=this.styleRef,s=a.get(i)?.elements;s?s.push(o):a.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ce(Bt),ce(wp),ce(Gv,8),ce(Li))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),a_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},f_=/%COMP%/g,kS="%COMP%",NO=`_nghost-${kS}`,DO=`_ngcontent-${kS}`,IO=!0,OO=new it("",{providedIn:"root",factory:()=>IO});function PO(t){return DO.replace(f_,t)}function wO(t){return NO.replace(f_,t)}function FS(t,e){return e.map(r=>r.replace(f_,t))}var eu=(()=>{let e=class e{constructor(n,i,o,a,s,c,u,l=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=id(c),this.defaultRenderer=new fd(n,s,u,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$l.ShadowDom&&(i=ft(oe({},i),{encapsulation:$l.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof Zp?o.applyToHost(n):o instanceof pd&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,a=o.get(i.id);if(!a){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case $l.Emulated:a=new Zp(u,l,i,this.appId,p,s,c,m);break;case $l.ShadowDom:return new l_(u,l,n,i,s,c,this.nonce,m);default:a=new pd(u,l,i,p,s,c,m);break}o.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ce(RS),ce(AS),ce(wp),ce(OO),ce(Bt),ce(Li),ce(dn),ce(Gv))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),fd=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(a_[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(PS(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(PS(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){r.remove()}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new mt(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let o=a_[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=a_[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(Kl.DashCase|Kl.Important)?e.style.setProperty(r,n,i&Kl.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&Kl.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=ws().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function PS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var l_=class extends fd{constructor(e,r,n,i,o,a,s,c){super(e,o,a,c),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=FS(i.id,i.styles);for(let l of u){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=l,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(null,r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pd=class extends fd{constructor(e,r,n,i,o,a,s,c){super(e,o,a,s),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=c?FS(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zp=class extends pd{constructor(e,r,n,i,o,a,s,c){let u=i+"-"+n.id;super(e,r,n,o,a,s,c,u),this.contentAttr=PO(u),this.hostAttr=wO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},MO=(()=>{let e=class e extends dd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ce(Bt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),RO=(()=>{let e=class e extends dd{constructor(n){super(n),this.delegate=le(qC,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,i,o){return this.delegate.addEventListener(n,i,o)}removeEventListener(n,i,o){return this.delegate.removeEventListener(n,i,o)}};e.\u0275fac=function(i){return new(i||e)(ce(Bt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),wS=["alt","control","meta","shift"],AO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},FO=(()=>{let e=class e extends dd{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,o){let a=e.parseEventName(i),s=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ws().onAndCancel(n,a.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(i.pop()),s="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),s="code."),wS.forEach(l=>{let p=i.indexOf(l);p>-1&&(i.splice(p,1),s+=l+".")}),s+=a,i.length!=0||a.length===0)return null;let u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(n,i){let o=AO[n.key]||n.key,a="";return i.indexOf("code.")>-1&&(o=n.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),wS.forEach(s=>{if(s!==o){let c=kO[s];c(n)&&(a+=s+".")}}),a+=o,a===i)}static eventCallback(n,i,o){return a=>{e.matchEventFullKeyCode(a,n)&&o.runGuarded(()=>i(a))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(ce(Bt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})();function LS(t,e){return zC(oe({rootComponent:t},LO(e)))}function LO(t){return{appProviders:[...US,...t?.providers??[]],platformProviders:BO}}function UO(){c_.makeCurrent()}function YO(){return new jv}function VO(){return _C(document),document}var BO=[{provide:Li,useValue:tS},{provide:EC,useValue:UO,multi:!0},{provide:Bt,useFactory:VO,deps:[]}];var jO=new it(""),GO=[{provide:Fp,useClass:u_,deps:[]},{provide:BC,useClass:Lp,deps:[dn,Kv,Fp]},{provide:Lp,useClass:Lp,deps:[dn,Kv,Fp]}],US=[{provide:gC,useValue:"root"},{provide:jv,useFactory:YO,deps:[]},{provide:Jp,useClass:MO,multi:!0,deps:[Bt,dn,Li]},{provide:Jp,useClass:FO,multi:!0,deps:[Bt]},{provide:Jp,useClass:RO,multi:!0},eu,AS,RS,{provide:Xc,useExisting:eu},{provide:Gp,useClass:xO,deps:[]},[]],YS=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:wp,useValue:n.appId}]}}};e.\u0275fac=function(i){return new(i||e)(ce(jO,12))},e.\u0275mod=tr({type:e}),e.\u0275inj=er({providers:[...US,...GO],imports:[He,HC]});let t=e;return t})();var VS=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(ce(Bt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var p_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=ce(HO),o},providedIn:"root"});let t=e;return t})(),HO=(()=>{let e=class e extends p_{constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case ho.NONE:return i;case ho.HTML:return Kc(i,"HTML")?Wc(i):NC(this._doc,String(i)).toString();case ho.STYLE:return Kc(i,"Style")?Wc(i):i;case ho.SCRIPT:if(Kc(i,"Script"))return Wc(i);throw new mt(5200,!1);case ho.URL:return Kc(i,"URL")?Wc(i):xC(String(i));case ho.RESOURCE_URL:if(Kc(i,"ResourceURL"))return Wc(i);throw new mt(5201,!1);default:throw new mt(5202,!1)}}bypassSecurityTrustHtml(n){return yC(n)}bypassSecurityTrustStyle(n){return bC(n)}bypassSecurityTrustScript(n){return CC(n)}bypassSecurityTrustUrl(n){return SC(n)}bypassSecurityTrustResourceUrl(n){return TC(n)}};e.\u0275fac=function(i){return new(i||e)(ce(Bt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d_=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(d_||{});function BS(...t){let e=[],r=new Set,n=r.has(d_.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)r.add(o),i.length&&e.push(i);return Fi([[],$C(),r.has(d_.NoHttpTransferCache)||n?[]:OS({}),e])}var Je="primary",Id=Symbol("RouteTitle"),__=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function au(t){return new __(t)}function zO(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let a=n[o],s=t[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function qO(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Vi(t[r],e[r]))return!1;return!0}function Vi(t,e){let r=t?E_(t):void 0,n=e?E_(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!ZS(t[i],e[i]))return!1;return!0}function E_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}else return t===e}function eT(t){return t.length>0?t[t.length-1]:null}function va(t){return oC(t)?t:Up(t)?Mn(Promise.resolve(t)):Ue(t)}var $O={exact:nT,subset:rT},tT={exact:WO,subset:KO,ignored:()=>!0};function GS(t,e,r){return $O[r.paths](t.root,e.root,r.matrixParams)&&tT[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function WO(t,e){return Vi(t,e)}function nT(t,e,r){if(!ks(t.segments,e.segments)||!nh(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!nT(t.children[n],e.children[n],r))return!1;return!0}function KO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>ZS(t[r],e[r]))}function rT(t,e,r){return iT(t,e,e.segments,r)}function iT(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!ks(i,r)||e.hasChildren()||!nh(i,r,n))}else if(t.segments.length===r.length){if(!ks(t.segments,r)||!nh(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!rT(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!ks(t.segments,i)||!nh(t.segments,i,n)||!t.children[Je]?!1:iT(t.children[Je],e,o,n)}}function nh(t,e,r){return e.every((n,i)=>tT[r](t[i].parameters,n.parameters))}var Eo=class{constructor(e=new _t([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=au(this.queryParams),this._queryParamMap}toString(){return JO.serialize(this)}},_t=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rh(this)}},As=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=au(this.parameters),this._parameterMap}toString(){return aT(this)}};function XO(t,e){return ks(t,e)&&t.every((r,n)=>Vi(r.parameters,e[n].parameters))}function ks(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function QO(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===Je&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==Je&&(r=r.concat(e(i,n)))}),r}var Od=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:()=>new su,providedIn:"root"});let t=e;return t})(),su=class{parse(e){let r=new b_(e);return new Eo(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${hd(e.root,!0)}`,n=tP(e.queryParams),i=typeof e.fragment=="string"?`#${ZO(e.fragment)}`:"";return`${r}${n}${i}`}},JO=new su;function rh(t){return t.segments.map(e=>aT(e)).join("/")}function hd(t,e){if(!t.hasChildren())return rh(t);if(e){let r=t.children[Je]?hd(t.children[Je],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Je&&n.push(`${i}:${hd(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=QO(t,(n,i)=>i===Je?[hd(t.children[Je],!1)]:[`${i}:${hd(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Je]!=null?`${rh(t)}/${r[0]}`:`${rh(t)}/(${r.join("//")})`}}function oT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eh(t){return oT(t).replace(/%3B/gi,";")}function ZO(t){return encodeURI(t)}function y_(t){return oT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ih(t){return decodeURIComponent(t)}function HS(t){return ih(t.replace(/\+/g,"%20"))}function aT(t){return`${y_(t.path)}${eP(t.parameters)}`}function eP(t){return Object.entries(t).map(([e,r])=>`;${y_(e)}=${y_(r)}`).join("")}function tP(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${eh(r)}=${eh(i)}`).join("&"):`${eh(r)}=${eh(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var nP=/^[^\/()?;#]+/;function h_(t){let e=t.match(nP);return e?e[0]:""}var rP=/^[^\/()?;=#]+/;function iP(t){let e=t.match(rP);return e?e[0]:""}var oP=/^[^=?&#]+/;function aP(t){let e=t.match(oP);return e?e[0]:""}var sP=/^[^&#]+/;function cP(t){let e=t.match(sP);return e?e[0]:""}var b_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[Je]=new _t(e,r)),n}parseSegment(){let e=h_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new mt(4009,!1);return this.capture(e),new As(ih(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=iP(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=h_(this.remaining);i&&(n=i,this.capture(n))}e[ih(r)]=ih(n)}parseQueryParam(e){let r=aP(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let a=cP(this.remaining);a&&(n=a,this.capture(n))}let i=HS(r),o=HS(n);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=h_(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new mt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Je);let a=this.parseChildren();r[o]=Object.keys(a).length===1?a[Je]:new _t([],a),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new mt(4011,!1)}};function sT(t){return t.segments.length>0?new _t([],{[Je]:t}):t}function cT(t){let e={};for(let[n,i]of Object.entries(t.children)){let o=cT(i);if(n===Je&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let r=new _t(t.segments,e);return uP(r)}function uP(t){if(t.numberOfChildren===1&&t.children[Je]){let e=t.children[Je];return new _t(t.segments.concat(e.segments),e.children)}return t}function Fs(t){return t instanceof Eo}function lP(t,e,r=null,n=null){let i=uT(t);return lT(i,e,r,n)}function uT(t){let e;function r(o){let a={};for(let c of o.children){let u=r(c);a[c.outlet]=u}let s=new _t(o.url,a);return o===t&&(e=s),s}let n=r(t.root),i=sT(n);return e??i}function lT(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return m_(i,i,i,r,n);let o=dP(e);if(o.toRoot())return m_(i,i,new _t([],{}),r,n);let a=fP(o,i,t),s=a.processChildren?vd(a.segmentGroup,a.index,o.commands):fT(a.segmentGroup,a.index,o.commands);return m_(i,a.segmentGroup,s,r,n)}function oh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yd(t){return typeof t=="object"&&t!=null&&t.outlets}function m_(t,e,r,n,i){let o={};n&&Object.entries(n).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let a;t===e?a=r:a=dT(t,e,r);let s=sT(cT(a));return new Eo(s,o,i)}function dT(t,e,r){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===e?n[i]=r:n[i]=dT(o,e,r)}),new _t(t.segments,n)}var ah=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&oh(n[0]))throw new mt(4003,!1);let i=n.find(yd);if(i&&i!==eT(n))throw new mt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ah(!0,0,t);let e=0,r=!1,n=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,u])=>{s[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?r=!0:s===".."?e++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new ah(r,e,n)}var ru=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function fP(t,e,r){if(t.isAbsolute)return new ru(e,!0,0);if(!r)return new ru(e,!1,NaN);if(r.parent===null)return new ru(r,!0,0);let n=oh(t.commands[0])?0:1,i=r.segments.length-1+n;return pP(r,i,t.numberOfDoubleDots)}function pP(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new mt(4005,!1);i=n.segments.length}return new ru(n,!1,i-o)}function hP(t){return yd(t[0])?t[0].outlets:{[Je]:t}}function fT(t,e,r){if(t??=new _t([],{}),t.segments.length===0&&t.hasChildren())return vd(t,e,r);let n=mP(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new _t(t.segments.slice(0,n.pathIndex),{});return o.children[Je]=new _t(t.segments.slice(n.pathIndex),t.children),vd(o,0,i)}else return n.match&&i.length===0?new _t(t.segments,{}):n.match&&!t.hasChildren()?C_(t,e,r):n.match?vd(t,0,i):C_(t,e,r)}function vd(t,e,r){if(r.length===0)return new _t(t.segments,{});{let n=hP(r),i={};if(Object.keys(n).some(o=>o!==Je)&&t.children[Je]&&t.numberOfChildren===1&&t.children[Je].segments.length===0){let o=vd(t.children[Je],e,r);return new _t(t.segments,o.children)}return Object.entries(n).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=fT(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{n[o]===void 0&&(i[o]=a)}),new _t(t.segments,i)}}function mP(t,e,r){let n=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;let a=t.segments[i],s=r[n];if(yd(s))break;let c=`${s}`,u=n<r.length-1?r[n+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!qS(c,u,a))return o;n+=2}else{if(!qS(c,{},a))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function C_(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let o=r[i];if(yd(o)){let c=gP(o.outlets);return new _t(n,c)}if(i===0&&oh(r[0])){let c=t.segments[e];n.push(new As(c.path,zS(r[0]))),i++;continue}let a=yd(o)?o.outlets[Je]:`${o}`,s=i<r.length-1?r[i+1]:null;a&&s&&oh(s)?(n.push(new As(a,zS(s))),i+=2):(n.push(new As(a,{})),i++)}return new _t(n,{})}function gP(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=C_(new _t([],{}),0,n))}),e}function zS(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function qS(t,e,r){return t==r.path&&Vi(e,r.parameters)}var _d="imperative",Cn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Cn||{}),ii=class{constructor(e,r){this.id=e,this.url=r}},cu=class extends ii{constructor(e,r,n="imperative",i=null){super(e,r),this.type=Cn.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bi=class extends ii{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=Cn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ar=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ar||{}),sh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sh||{}),_o=class extends ii{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Cn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ga=class extends ii{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Cn.NavigationSkipped}},bd=class extends ii{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=Cn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ch=class extends ii{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Cn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},S_=class extends ii{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Cn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},T_=class extends ii{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=Cn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},x_=class extends ii{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Cn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},N_=class extends ii{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Cn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},D_=class{constructor(e){this.route=e,this.type=Cn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},I_=class{constructor(e){this.route=e,this.type=Cn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},O_=class{constructor(e){this.snapshot=e,this.type=Cn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},P_=class{constructor(e){this.snapshot=e,this.type=Cn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},w_=class{constructor(e){this.snapshot=e,this.type=Cn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},M_=class{constructor(e){this.snapshot=e,this.type=Cn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n,this.type=Cn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Cd=class{},uu=class{constructor(e,r){this.url=e,this.navigationBehaviorOptions=r}};function vP(t,e){return t.providers&&!t._injector&&(t._injector=qv(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ci(t){return t.outlet||Je}function _P(t,e){let r=t.filter(n=>Ci(n)===e);return r.push(...t.filter(n=>Ci(n)!==e)),r}function Pd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var R_=class{get injector(){return Pd(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new wd(this.rootInjector),this.attachRef=null}},wd=(()=>{let e=class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new R_(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)(ce(Ns))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=A_(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=A_(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=k_(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return k_(e,this._root).map(r=>r.value)}};function A_(t,e){if(t===e.value)return e;for(let r of e.children){let n=A_(t,r);if(n)return n}return null}function k_(t,e){if(t===e.value)return[e];for(let r of e.children){let n=k_(t,r);if(n.length)return n.unshift(e),n}return[]}var Rr=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function nu(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var dh=class extends lh{constructor(e,r){super(e),this.snapshot=r,H_(this,e)}toString(){return this.snapshot.toString()}};function pT(t){let e=EP(t),r=new ln([new As("",{})]),n=new ln({}),i=new ln({}),o=new ln({}),a=new ln(""),s=new Jt(r,n,o,a,i,Je,t,e.root);return s.snapshot=e.root,new dh(new Rr(s,[]),e)}function EP(t){let e={},r={},n={},i="",o=new iu([],e,n,i,r,Je,t,null,{});return new ph("",new Rr(o,[]))}var Jt=class{constructor(e,r,n,i,o,a,s,c){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Re(u=>u[Id]))??Ue(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Re(e=>au(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Re(e=>au(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fh(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:oe(oe({},e.params),t.params),data:oe(oe({},e.data),t.data),resolve:oe(oe(oe(oe({},t.data),e.data),i?.data),t._resolvedData)}:n={params:oe({},t.params),data:oe({},t.data),resolve:oe(oe({},t.data),t._resolvedData??{})},i&&mT(i)&&(n.resolve[Id]=i.title),n}var iu=class{get title(){return this.data?.[Id]}constructor(e,r,n,i,o,a,s,c,u){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=au(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=au(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},ph=class extends lh{constructor(e,r){super(r),this.url=e,H_(this,r)}toString(){return hT(this._root)}};function H_(t,e){e.value._routerState=t,e.children.forEach(r=>H_(t,r))}function hT(t){let e=t.children.length>0?` { ${t.children.map(hT).join(", ")} } `:"";return`${t.value}${e}`}function g_(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Vi(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Vi(e.params,r.params)||t.paramsSubject.next(r.params),qO(e.url,r.url)||t.urlSubject.next(r.url),Vi(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function F_(t,e){let r=Vi(t.params,e.params)&&XO(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||F_(t.parent,e.parent))}function mT(t){return typeof t.title=="string"||t.title===null}var Ls=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new ti,this.deactivateEvents=new ti,this.attachEvents=new ti,this.detachEvents=new ti,this.parentContexts=le(wd),this.location=le(PC),this.changeDetector=le(Os),this.inputBinder=le(vh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new mt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new mt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new mt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new mt(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new L_(n,c,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=wt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[la]});let t=e;return t})(),L_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===Jt?this.route:e===wd?this.childContexts:this.parent.get(e,r)}},vh=new it(""),$S=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,o=Op([i.queryParams,i.params,i.data]).pipe(Zn(([a,s,c],u)=>(c=oe(oe(oe({},a),s),c),u===0?Ue(c):Promise.resolve(c)))).subscribe(a=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=WC(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of s.inputs)n.activatedComponentRef.setInput(c,a[c])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})();function yP(t,e,r){let n=Sd(t,e._root,r?r._root:void 0);return new dh(n,e)}function Sd(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=bP(t,e,r);return new Rr(n,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Sd(t,s)),a}}let n=CP(e.value),i=e.children.map(o=>Sd(t,o));return new Rr(n,i)}}function bP(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Sd(t,n,i);return Sd(t,n)})}function CP(t){return new Jt(new ln(t.url),new ln(t.params),new ln(t.queryParams),new ln(t.fragment),new ln(t.data),t.outlet,t.component,t)}var Td=class{constructor(e,r){this.redirectTo=e,this.navigationBehaviorOptions=r}},gT="ngNavigationCancelingError";function hh(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=Fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vT(!1,Ar.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function vT(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[gT]=!0,r.cancellationCode=e,r}function SP(t){return _T(t)&&Fs(t.url)}function _T(t){return!!t&&t[gT]}var TP=(t,e,r,n)=>Re(i=>(new U_(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),U_=class{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),g_(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=nu(r);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],n),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(i===o)if(i.component){let a=n.getContext(i.outlet);a&&this.deactivateChildRoutes(e,r,a.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=nu(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(n&&n.outlet){let a=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=nu(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=nu(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new M_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new P_(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(g_(i),i===o)if(i.component){let a=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,a.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),g_(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,n)}},mh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ou=class{constructor(e,r){this.component=e,this.route=r}};function xP(t,e,r){let n=t._root,i=e?e._root:null;return md(n,i,r,[n.value])}function NP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function du(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!hC(t)?t:e.get(t):n}function md(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=nu(e);return t.children.forEach(a=>{DP(a,o[a.value.outlet],r,n.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Ed(s,r.getContext(a),i)),i}function DP(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,s=r?r.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=IP(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new mh(n)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?md(t,e,s?s.children:null,n,i):md(t,e,r,n,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new ou(s.outlet.component,a))}else a&&Ed(e,s,i),i.canActivateChecks.push(new mh(n)),o.component?md(t,null,s?s.children:null,n,i):md(t,null,r,n,i);return i}function IP(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!ks(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ks(t.url,e.url)||!Vi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!F_(t,e)||!Vi(t.queryParams,e.queryParams);case"paramsChange":default:return!F_(t,e)}}function Ed(t,e,r){let n=nu(t),i=t.value;Object.entries(n).forEach(([o,a])=>{i.component?e?Ed(a,e.children.getContext(o),r):Ed(a,null,r):Ed(a,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new ou(e.outlet.component,i)):r.canDeactivateChecks.push(new ou(null,i)):r.canDeactivateChecks.push(new ou(null,i))}function Md(t){return typeof t=="function"}function OP(t){return typeof t=="boolean"}function PP(t){return t&&Md(t.canLoad)}function wP(t){return t&&Md(t.canActivate)}function MP(t){return t&&Md(t.canActivateChild)}function RP(t){return t&&Md(t.canDeactivate)}function AP(t){return t&&Md(t.canMatch)}function ET(t){return t instanceof aC||t?.name==="EmptyError"}var th=Symbol("INITIAL_VALUE");function lu(){return Zn(t=>Op(t.map(e=>e.pipe(qc(1),fC(th)))).pipe(Re(e=>{for(let r of e)if(r!==!0){if(r===th)return th;if(r===!1||kP(r))return r}return!0}),po(e=>e!==th),qc(1)))}function kP(t){return Fs(t)||t instanceof Td}function FP(t,e){return Pr(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=r;return a.length===0&&o.length===0?Ue(ft(oe({},r),{guardsResult:!0})):LP(a,n,i,t).pipe(Pr(s=>s&&OP(s)?UP(n,o,t,e):Ue(s)),Re(s=>ft(oe({},r),{guardsResult:s})))})}function LP(t,e,r,n){return Mn(t).pipe(Pr(i=>GP(i.component,i.route,r,e,n)),ca(i=>i!==!0,!0))}function UP(t,e,r,n){return Mn(e).pipe(sa(i=>sC(VP(i.route.parent,n),YP(i.route,n),jP(t,i.path,r),BP(t,i.route,r))),ca(i=>i!==!0,!0))}function YP(t,e){return t!==null&&e&&e(new w_(t)),Ue(!0)}function VP(t,e){return t!==null&&e&&e(new O_(t)),Ue(!0)}function BP(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return Ue(!0);let i=n.map(o=>Fv(()=>{let a=Pd(e)??r,s=du(o,a),c=wP(s)?s.canActivate(e,t):Zr(a,()=>s(e,t));return va(c).pipe(ca())}));return Ue(i).pipe(lu())}function jP(t,e,r){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>NP(a)).filter(a=>a!==null).map(a=>Fv(()=>{let s=a.guards.map(c=>{let u=Pd(a.node)??r,l=du(c,u),p=MP(l)?l.canActivateChild(n,t):Zr(u,()=>l(n,t));return va(p).pipe(ca())});return Ue(s).pipe(lu())}));return Ue(o).pipe(lu())}function GP(t,e,r,n,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ue(!0);let a=o.map(s=>{let c=Pd(e)??i,u=du(s,c),l=RP(u)?u.canDeactivate(t,e,r,n):Zr(c,()=>u(t,e,r,n));return va(l).pipe(ca())});return Ue(a).pipe(lu())}function HP(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return Ue(!0);let o=i.map(a=>{let s=du(a,t),c=PP(s)?s.canLoad(e,r):Zr(t,()=>s(e,r));return va(c)});return Ue(o).pipe(lu(),yT(n))}function yT(t){return iC(Ct(e=>{if(typeof e!="boolean")throw hh(t,e)}),Re(e=>e===!0))}function zP(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return Ue(!0);let o=i.map(a=>{let s=du(a,t),c=AP(s)?s.canMatch(e,r):Zr(t,()=>s(e,r));return va(c)});return Ue(o).pipe(lu(),yT(n))}var xd=class{constructor(e){this.segmentGroup=e||null}},Nd=class extends Error{constructor(e){super(),this.urlTree=e}};function tu(t){return xs(new xd(t))}function qP(t){return xs(new mt(4e3,!1))}function $P(t){return xs(vT(!1,Ar.GuardRejected))}var Y_=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return Ue(n);if(i.numberOfChildren>1||!i.children[Je])return qP(`${e.redirectTo}`);i=i.children[Je]}}applyRedirectCommands(e,r,n,i,o){if(typeof r!="string"){let s=r,{queryParams:c,fragment:u,routeConfig:l,url:p,outlet:m,params:h,data:g,title:E}=i,_=Zr(o,()=>s({params:h,data:g,queryParams:c,fragment:u,routeConfig:l,url:p,outlet:m,title:E}));if(_ instanceof Eo)throw new Nd(_);r=_}let a=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r[0]==="/")throw new Nd(a);return a}applyRedirectCreateUrlTree(e,r,n,i){let o=this.createSegmentGroup(e,r.root,n,i);return new Eo(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);n[i]=r[s]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){let o=this.createSegments(e,r.segments,n,i),a={};return Object.entries(r.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,n,i)}),new _t(o,a)}createSegments(e,r,n,i){return r.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new mt(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},V_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WP(t,e,r,n,i){let o=bT(t,e,r);return o.matched?(n=vP(e,n),zP(n,e,r,i).pipe(Re(a=>a===!0?o:oe({},V_)))):Ue(o)}function bT(t,e,r){if(e.path==="**")return KP(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?oe({},V_):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zO)(r,t,e);if(!i)return oe({},V_);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?oe(oe({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function KP(t){return{matched:!0,parameters:t.length>0?eT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function WS(t,e,r,n){return r.length>0&&JP(t,r,n)?{segmentGroup:new _t(e,QP(n,new _t(r,t.children))),slicedSegments:[]}:r.length===0&&ZP(t,r,n)?{segmentGroup:new _t(t.segments,XP(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new _t(t.segments,t.children),slicedSegments:r}}function XP(t,e,r,n){let i={};for(let o of r)if(_h(t,e,o)&&!n[Ci(o)]){let a=new _t([],{});i[Ci(o)]=a}return oe(oe({},n),i)}function QP(t,e){let r={};r[Je]=e;for(let n of t)if(n.path===""&&Ci(n)!==Je){let i=new _t([],{});r[Ci(n)]=i}return r}function JP(t,e,r){return r.some(n=>_h(t,e,n)&&Ci(n)!==Je)}function ZP(t,e,r){return r.some(n=>_h(t,e,n))}function _h(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function ew(t,e,r){return e.length===0&&!t.children[r]}var B_=class{};function tw(t,e,r,n,i,o,a="emptyOnly"){return new j_(t,e,r,n,i,a,o).recognize()}var nw=31,j_=class{constructor(e,r,n,i,o,a,s){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Y_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new mt(4002,`'${e.segmentGroup}'`)}recognize(){let e=WS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Re(({children:r,rootSnapshot:n})=>{let i=new Rr(n,r),o=new ph("",i),a=lP(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let r=new iu([],Object.freeze({}),Object.freeze(oe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Je,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Je,r).pipe(Re(n=>({children:n,rootSnapshot:r})),aa(n=>{if(n instanceof Nd)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof xd?this.noMatchError(n):n}))}processSegmentGroup(e,r,n,i,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n,o):this.processSegment(e,r,n,n.segments,i,!0,o).pipe(Re(a=>a instanceof Rr?[a]:[]))}processChildren(e,r,n,i){let o=[];for(let a of Object.keys(n.children))a==="primary"?o.unshift(a):o.push(a);return Mn(o).pipe(sa(a=>{let s=n.children[a],c=_P(r,a);return this.processSegmentGroup(e,c,s,a,i)}),dC((a,s)=>(a.push(...s),a)),Lv(null),lC(),Pr(a=>{if(a===null)return tu(n);let s=CT(a);return rw(s),Ue(s)}))}processSegment(e,r,n,i,o,a,s){return Mn(r).pipe(sa(c=>this.processSegmentAgainstRoute(c._injector??e,r,c,n,i,o,a,s).pipe(aa(u=>{if(u instanceof xd)return Ue(null);throw u}))),ca(c=>!!c),aa(c=>{if(ET(c))return ew(n,i,o)?Ue(new B_):tu(n);throw c}))}processSegmentAgainstRoute(e,r,n,i,o,a,s,c){return Ci(n)!==a&&(a===Je||!_h(i,o,n))?tu(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,a,c):tu(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,a,s){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:p,remainingSegments:m}=bT(r,i,o);if(!c)return tu(r);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nw&&(this.allowRedirects=!1));let h=new iu(o,u,Object.freeze(oe({},this.urlTree.queryParams)),this.urlTree.fragment,KS(i),Ci(i),i.component??i._loadedComponent??null,i,XS(i)),g=fh(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let E=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,p,h,e);return this.applyRedirects.lineralizeSegments(i,E).pipe(Pr(_=>this.processSegment(e,n,r,_.concat(m),a,!1,s)))}matchSegmentAgainstRoute(e,r,n,i,o,a){let s=WP(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),s.pipe(Zn(c=>c.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(Zn(({routes:u})=>{let l=n._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:h}=c,g=new iu(m,p,Object.freeze(oe({},this.urlTree.queryParams)),this.urlTree.fragment,KS(n),Ci(n),n.component??n._loadedComponent??null,n,XS(n)),E=fh(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(E.params),g.data=Object.freeze(E.data);let{segmentGroup:_,slicedSegments:y}=WS(r,m,h,u);if(y.length===0&&_.hasChildren())return this.processChildren(l,u,_,g).pipe(Re(w=>new Rr(g,w)));if(u.length===0&&y.length===0)return Ue(new Rr(g,[]));let x=Ci(n)===o;return this.processSegment(l,u,_,y,x?Je:o,!0,g).pipe(Re(w=>new Rr(g,w instanceof Rr?[w]:[])))}))):tu(r)))}getChildConfig(e,r,n){return r.children?Ue({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?Ue({routes:r._loadedRoutes,injector:r._loadedInjector}):HP(e,r,n,this.urlSerializer).pipe(Pr(i=>i?this.configLoader.loadChildren(e,r).pipe(Ct(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):$P(r))):Ue({routes:[],injector:e})}};function rw(t){t.sort((e,r)=>e.value.outlet===Je?-1:r.value.outlet===Je?1:e.value.outlet.localeCompare(r.value.outlet))}function iw(t){let e=t.value.routeConfig;return e&&e.path===""}function CT(t){let e=[],r=new Set;for(let n of t){if(!iw(n)){e.push(n);continue}let i=e.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=CT(n.children);e.push(new Rr(n.value,i))}return e.filter(n=>!r.has(n))}function KS(t){return t.data||{}}function XS(t){return t.resolve||{}}function ow(t,e,r,n,i,o){return Pr(a=>tw(t,e,r,n,a.extractedUrl,i,o).pipe(Re(({state:s,tree:c})=>ft(oe({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function aw(t,e){return Pr(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return Ue(r);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let u of ST(c))a.add(u);let s=0;return Mn(a).pipe(sa(c=>o.has(c)?sw(c,n,t,e):(c.data=fh(c,c.parent,t).resolve,Ue(void 0))),Ct(()=>s++),Uv(1),Pr(c=>s===a.size?Ue(r):oa))})}function ST(t){let e=t.children.map(r=>ST(r)).flat();return[t,...e]}function sw(t,e,r,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!mT(i)&&(o[Id]=i.title),cw(o,t,e,n).pipe(Re(a=>(t._resolvedData=a,t.data=fh(t,t.parent,r).resolve,null)))}function cw(t,e,r,n){let i=E_(t);if(i.length===0)return Ue({});let o={};return Mn(i).pipe(Pr(a=>uw(t[a],e,r,n).pipe(ca(),Ct(s=>{if(s instanceof Td)throw hh(new su,s);o[a]=s}))),Uv(1),uC(o),aa(a=>ET(a)?oa:xs(a)))}function uw(t,e,r,n){let i=Pd(e)??n,o=du(t,i),a=o.resolve?o.resolve(e,r):Zr(i,()=>o(e,r));return va(a)}function v_(t){return Zn(e=>{let r=t(e);return r?Mn(r).pipe(Re(()=>e)):Ue(e)})}var TT=(()=>{let e=class e{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(a=>a.outlet===Je);return i}getResolvedTitleForRoute(n){return n.data[Id]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:()=>le(lw),providedIn:"root"});let t=e;return t})(),lw=(()=>{let e=class e extends TT{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ce(VS))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rd=new it("",{providedIn:"root",factory:()=>({})}),dw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["ng-component"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(i,o){i&1&&re(0,"router-outlet")},dependencies:[Ls],encapsulation:2});let t=e;return t})();function z_(t){let e=t.children&&t.children.map(z_),r=e?ft(oe({},t),{children:e}):oe({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Je&&(r.component=dw),r}var Dd=new it(""),q_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=le(Yp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ue(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=va(n.loadComponent()).pipe(Re(xT),Ct(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),$c(()=>{this.componentLoaders.delete(n)})),o=new Av(i,()=>new bn).pipe(Rv());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ue({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=fw(i,this.compiler,n,this.onLoadEndListener).pipe($c(()=>{this.childrenLoaders.delete(i)})),s=new Av(a,()=>new bn).pipe(Rv());return this.childrenLoaders.set(i,s),s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fw(t,e,r,n){return va(t.loadChildren()).pipe(Re(xT),Pr(i=>i instanceof MC||Array.isArray(i)?Ue(i):Mn(e.compileModuleAsync(i))),Re(i=>{n&&n(t);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(r).injector,a=o.get(Dd,[],{optional:!0,self:!0}).flat()),{routes:a.map(z_),injector:o}}))}function pw(t){return t&&typeof t=="object"&&"default"in t}function xT(t){return pw(t)?t.default:t}var $_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:()=>le(hw),providedIn:"root"});let t=e;return t})(),hw=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NT=new it(""),DT=new it("");function mw(t,e,r){let n=t.get(DT),i=t.get(Bt);return t.get(dn).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,a=new Promise(u=>{o=u}),s=i.startViewTransition(()=>(o(),gw(t))),{onViewTransitionCreated:c}=n;return c&&Zr(t,()=>c({transition:s,from:e,to:r})),a})}function gw(t){return new Promise(e=>{RC({read:()=>setTimeout(e)},{injector:t})})}var vw=new it(""),W_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bn,this.transitionAbortSubject=new bn,this.configLoader=le(q_),this.environmentInjector=le(Ns),this.urlSerializer=le(Od),this.rootContexts=le(wd),this.location=le(rd),this.inputBindingEnabled=le(vh,{optional:!0})!==null,this.titleStrategy=le(TT),this.options=le(Rd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=le($_),this.createViewTransition=le(NT,{optional:!0}),this.navigationErrorHandler=le(vw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ue(void 0),this.rootComponentType=null;let n=o=>this.events.next(new D_(o)),i=o=>this.events.next(new I_(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(ft(oe(oe({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new ln({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:_d,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(po(a=>a.id!==0),Re(a=>ft(oe({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Zn(a=>{let s=!1,c=!1;return Ue(a).pipe(Zn(u=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Ar.SupersededByNewNavigation),oa;this.currentTransition=a,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ft(oe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&p!=="reload"){let m="";return this.events.next(new ga(u.id,this.urlSerializer.serialize(u.rawUrl),m,sh.IgnoredSameUrlNavigation)),u.resolve(!1),oa}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Ue(u).pipe(Zn(m=>{let h=this.transitions?.getValue();return this.events.next(new cu(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),h!==this.transitions?.getValue()?oa:Promise.resolve(m)}),ow(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ct(m=>{a.targetSnapshot=m.targetSnapshot,a.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ft(oe({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let h=new ch(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:h,source:g,restoredState:E,extras:_}=u,y=new cu(m,this.urlSerializer.serialize(h),g,E);this.events.next(y);let x=pT(this.rootComponentType).snapshot;return this.currentTransition=a=ft(oe({},u),{targetSnapshot:x,urlAfterRedirects:h,extras:ft(oe({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Ue(a)}else{let m="";return this.events.next(new ga(u.id,this.urlSerializer.serialize(u.extractedUrl),m,sh.IgnoredByUrlHandlingStrategy)),u.resolve(!1),oa}}),Ct(u=>{let l=new S_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Re(u=>(this.currentTransition=a=ft(oe({},u),{guards:xP(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),a)),FP(this.environmentInjector,u=>this.events.next(u)),Ct(u=>{if(a.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw hh(this.urlSerializer,u.guardsResult);let l=new T_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),po(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ar.GuardRejected),!1)),v_(u=>{if(u.guards.canActivateChecks.length)return Ue(u).pipe(Ct(l=>{let p=new x_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}),Zn(l=>{let p=!1;return Ue(l).pipe(aw(this.paramsInheritanceStrategy,this.environmentInjector),Ct({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(l,"",Ar.NoDataFromResolver)}}))}),Ct(l=>{let p=new N_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}))}),v_(u=>{let l=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ct(h=>{p.component=h}),Re(()=>{})));for(let h of p.children)m.push(...l(h));return m};return Op(l(u.targetSnapshot.root)).pipe(Lv(null),qc(1))}),v_(()=>this.afterPreactivation()),Zn(()=>{let{currentSnapshot:u,targetSnapshot:l}=a,p=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return p?Mn(p).pipe(Re(()=>a)):Ue(a)}),Re(u=>{let l=yP(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=a=ft(oe({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,a}),Ct(()=>{this.events.next(new Cd)}),TP(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),qc(1),Ct({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),pC(this.transitionAbortSubject.pipe(Ct(u=>{throw u}))),$c(()=>{!s&&!c&&this.cancelNavigationTransition(a,"",Ar.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),aa(u=>{if(c=!0,_T(u))this.events.next(new _o(a.id,this.urlSerializer.serialize(a.extractedUrl),u.message,u.cancellationCode)),SP(u)?this.events.next(new uu(u.url,u.navigationBehaviorOptions)):a.resolve(!1);else{let l=new bd(a.id,this.urlSerializer.serialize(a.extractedUrl),u,a.targetSnapshot??void 0);try{let p=Zr(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(p instanceof Td){let{message:m,cancellationCode:h}=hh(this.urlSerializer,p);this.events.next(new _o(a.id,this.urlSerializer.serialize(a.extractedUrl),m,h)),this.events.next(new uu(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(l);let m=n.errorHandler(u);a.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(p)}}return oa}))}))}cancelNavigationTransition(n,i,o){let a=new _o(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(a),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _w(t){return t!==_d}var Ew=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:()=>le(yw),providedIn:"root"});let t=e;return t})(),G_=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},yw=(()=>{let e=class e extends G_{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:()=>le(bw),providedIn:"root"});let t=e;return t})(),bw=(()=>{let e=class e extends IT{constructor(){super(...arguments),this.location=le(rd),this.urlSerializer=le(Od),this.options=le(Rd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=le($_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Eo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof cu)this.stateMemento=this.createStateMemento();else if(n instanceof ga)this.rawUrlTree=i.initialUrl;else if(n instanceof ch){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else n instanceof Cd?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof _o&&(n.code===Ar.GuardRejected||n.code===Ar.NoDataFromResolver)?this.restoreHistory(i):n instanceof bd?this.restoreHistory(i,!0):n instanceof Bi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=n instanceof Eo?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let a=this.browserPageId,s=oe(oe({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(o,"",s)}else{let a=oe(oe({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===n.finalUrl&&a===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(gd||{});function OT(t,e){t.events.pipe(po(r=>r instanceof Bi||r instanceof _o||r instanceof bd||r instanceof ga),Re(r=>r instanceof Bi||r instanceof ga?gd.COMPLETE:(r instanceof _o?r.code===Ar.Redirect||r.code===Ar.SupersededByNewNavigation:!1)?gd.REDIRECTING:gd.FAILED),po(r=>r!==gd.REDIRECTING),qc(1)).subscribe(()=>{e()})}function Cw(t){throw t}var Sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},De=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=le(kp),this.stateManager=le(IT),this.options=le(Rd,{optional:!0})||{},this.pendingTasks=le(Pp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=le(W_),this.urlSerializer=le(Od),this.location=le(rd),this.urlHandlingStrategy=le($_),this._events=new bn,this.errorHandler=this.options.errorHandler||Cw,this.navigated=!1,this.routeReuseStrategy=le(Ew),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=le(Dd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!le(vh,{optional:!0}),this.eventsSubscription=new rC,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof _o&&i.code!==Ar.Redirect&&i.code!==Ar.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bi)this.navigated=!0;else if(i instanceof uu){let s=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u=oe({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_w(o.source)},s);this.scheduleNavigation(c,_d,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Nw(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_d,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let a={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let u=oe({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(a.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,i,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(z_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:a,fragment:s,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:s,p=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":p=oe(oe({},this.currentUrlTree.queryParams),a);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=a||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let h=o?o.snapshot:this.routerState.snapshot.root;m=uT(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return lT(m,n,p,l??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=Fs(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,_d,null,i)}navigate(n,i={skipLocationChange:!1}){return xw(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=oe({},Sw):i===!1?o=oe({},Tw):o=i,Fs(n))return GS(this.currentUrlTree,n,o);let a=this.parseUrl(n);return GS(this.currentUrlTree,a,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,a])=>(a!=null&&(i[o]=a),i),{})}scheduleNavigation(n,i,o,a,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((m,h)=>{c=m,u=h});let p=this.pendingTasks.add();return OT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:a,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xw(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new mt(4008,!1)}function Nw(t){return!(t instanceof Cd)&&!(t instanceof uu)}var oi=(()=>{let e=class e{constructor(n,i,o,a,s,c){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=a,this.el=s,this.locationStrategy=c,this.href=null,this.onChanges=new bn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fs(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,o,a,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||i||o||a||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:DC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let o=this.renderer,a=this.el.nativeElement;i!==null?o.setAttribute(a,n,i):o.removeAttribute(a,n)}get urlTree(){return this.routerLinkInput===null?null:Fs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(M(De),M(Jt),vC("tabindex"),M(Ds),M(fa),M(nd))},e.\u0275dir=wt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&ae("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&ni("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ps],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ps],replaceUrl:[2,"replaceUrl","replaceUrl",Ps],routerLink:"routerLink"},standalone:!0,features:[wC,la]});let t=e;return t})();var gh=class{};var Dw=(()=>{let e=class e{constructor(n,i,o,a,s){this.router=n,this.injector=o,this.preloadingStrategy=a,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(po(n=>n instanceof Bi),sa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let o=[];for(let a of i){a.providers&&!a._injector&&(a._injector=qv(a.providers,n,`Route: ${a.path}`));let s=a._injector??n,c=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(c,a.children??a._loadedRoutes))}return Mn(o).pipe(kv())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(n,i):o=Ue(null);let a=o.pipe(Pr(s=>s===null?Ue(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Mn([a,s]).pipe(kv())}else return a})}};e.\u0275fac=function(i){return new(i||e)(ce(De),ce(Yp),ce(Ns),ce(gh),ce(q_))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PT=new it(""),Iw=(()=>{let e=class e{constructor(n,i,o,a,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=a,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof cu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Bi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ga&&n.code===sh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof uh&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uh(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Mp()},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})();function wT(t,...e){return Fi([{provide:Dd,multi:!0,useValue:t},[],{provide:Jt,useFactory:MT,deps:[De]},{provide:td,multi:!0,useFactory:RT},e.map(r=>r.\u0275providers)])}function MT(t){return t.routerState.root}function Ad(t,e){return{\u0275kind:t,\u0275providers:e}}function RT(){let t=le(da);return e=>{let r=t.get(go);if(e!==r.components[0])return;let n=t.get(De),i=t.get(AT);t.get(K_)===1&&n.initialNavigation(),t.get(kT,null,Yv.Optional)?.setUpPreloading(),t.get(PT,null,Yv.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AT=new it("",{factory:()=>new bn}),K_=new it("",{providedIn:"root",factory:()=>1});function Ow(){return Ad(2,[{provide:K_,useValue:0},{provide:Xv,multi:!0,deps:[da],useFactory:e=>{let r=e.get(QC,Promise.resolve());return()=>r.then(()=>new Promise(n=>{let i=e.get(De),o=e.get(AT);OT(i,()=>{n(!0)}),e.get(W_).afterPreactivation=()=>(n(!0),o.closed?Ue(void 0):o),i.initialNavigation()}))}}])}function Pw(){return Ad(3,[{provide:Xv,multi:!0,useFactory:()=>{let e=le(De);return()=>{e.setUpLocationChangeListener()}}},{provide:K_,useValue:2}])}var kT=new it("");function ww(t){return Ad(0,[{provide:kT,useExisting:Dw},{provide:gh,useExisting:t}])}function Mw(){return Ad(8,[$S,{provide:vh,useExisting:$S}])}function Rw(t){let e=[{provide:NT,useValue:mw},{provide:DT,useValue:oe({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ad(9,e)}var QS=new it("ROUTER_FORROOT_GUARD"),Aw=[rd,{provide:Od,useClass:su},De,wd,{provide:Jt,useFactory:MT,deps:[De]},q_,[]],Et=(()=>{let e=class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[Aw,[],{provide:Dd,multi:!0,useValue:n},{provide:QS,useFactory:Uw,deps:[[De,new Vv,new mC]]},{provide:Rd,useValue:i||{}},i?.useHash?Fw():Lw(),kw(),i?.preloadingStrategy?ww(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Yw(i):[],i?.bindToComponentInputs?Mw().\u0275providers:[],i?.enableViewTransitions?Rw().\u0275providers:[],Vw()]}}static forChild(n){return{ngModule:e,providers:[{provide:Dd,multi:!0,useValue:n}]}}};e.\u0275fac=function(i){return new(i||e)(ce(QS,8))},e.\u0275mod=tr({type:e}),e.\u0275inj=er({});let t=e;return t})();function kw(){return{provide:PT,useFactory:()=>{let t=le(nS),e=le(dn),r=le(Rd),n=le(W_),i=le(Od);return r.scrollOffset&&t.setOffset(r.scrollOffset),new Iw(i,n,t,e,r)}}}function Fw(){return{provide:nd,useClass:ZC}}function Lw(){return{provide:nd,useClass:JC}}function Uw(t){return"guarded"}function Yw(t){return[t.initialNavigation==="disabled"?Pw().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Ow().\u0275providers:[]]}var JS=new it("");function Vw(){return[{provide:JS,useFactory:RT},{provide:td,multi:!0,useExisting:JS}]}var Us=class extends Error{};Us.prototype.name="InvalidTokenError";function Bw(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function jw(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Bw(e)}catch{return atob(e)}}function Eh(t,e){if(typeof t!="string")throw new Us("Invalid token specified: must be a string");e||(e={});let r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new Us(`Invalid token specified: missing part #${r+1}`);let i;try{i=jw(n)}catch(o){throw new Us(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Us(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}var hr={production:!0,apiUrl:"https://bookshelfter152-a4gbbth2c2arf8fn.westeurope-01.azurewebsites.net/api"};var Gn=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl=hr.apiUrl+"/books"}getBooks(n=1,i=8){let o=new ri().set("PageNumber",n.toString()).set("PageSize",i.toString());return this.http.get(this.apiUrl,{params:o})}searchBooks(n){return this.http.get(`${this.apiUrl}/search`,{params:new ri().set("keyword",n)}).pipe(Re(i=>i.books))}getFeaturedBooks(){return this.http.get(`${this.apiUrl}/featured`).pipe(Re(n=>n.books))}getNewArrivals(){return this.http.get(`${this.apiUrl}/new-arrivals`).pipe(Re(n=>n.books))}getMostViewedBooks(){return this.http.get(`${this.apiUrl}/most-viewed`).pipe(Re(n=>n.books))}getBookById(n){return this.http.get(`${this.apiUrl}/${n}`).pipe(Re(i=>i.book))}getBookDetails(n){return this.http.get(`${this.apiUrl}/${n}/details`).pipe(Re(i=>i.book))}getRelatedBooks(n){return this.http.get(`${this.apiUrl}/related/${n}`).pipe(Re(i=>i.bookDtos))}getBooksByCategoryId(n,i,o){let a=`http://localhost:5287/api/Category/${n}/books`,s=new ri().set("PageNumber",i.toString()).set("PageSize",o.toString());return this.http.get(a,{params:s}).pipe(Re(c=>({totalProductCount:c.totalProductCount,books:c.booksDto})))}addBooks(n){return this.http.post(this.apiUrl,n)}updateBook(n){return this.http.put(`${this.apiUrl}/updateBook`,n)}uploadBookImage(n){return this.http.post(`${this.apiUrl}/uploadBookImage`,n)}deleteBook(n){return this.http.delete(`${this.apiUrl}/${n}`)}};e.\u0275fac=function(i){return new(i||e)(ce(nr))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Sn=(()=>{let e=class e{constructor(n,i){this.http=n,this.bookService=i,this.baseUrl=hr.apiUrl+"/Basket",this.basketSubject=new ln(null),this.basket$=this.basketSubject.asObservable(),this.basketItemCount=new ln(0),this.basketTotalPrice=new ln(0),this.basketItemCount$=this.basketItemCount.asObservable(),this.basketTotalPrice$=this.basketTotalPrice.asObservable()}loadBasket(n){this.http.get(`${this.baseUrl}/${n}`).pipe(Re(i=>!i||!i.basketItems?this.createBasket(n):this.mapBasketResponse(i,n)),Ct(i=>{this.basketSubject.next(i),this.updateBasketInfo(i)})).subscribe()}createBasket(n){return{id:n,userId:n,items:[],total:0}}addItemToBasket(n,i,o){debugger;return this.bookService.getBookById(n.toString()).pipe(Zn(a=>{let s=this.basketSubject.value;s||(s=this.createBasket(o),this.basketSubject.next(s));let c=s.items.find(u=>u.bookId===n);return c?(c.quantity+=i,c.totalPrice=c.quantity*c.price):s.items.push({bookId:n,productName:a.bookName,quantity:i,price:a.price,totalPrice:a.price*i,imageUrls:a.imageUrls||[]}),this.updateBasketInfo(s),this.http.post(`${this.baseUrl}/add-item`,{bookId:n,quantity:i,userId:o})}),Ct(()=>{this.loadBasket(o)}))}removeItemFromBasket(n,i){return this.http.delete(`${this.baseUrl}/remove-item`,{body:{bookId:n,userId:i}}).pipe(Ct(()=>this.loadBasket(i)))}clearBasket(n){return this.http.post(`${this.baseUrl}/clear`,{}).pipe(Ct(()=>{this.resetBasket(),this.updateBasketInfoFromServer(n)}))}getBasket(n){return this.http.get(`${this.baseUrl}/${n}`).pipe(Re(i=>this.mapBasketResponse(i,n)),Ct(i=>this.updateBasketInfo(i)))}mapBasketResponse(n,i){return{id:i,userId:i,items:n.basketItems.map(o=>this.mapBasketItem(o)),total:n.basketItems.reduce((o,a)=>o+a.unitPrice*a.quantity,0)}}mapBasketItem(n){return{bookId:n.bookId,productName:n.book.bookName,quantity:n.quantity,price:n.unitPrice,totalPrice:n.unitPrice*n.quantity,imageUrls:n.book.imageUrls||[]}}updateBasketInfo(n){let i=n.items||[],o=i.reduce((s,c)=>s+c.quantity,0),a=i.reduce((s,c)=>s+c.price*c.quantity,0);this.basketItemCount.next(o),this.basketTotalPrice.next(a)}updateBasketInfoFromServer(n){this.getBasket(n).subscribe(i=>{this.basketSubject.next(i),this.updateBasketInfo(i)})}resetBasket(){let n={id:"",userId:"",items:[],total:0};this.basketSubject.next(n),this.updateBasketInfo(n)}};e.\u0275fac=function(i){return new(i||e)(ce(nr),ce(Gn))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tt=(()=>{let e=class e{constructor(n,i,o,a){this.http=n,this.platformId=i,this.basketService=o,this.router=a,this.isLoggedInSubject=new ln(!1),this.isLoggedIn$=this.isLoggedInSubject.asObservable(),this.baseUrl=hr.apiUrl+"/Auth";let s=this.getUserName();if(this.currentUserSubject=new ln(s),this.currentUser$=this.currentUserSubject.asObservable(),pa(this.platformId)){let c=this.getToken()}}login(n,i){return this.http.post(`${this.baseUrl}/login`,{userName:n,password:i}).pipe(Ct(o=>{if(pa(this.platformId)&&o.token.accessToken){localStorage.setItem("accessToken",o.token.accessToken),localStorage.setItem("refreshToken",o.token.refreshToken),this.currentUserSubject.next(this.getUserName());let a=this.getUserId();a&&this.basketService.loadBasket(a),this.router.navigate(["/home"])}}))}googleLogin(n){return this.http.post("http://localhost:5287/api/Auth/google-login",{idToken:n})}getUserName(){if(pa(this.platformId)){let n=localStorage.getItem("accessToken");if(n)return Eh(n).unique_name||null}return null}getUserRole(){let n=this.getToken();return n&&Eh(n).role||null}logout(){pa(this.platformId)&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),this.isLoggedInSubject.next(!1),this.currentUserSubject.next(null),this.basketService.resetBasket())}checkLoginStatus(){pa(this.platformId)&&localStorage.getItem("accessToken")&&this.isLoggedInSubject.next(!0)}register(n){return this.http.post(`${this.baseUrl}/register`,n)}confirmEmail(n,i){return this.http.post(`${this.baseUrl}/confirmemail`,{token:n,email:i})}saveToken(n){pa(this.platformId)&&localStorage.setItem("accessToken",n)}getToken(){return pa(this.platformId)?localStorage.getItem("accessToken"):null}getUserId(){let n=this.getToken();return n?Eh(n).nameid:null}getUserId$(){return new ql(n=>{let i=this.getUserId();n.next(i),n.complete()})}};e.\u0275fac=function(i){return new(i||e)(ce(nr),ce(Li),ce(Sn),ce(De))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FT=["toast-component",""];function Gw(t,e){if(t&1){let r=ot();d(0,"button",5),ae("click",function(){xe(r);let i=W();return Ne(i.remove())}),d(1,"span",6),v(2,"\xD7"),f()()}}function Hw(t,e){if(t&1&&(Jl(0),v(1),Zl()),t&2){let r=W(2);b(),we("[",r.duplicatesCount+1,"]")}}function zw(t,e){if(t&1&&(d(0,"div"),v(1),ie(2,Hw,2,1,"ng-container",4),f()),t&2){let r=W();mo(r.options.titleClass),ni("aria-label",r.title),b(),we(" ",r.title," "),b(),k("ngIf",r.duplicatesCount)}}function qw(t,e){if(t&1&&re(0,"div",7),t&2){let r=W();mo(r.options.messageClass),k("innerHTML",r.message,zv)}}function $w(t,e){if(t&1&&(d(0,"div",8),v(1),f()),t&2){let r=W();mo(r.options.messageClass),ni("aria-label",r.message),b(),we(" ",r.message," ")}}function Ww(t,e){if(t&1&&(d(0,"div"),re(1,"div",9),f()),t&2){let r=W();b(),Ql("width",r.width()+"%")}}function Kw(t,e){if(t&1){let r=ot();d(0,"button",5),ae("click",function(){xe(r);let i=W();return Ne(i.remove())}),d(1,"span",6),v(2,"\xD7"),f()()}}function Xw(t,e){if(t&1&&(Jl(0),v(1),Zl()),t&2){let r=W(2);b(),we("[",r.duplicatesCount+1,"]")}}function Qw(t,e){if(t&1&&(d(0,"div"),v(1),ie(2,Xw,2,1,"ng-container",4),f()),t&2){let r=W();mo(r.options.titleClass),ni("aria-label",r.title),b(),we(" ",r.title," "),b(),k("ngIf",r.duplicatesCount)}}function Jw(t,e){if(t&1&&re(0,"div",7),t&2){let r=W();mo(r.options.messageClass),k("innerHTML",r.message,zv)}}function Zw(t,e){if(t&1&&(d(0,"div",8),v(1),f()),t&2){let r=W();mo(r.options.messageClass),ni("aria-label",r.message),b(),we(" ",r.message," ")}}function eM(t,e){if(t&1&&(d(0,"div"),re(1,"div",9),f()),t&2){let r=W();b(),Ql("width",r.width()+"%")}}var X_=class{_attachedHost;component;viewContainerRef;injector;constructor(e,r){this.component=e,this.injector=r}attach(e,r){return this._attachedHost=e,e.attach(this,r)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Q_=class{_attachedPortal;_disposeFn;attach(e,r){return this._attachedPortal=e,this.attachComponentPortal(e,r)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},J_=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new bn;_activate=new bn;_manualClose=new bn;_resetTimeout=new bn;_countDuplicate=new bn;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,r){e&&this._resetTimeout.next(),r&&this._countDuplicate.next(++this.duplicatesCount)}},fu=class{toastId;config;message;title;toastType;toastRef;_onTap=new bn;_onAction=new bn;constructor(e,r,n,i,o,a){this.toastId=e,this.config=r,this.message=n,this.title=i,this.toastType=o,this.toastRef=a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},LT={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},UT=new it("ToastConfig"),Z_=class extends Q_{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,r,n){super(),this._hostDomElement=e,this._componentFactoryResolver=r,this._appRef=n}attachComponentPortal(e,r){let n=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=n.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),r?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},tM=(()=>{class t{_document=le(Bt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r=this._document.createElement("div");r.classList.add("overlay-container"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),this._containerElement=r}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e0=class{_portalHost;constructor(e){this._portalHost=e}attach(e,r=!0){return this._portalHost.attach(e,r)}detach(){return this._portalHost.detach()}},nM=(()=>{class t{_overlayContainer=le(tM);_componentFactoryResolver=le(OC);_appRef=le(go);_document=le(Bt);_paneElements=new Map;create(r,n){return this._createOverlayRef(this.getPaneElement(r,n))}getPaneElement(r="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[r]||(this._paneElements.get(n)[r]=this._createPaneElement(r,n)),this._paneElements.get(n)[r]}_createPaneElement(r,n){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(r),i.classList.add("toast-container"),n?n.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(r){return new Z_(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new e0(this._createPortalHost(r))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gr=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(r,n,i,o,a){this.overlay=n,this._injector=i,this.sanitizer=o,this.ngZone=a,this.toastrConfig=oe(oe({},r.default),r.config),r.config.iconClasses&&(this.toastrConfig.iconClasses=oe(oe({},r.default.iconClasses),r.config.iconClasses))}show(r,n,i={},o=""){return this._preBuildNotification(o,r,n,this.applyConfig(i))}success(r,n,i={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,r,n,this.applyConfig(i))}error(r,n,i={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,r,n,this.applyConfig(i))}info(r,n,i={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,r,n,this.applyConfig(i))}warning(r,n,i={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,r,n,this.applyConfig(i))}clear(r){for(let n of this.toasts)if(r!==void 0){if(n.toastId===r){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(r){let n=this._findToast(r);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(r="",n="",i,o){let{includeTitleDuplicates:a}=this.toastrConfig;for(let s of this.toasts){let c=a&&s.title===r;if((!a||c)&&s.message===n)return s.toastRef.onDuplicate(i,o),s}return null}applyConfig(r={}){return oe(oe({},this.toastrConfig),r)}_findToast(r){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===r)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(r,n,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,n,i,o)):this._buildNotification(r,n,i,o)}_buildNotification(r,n,i,o){if(!o.toastComponent)throw new Error("toastComponent required");let a=this.findDuplicate(i,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||n)&&this.toastrConfig.preventDuplicates&&a!==null)return a;this.previousToastMessage=n;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=n;n&&o.enableHtml&&(u=this.sanitizer.sanitize(ho.HTML,n));let l=new J_(c),p=new fu(this.index,o,u,i,r,l),m=[{provide:fu,useValue:p}],h=da.create({providers:m,parent:this._injector}),g=new X_(o.toastComponent,h),E=c.attach(g,o.newestOnTop);l.componentInstance=E.instance;let _={toastId:this.index,title:i||"",message:n||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:p.onTap(),onAction:p.onAction(),portal:E};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_.toastRef.activate()})),this.toasts.push(_),_}static \u0275fac=function(n){return new(n||t)(ce(UT),ce(nM),ce(da),ce(p_),ce(dn))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rM=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=bi(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(r,n,i){this.toastrService=r,this.toastPackage=n,this.ngZone=i,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=bi({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(r=>ft(oe({},r),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let r=new Date().getTime(),n=this.hideTime-r;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(r=>ft(oe({},r),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(r=>ft(oe({},r),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),n)):this.timeout=setTimeout(()=>r(),n)}outsideInterval(r,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),n)):this.intervalId=setInterval(()=>r(),n)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}static \u0275fac=function(n){return new(n||t)(M(gr),M(fu),M(dn))};static \u0275cmp=_e({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,i){n&1&&ae("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),n&2&&(kC("@flyInOut",i._state),mo(i.toastClasses),Ql("display",i.displayStyle))},standalone:!0,features:[Se],attrs:FT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,i){n&1&&ie(0,Gw,3,0,"button",0)(1,zw,3,5,"div",1)(2,qw,1,3,"div",2)(3,$w,2,4,"div",3)(4,Ww,2,2,"div",4),n&2&&(k("ngIf",i.options.closeButton),b(),k("ngIf",i.title),b(),k("ngIf",i.message&&i.options.enableHtml),b(),k("ngIf",i.message&&!i.options.enableHtml),b(),k("ngIf",i.options.progressBar))},dependencies:[gt],encapsulation:2,data:{animation:[rS("flyInOut",[zp("inactive",Hp({opacity:0})),zp("active",Hp({opacity:1})),zp("removed",Hp({opacity:0})),Jv("inactive => active",Qv("{{ easeTime }}ms {{ easing }}")),Jv("active => removed",Qv("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),iM=ft(oe({},LT),{toastComponent:rM}),oM=(t={})=>Fi([{provide:UT,useValue:{default:iM,config:t}}]),YT=(()=>{class t{static forRoot(r={}){return{ngModule:t,providers:[oM(r)]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=tr({type:t});static \u0275inj=er({})}return t})();var aM=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=bi(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=bi("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(r,n,i){this.toastrService=r,this.toastPackage=n,this.appRef=i,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let r=new Date().getTime(),n=this.hideTime-r;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||t)(M(gr),M(fu),M(go))};static \u0275cmp=_e({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,i){n&1&&ae("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),n&2&&(mo(i.toastClasses),Ql("display",i.displayStyle))},standalone:!0,features:[Se],attrs:FT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,i){n&1&&ie(0,Kw,3,0,"button",0)(1,Qw,3,5,"div",1)(2,Jw,1,3,"div",2)(3,Zw,2,4,"div",3)(4,eM,2,2,"div",4),n&2&&(k("ngIf",i.options.closeButton),b(),k("ngIf",i.title),b(),k("ngIf",i.message&&i.options.enableHtml),b(),k("ngIf",i.message&&!i.options.enableHtml),b(),k("ngIf",i.options.progressBar))},dependencies:[gt],encapsulation:2,changeDetection:0})}return t})(),fU=ft(oe({},LT),{toastComponent:aM});function sM(t,e){t&1&&(d(0,"li",9)(1,"a",13),v(2,"User Panel"),f()())}function cM(t,e){t&1&&(d(0,"li",9)(1,"a",14),v(2,"Admin Panel"),f()())}function uM(t,e){if(t&1&&(d(0,"li",9)(1,"a",11),v(2),f()()),t&2){let r=W();b(2),we("Salam, ",r.userName,"")}}function lM(t,e){if(t&1){let r=ot();d(0,"li",9)(1,"button",15),ae("click",function(){xe(r);let i=W();return Ne(i.logout())}),v(2,"\xC7\u0131x\u0131\u015F"),f()()}}var VT=(()=>{let e=class e{constructor(n,i,o){this.authService=n,this.router=i,this.toastr=o,this.userName=null,this.isAdmin=!1,this.isUser=!1,this.isDropdownOpen=!1}ngOnInit(){this.authService.currentUser$.subscribe(n=>{this.userName=n;let i=this.authService.getUserRole();this.isAdmin=i==="Admin",this.isUser=i==="User"})}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.userName=null,window.location.reload()}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}};e.\u0275fac=function(i){return new(i||e)(M(Tt),M(De),M(gr))},e.\u0275cmp=_e({type:e,selectors:[["app-navbar"]],standalone:!0,features:[Se],decls:26,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","/",1,"navbar-brand","brand-logo"],[1,"support-info"],[1,"fas","fa-headset"],["href","tel:+994-55-285-92-63",1,"support-number"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto","navbar-links"],[1,"nav-item"],["href","/books",1,"nav-link"],["href","#",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/user-panel/dashboard",1,"nav-link"],["id","admin-panel","routerLink","/admin-panel/dashboard",1,"nav-link",2,"cursor","pointer"],[1,"btn","btn-link","nav-link",3,"click"]],template:function(i,o){i&1&&(d(0,"nav",0)(1,"a",1),v(2,"BakuKitabEvi"),f(),d(3,"div",2),re(4,"i",3),d(5,"span"),v(6,"Texniki d\u0259st\u0259k 24/7"),f(),d(7,"a",4),v(8,"+994-55-285-92-63"),f()(),d(9,"button",5),re(10,"span",6),f(),d(11,"div",7)(12,"ul",8)(13,"li",9)(14,"a",10),v(15,"K\u0130TABLAR"),f()(),d(16,"li",9)(17,"a",11),v(18,"BLOQ"),f()(),d(19,"li",9)(20,"a",11),v(21,"\u018FLAQ\u018F"),f()(),ie(22,sM,3,0,"li",12)(23,cM,3,0,"li",12)(24,uM,3,1,"li",12)(25,lM,3,0,"li",12),f()()()),i&2&&(b(22),k("ngIf",o.isUser),b(),k("ngIf",o.isAdmin),b(),k("ngIf",o.userName),b(),k("ngIf",o.userName))},dependencies:[He,gt,Et,oi],styles:['body[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]{font-family:Montserrat,Varela,Poppins,sans-serif;font-optical-sizing:auto;font-style:normal;-webkit-font-smoothing:antialiased;font-weight:490}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:16px;transition:background-color .3s ease-in-out,color .3s ease-in-out;position:relative;padding-bottom:15px;font-size:17px;color:#797c93;line-height:38px;text-transform:capitalize;font-weight:600;font-family:Montserrat,sans-serif}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#f8f9fa;flex-wrap:wrap}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{justify-content:flex-start;padding:10px}.navbar-collapse[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:100%;text-align:left}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 0}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}@media (max-width: 768px){.shopping-cart[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:none!important}}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:23px;color:#6aa846;font-weight:700;text-decoration:none;margin-left:17px;margin-top:5px;line-height:1.2;letter-spacing:.3px}.support-info[_ngcontent-%COMP%]{display:flex;align-items:center;color:#6aa846;margin-top:5px;margin-left:32px}.support-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-right:5px}.support-number[_ngcontent-%COMP%]{margin-left:10px;color:#333;text-decoration:none}.navbar-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:31px;font-size:17px;font-weight:400}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{list-style:none}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:340px;font-size:18px;display:block;color:#78827b;line-height:1.5;letter-spacing:.5px;padding:10px 15px;position:relative}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#738a67}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;bottom:0;height:1.4px;background-color:#419fa5;transition:width .2s ease-in-out,left .2s ease-in-out;width:0;max-width:80%}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:80%;left:10%}.navbar-collapse[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.navbar-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1px;font-weight:400;margin-right:55px}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:5px 10px;font-size:16px;color:#333}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#228cb6}.navbar-toggler[_ngcontent-%COMP%]{margin-left:auto}#admin-panel[_ngcontent-%COMP%]{background-color:#1363b967;color:#000}.dropdown-menu[_ngcontent-%COMP%]{display:none}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}']});let t=e;return t})();var hu=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl=hr.apiUrl+"/Category"}getCategories(){return this.http.get(`${this.apiUrl}/GetAll`).pipe(Re(n=>n.category))}};e.\u0275fac=function(i){return new(i||e)(ce(nr))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dM(t,e){if(t&1&&(d(0,"li")(1,"a",3),v(2),f()()),t&2){let r=e.$implicit;b(),Qc("href","/categories/",r.categoryId,"/books",Vt),b(),je(r.categoryName)}}var yh=(()=>{let e=class e{constructor(n,i){this.categoryService=n,this.router=i,this.categories=[]}ngOnInit(){this.categoryService.getCategories().subscribe(n=>{this.categories=n})}};e.\u0275fac=function(i){return new(i||e)(M(hu),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-category-list"]],standalone:!0,features:[Se],decls:3,vars:1,consts:[[1,"category-menu"],[1,"category-list"],[4,"ngFor","ngForOf"],[3,"href"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"ul",1),ie(2,dM,3,3,"li",2),f()()),i&2&&(b(2),k("ngForOf",o.categories))},dependencies:[He,St,Et],styles:[".container[_ngcontent-%COMP%]{max-width:300px;margin-right:20px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#333}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;font-family:Montserrat,sans-serif}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#6aa846;font-weight:700;text-decoration:none;padding:10px 15px;display:block;transition:background-color .3s ease,color .3s ease}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#0084ff}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}.content[_ngcontent-%COMP%]{margin-left:120px}.category-menu[_ngcontent-%COMP%]{position:relative;width:250px;background-color:#fff;border:1px solid #ddd;border-radius:4px;overflow:hidden}.category-btn[_ngcontent-%COMP%]{width:100%;background-color:#f8f8f8;color:#333;font-weight:700;text-align:left;padding:10px 15px;border:none;display:flex;align-items:center;cursor:pointer}.category-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.category-list[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:500;list-style:none;margin:0;padding:0}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:1px solid #ddd}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 15px;color:#333;text-decoration:none;transition:background-color .3s ease,color .3s ease}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#007bff}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #ddd}@media (max-width: 768px){.container[_ngcontent-%COMP%]{max-width:100%;margin-right:0}.content[_ngcontent-%COMP%]{margin-left:0}}"]});let t=e;return t})();var XT=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(M(Ds),M(fa))},e.\u0275dir=wt({type:e});let t=e;return t})(),Ph=(()=>{let e=class e extends XT{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275dir=wt({type:e,features:[Bn]});let t=e;return t})(),Eu=new it("");var fM={provide:Eu,useExisting:wr(()=>Zt),multi:!0};function pM(){let t=ws()?ws().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var hM=new it(""),Zt=(()=>{let e=class e extends XT{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pM())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(M(Ds),M(fa),M(hM,8))},e.\u0275dir=wt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&ae("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[Mr([fM]),Bn]});let t=e;return t})();function Ea(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function QT(t){return t!=null&&typeof t.length=="number"}var ba=new it(""),wh=new it(""),mM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ai=class{static min(e){return JT(e)}static max(e){return ZT(e)}static required(e){return ex(e)}static requiredTrue(e){return gM(e)}static email(e){return vM(e)}static minLength(e){return tx(e)}static maxLength(e){return _M(e)}static pattern(e){return EM(e)}static nullValidator(e){return Ch(e)}static compose(e){return sx(e)}static composeAsync(e){return cx(e)}};function JT(t){return e=>{if(Ea(e.value)||Ea(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}function ZT(t){return e=>{if(Ea(e.value)||Ea(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}function ex(t){return Ea(t.value)?{required:!0}:null}function gM(t){return t.value===!0?null:{required:!0}}function vM(t){return Ea(t.value)||mM.test(t.value)?null:{email:!0}}function tx(t){return e=>Ea(e.value)||!QT(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function _M(t){return e=>QT(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function EM(t){if(!t)return Ch;let e,r;return typeof t=="string"?(r="",t.charAt(0)!=="^"&&(r+="^"),r+=t,t.charAt(t.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(Ea(n.value))return null;let i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}function Ch(t){return null}function nx(t){return t!=null}function rx(t){return Up(t)?Mn(t):t}function ix(t){let e={};return t.forEach(r=>{e=r!=null?oe(oe({},e),r):e}),Object.keys(e).length===0?null:e}function ox(t,e){return e.map(r=>r(t))}function yM(t){return!t.validate}function ax(t){return t.map(e=>yM(e)?e:r=>e.validate(r))}function sx(t){if(!t)return null;let e=t.filter(nx);return e.length==0?null:function(r){return ix(ox(r,e))}}function s0(t){return t!=null?sx(ax(t)):null}function cx(t){if(!t)return null;let e=t.filter(nx);return e.length==0?null:function(r){let n=ox(r,e).map(rx);return cC(n).pipe(Re(ix))}}function c0(t){return t!=null?cx(ax(t)):null}function BT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ux(t){return t._rawValidators}function lx(t){return t._rawAsyncValidators}function n0(t){return t?Array.isArray(t)?t:[t]:[]}function Sh(t,e){return Array.isArray(t)?t.includes(e):t===e}function jT(t,e){let r=n0(e);return n0(t).forEach(i=>{Sh(r,i)||r.push(i)}),r}function GT(t,e){return n0(e).filter(r=>!Sh(t,r))}var Th=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=s0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=c0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},bo=class extends Th{get formDirective(){return null}get path(){return null}},Ys=class extends Th{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},LU=ft(oe({},bM),{"[class.ng-submitted]":"isSubmitted"}),Tn=(()=>{let e=class e extends xh{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(M(Ys,2))},e.\u0275dir=wt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&fn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Bn]});let t=e;return t})(),ji=(()=>{let e=class e extends xh{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(M(bo,10))},e.\u0275dir=wt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&fn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Bn]});let t=e;return t})();var kd="VALID",bh="INVALID",mu="PENDING",Fd="DISABLED",ya=class{},Nh=class extends ya{constructor(e,r){super(),this.value=e,this.source=r}},Ud=class extends ya{constructor(e,r){super(),this.pristine=e,this.source=r}},Yd=class extends ya{constructor(e,r){super(),this.touched=e,this.source=r}},gu=class extends ya{constructor(e,r){super(),this.status=e,this.source=r}},r0=class extends ya{constructor(e){super(),this.source=e}},i0=class extends ya{constructor(e){super(),this.source=e}};function u0(t){return(Mh(t)?t.validators:t)||null}function CM(t){return Array.isArray(t)?s0(t):t||null}function l0(t,e){return(Mh(e)?e.asyncValidators:t)||null}function SM(t){return Array.isArray(t)?c0(t):t||null}function Mh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dx(t,e,r){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new mt(1e3,"");if(!n[r])throw new mt(1001,"")}function fx(t,e,r){t._forEachChild((n,i)=>{if(r[i]===void 0)throw new mt(1002,"")})}var vu=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Jc(()=>this.statusReactive()),this.statusReactive=bi(void 0),this._pristine=Jc(()=>this.pristineReactive()),this.pristineReactive=bi(!0),this._touched=Jc(()=>this.touchedReactive()),this.touchedReactive=bi(!1),this._events=new bn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vo(this.statusReactive)}set status(e){vo(()=>this.statusReactive.set(e))}get valid(){return this.status===kd}get invalid(){return this.status===bh}get pending(){return this.status==mu}get disabled(){return this.status===Fd}get enabled(){return this.status!==Fd}get pristine(){return vo(this.pristineReactive)}set pristine(e){vo(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return vo(this.touchedReactive)}set touched(e){vo(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GT(e,this._rawAsyncValidators))}hasValidator(e){return Sh(this._rawValidators,e)}hasAsyncValidator(e){return Sh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ft(oe({},e),{sourceControl:n})),r&&e.emitEvent!==!1&&this._events.next(new Yd(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),r&&e.emitEvent!==!1&&this._events.next(new Yd(!1,n))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ft(oe({},e),{sourceControl:n})),r&&e.emitEvent!==!1&&this._events.next(new Ud(!1,n))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&e.emitEvent!==!1&&this._events.next(new Ud(!0,n))}markAsPending(e={}){this.status=mu;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gu(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ft(oe({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Fd,this.errors=null,this._forEachChild(i=>{i.disable(ft(oe({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nh(this.value,n)),this._events.next(new gu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ft(oe({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=kd,this._forEachChild(n=>{n.enable(ft(oe({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ft(oe({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kd||this.status===mu)&&this._runAsyncValidator(n,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nh(this.value,r)),this._events.next(new gu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ft(oe({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fd:kd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=mu,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let n=rx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new gu(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,n)}_initObservables(){this.valueChanges=new ti,this.statusChanges=new ti}_calculateStatus(){return this._allControlsDisabled()?Fd:this.errors?bh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mu)?mu:this._anyControlsHaveStatus(bh)?bh:kd}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),i&&this._events.next(new Ud(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new Yd(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=CM(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=SM(this._rawAsyncValidators)}},_u=class extends vu{constructor(e,r,n){super(u0(r),l0(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){fx(this,!0,e),Object.keys(e).forEach(n=>{dx(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(n=>{let i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>n._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,o)=>{n=r(n,i,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var o0=class extends _u{};var Bd=new it("CallSetDisabledState",{providedIn:"root",factory:()=>Rh}),Rh="always";function px(t,e){return[...e.path,t]}function Dh(t,e,r=Rh){d0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),xM(t,e),DM(t,e),NM(t,e),TM(t,e)}function HT(t,e,r=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Oh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ih(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function TM(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function d0(t,e){let r=ux(t);e.validator!==null?t.setValidators(BT(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=lx(t);e.asyncValidator!==null?t.setAsyncValidators(BT(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();Ih(e._rawValidators,i),Ih(e._rawAsyncValidators,i)}function Oh(t,e){let r=!1;if(t!==null){if(e.validator!==null){let i=ux(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.validator);o.length!==i.length&&(r=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=lx(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(r=!0,t.setAsyncValidators(o))}}}let n=()=>{};return Ih(e._rawValidators,n),Ih(e._rawAsyncValidators,n),r}function xM(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&hx(t,e)})}function NM(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&hx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function hx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function DM(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function mx(t,e){t==null,d0(t,e)}function IM(t,e){return Oh(t,e)}function gx(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function OM(t){return Object.getPrototypeOf(t.constructor)===Ph}function vx(t,e){t._syncPendingControls(),e.forEach(r=>{let n=r.control;n.updateOn==="submit"&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function _x(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(o=>{o.constructor===Zt?r=o:OM(o)?n=o:i=o}),i||n||r||null}function PM(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}var wM={provide:bo,useExisting:wr(()=>Co)},Ld=Promise.resolve(),Co=(()=>{let e=class e extends bo{get submitted(){return vo(this.submittedReactive)}constructor(n,i,o){super(),this.callSetDisabledState=o,this._submitted=Jc(()=>this.submittedReactive()),this.submittedReactive=bi(!1),this._directives=new Set,this.ngSubmit=new ti,this.form=new _u({},s0(n),c0(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ld.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Dh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ld.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ld.then(()=>{let i=this._findContainer(n.path),o=new _u({});mx(o,n),i.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ld.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Ld.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),vx(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(i){return new(i||e)(M(ba,10),M(wh,10),M(Bd,8))},e.\u0275dir=wt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&ae("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mr([wM]),Bn]});let t=e;return t})();function zT(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function qT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Vd=class extends vu{constructor(e=null,r,n){super(u0(r),l0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mh(r)&&(r.nonNullable||r.initialValueIsDefault)&&(qT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var MM=t=>t instanceof Vd;var RM={provide:Ys,useExisting:wr(()=>Rn)},$T=Promise.resolve(),Rn=(()=>{let e=class e extends Ys{constructor(n,i,o,a,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new Vd,this._registered=!1,this.name="",this.update=new ti,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=_x(this,a)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),gx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Dh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){$T.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,o=i!==0&&Ps(i);$T.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?px(n,this._parent):[n]}};e.\u0275fac=function(i){return new(i||e)(M(bo,9),M(ba,10),M(wh,10),M(Eu,10),M(Os,8),M(Bd,8))},e.\u0275dir=wt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mr([RM]),Bn,la]});let t=e;return t})(),Gi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=wt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),AM={provide:Eu,useExisting:wr(()=>Vs),multi:!0},Vs=(()=>{let e=class e extends Ph{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275dir=wt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&ae("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},features:[Mr([AM]),Bn]});let t=e;return t})();var Ex=new it("");var kM={provide:bo,useExisting:wr(()=>f0)},f0=(()=>{let e=class e extends bo{get submitted(){return vo(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,i,o){super(),this.callSetDisabledState=o,this._submitted=Jc(()=>this._submittedReactive()),this._submittedReactive=bi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ti,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Oh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return Dh(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){HT(n.control||null,n,!1),PM(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),vx(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new r0(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new i0(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,o=this.form.get(n.path);i!==o&&(HT(i||null,n),MM(o)&&(Dh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);mx(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&IM(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){d0(this.form,this),this._oldForm&&Oh(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(M(ba,10),M(wh,10),M(Bd,8))},e.\u0275dir=wt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&ae("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mr([kM]),Bn,la]});let t=e;return t})();var FM={provide:Ys,useExisting:wr(()=>p0)},p0=(()=>{let e=class e extends Ys{set isDisabled(n){}constructor(n,i,o,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ti,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=_x(this,a)}ngOnChanges(n){this._added||this._setUpControl(),gx(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return px(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(M(bo,13),M(ba,10),M(wh,10),M(Eu,10),M(Ex,8))},e.\u0275dir=wt({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mr([FM]),Bn,la]});let t=e;return t})(),LM={provide:Eu,useExisting:wr(()=>Ca),multi:!0};function yx(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function UM(t){return t.split(":")[0]}var Ca=(()=>{let e=class e extends Ph{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),o=yx(i,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=UM(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275dir=wt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&ae("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mr([LM]),Bn]});let t=e;return t})(),yu=(()=>{let e=class e{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(yx(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(fa),M(Ds),M(Ca,9))},e.\u0275dir=wt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),YM={provide:Eu,useExisting:wr(()=>bx),multi:!0};function WT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function VM(t){return t.split(":")[0]}var bx=(()=>{let e=class e extends Ph{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let o=n.map(a=>this._getOptionId(a));i=(a,s)=>{a._setSelected(o.indexOf(s.toString())>-1)}}else i=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let o=[],a=i.selectedOptions;if(a!==void 0){let s=a;for(let c=0;c<s.length;c++){let u=s[c],l=this._getOptionValue(u.value);o.push(l)}}else{let s=i.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let l=this._getOptionValue(u.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=VM(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275dir=wt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&ae("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mr([YM]),Bn]});let t=e;return t})(),bu=(()=>{let e=class e{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(WT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(WT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(fa),M(Ds),M(bx,9))},e.\u0275dir=wt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function BM(t){return typeof t=="number"?t:parseInt(t,10)}function Cx(t){return typeof t=="number"?t:parseFloat(t)}var Ah=(()=>{let e=class e{constructor(){this._validator=Ch}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ch,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=wt({type:e,features:[la]});let t=e;return t})(),jM={provide:ba,useExisting:wr(()=>h0),multi:!0},h0=(()=>{let e=class e extends Ah{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Cx(n),this.createValidator=n=>ZT(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275dir=wt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&ni("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[Mr([jM]),Bn]});let t=e;return t})(),GM={provide:ba,useExisting:wr(()=>m0),multi:!0},m0=(()=>{let e=class e extends Ah{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Cx(n),this.createValidator=n=>JT(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275dir=wt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&ni("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[Mr([GM]),Bn]});let t=e;return t})(),HM={provide:ba,useExisting:wr(()=>So),multi:!0};var So=(()=>{let e=class e extends Ah{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ps,this.createValidator=n=>ex}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275dir=wt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&ni("required",o._enabled?"":null)},inputs:{required:"required"},features:[Mr([HM]),Bn]});let t=e;return t})();var zM={provide:ba,useExisting:wr(()=>g0),multi:!0},g0=(()=>{let e=class e extends Ah{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>BM(n),this.createValidator=n=>tx(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(e)))(o||e)}})(),e.\u0275dir=wt({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&ni("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[Mr([zM]),Bn]});let t=e;return t})();var Sx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({});let t=e;return t})(),a0=class extends vu{constructor(e,r,n){super(u0(r),l0(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,n={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,r={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){fx(this,!1,e),e.forEach((n,i)=>{dx(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,n)=>n._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,n)=>{e(r,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function KT(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Tx=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,i=null){let o=this._reduceControls(n),a={};return KT(i)?a=i:i!==null&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new _u(o,a)}record(n,i=null){let o=this._reduceControls(n);return new o0(o,i)}control(n,i,o){let a={};return this.useNonNullable?(KT(i)?a=i:(a.validators=i,a.asyncValidators=o),new Vd(n,ft(oe({},a),{nonNullable:!0}))):new Vd(n,i,o)}array(n,i,o){let a=n.map(s=>this._createControl(s));return new a0(a,i,o)}_reduceControls(n){let i={};return Object.keys(n).forEach(o=>{i[o]=this._createControl(n[o])}),i}_createControl(n){if(n instanceof Vd)return n;if(n instanceof vu)return n;if(Array.isArray(n)){let i=n[0],o=n.length>1?n[1]:null,a=n.length>2?n[2]:null;return this.control(i,o,a)}else return this.control(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jt=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Bd,useValue:n.callSetDisabledState??Rh}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({imports:[Sx]});let t=e;return t})(),Sa=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Ex,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Bd,useValue:n.callSetDisabledState??Rh}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({imports:[Sx]});let t=e;return t})();var qM=t=>({show:t});function $M(t,e){t&1&&AC(0)}function WM(t,e){t&1&&(d(0,"div",19)(1,"a",20),v(2,"Qeydiyyat"),f(),v(3," v\u0259 ya "),d(4,"a",21),v(5,"Daxil Ol"),f()())}function KM(t,e){if(t&1&&(d(0,"span",23),v(1),f()),t&2){let r=W().ngIf;b(),je(r)}}function XM(t,e){if(t&1&&(d(0,"span"),ie(1,KM,2,1,"span",22),f()),t&2){let r=e.ngIf;b(),k("ngIf",r>0)}}function QM(t,e){if(t&1&&re(0,"img",30),t&2){let r=W().$implicit;k("src",r.imageUrls[0],Vt)}}function JM(t,e){t&1&&re(0,"img",31)}function ZM(t,e){if(t&1){let r=ot();d(0,"div",26),ie(1,QM,1,1,"img",27)(2,JM,1,0,"ng-template",null,1,ed),d(4,"div",28)(5,"p"),v(6),f()(),d(7,"button",29),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.removeItem(i.bookId))}),v(8,"Sil"),f()()}if(t&2){let r=e.$implicit,n=Is(3);b(),k("ngIf",r.imageUrls.length>0)("ngIfElse",n),b(5),UC("",r.productName,"... - ",r.quantity," x \u20BC",r.price,"")}}function eR(t,e){t&1&&(d(0,"div",32)(1,"a",33),v(2,"S\u0259b\u0259t\u0259 get"),f()())}function tR(t,e){if(t&1&&(Jl(0),ie(1,ZM,9,5,"div",24)(2,eR,3,0,"div",25),Zl()),t&2){let r=e.ngIf;b(),k("ngForOf",r.items),b(),k("ngIf",r.items.length>0)}}var xx=(()=>{let e=class e{constructor(n,i,o){this.basketService=n,this.authService=i,this.router=o,this.isDropdownOpen=!1,this.userId=null,this.searchKeyword="",this.itemCount$=this.basketService.basketItemCount$,this.totalPrice$=this.basketService.basketTotalPrice$,this.basket$=this.basketService.basket$,this.isLoggedIn$=this.authService.isLoggedIn$}ngOnInit(){this.userId=this.authService.getUserId(),this.basketService.basket$.subscribe(n=>{this.authService.checkLoginStatus()}),this.userId&&this.basketService.loadBasket(this.userId)}searchBooks(){this.searchKeyword.trim()!==""&&this.router.navigate(["/books/search"],{queryParams:{keyword:this.searchKeyword}})}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}logout(){this.authService.logout(),this.basketService.clearBasket(this.userId||"")}removeItem(n){this.userId?this.basketService.removeItemFromBasket(n,this.userId).subscribe(()=>{this.basketService.loadBasket(this.userId)}):console.error("UserId al\u0131na bilm\u0259di, kitab s\u0259b\u0259td\u0259n silin\u0259 bilm\u0259di.")}};e.\u0275fac=function(i){return new(i||e)(M(Sn),M(Tt),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-header"]],standalone:!0,features:[Se],decls:29,vars:17,consts:[["loggedOut",""],["placeholderImage",""],["id","header",1,"site-header"],[1,"header-actions","d-flex","align-items-center","justify-content-between","py-2"],[1,"browse-categories","dropdown"],["type","button","id","categoriesDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"fas","fa-bars"],[2,"margin","0 7px"],["aria-labelledby","categoriesDropdown",1,"dropdown-menu"],[1,"search-bar","d-flex"],["type","text","placeholder","B\xFCt\xFCn ma\u011Fazan\u0131 burada axtar\u0131n",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",1,"btn","btn-success",3,"click"],[1,"user-options","d-flex","align-items-center"],[4,"ngIf","ngIfElse"],[1,"shopping-cart","d-flex","align-items-center",3,"click"],[1,"fas","fa-shopping-cart"],[1,"cart-amount","ms-2"],[4,"ngIf"],[1,"dropdown-menu",3,"ngClass"],[1,"login-register","me-4"],["routerLink","/register",1,"text-dark"],["routerLink","/login",1,"text-dark"],["class","badge bg-danger ms-2",4,"ngIf"],[1,"badge","bg-danger","ms-2"],["class","basket-item d-flex align-items-center",4,"ngFor","ngForOf"],["class","summary",4,"ngIf"],[1,"basket-item","d-flex","align-items-center"],["class","basket-item-image me-2",3,"src",4,"ngIf","ngIfElse"],[1,"basket-item-details"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"basket-item-image","me-2",3,"src"],["src","path/to/placeholder-image.png","alt","No Image",1,"basket-item-image","me-2"],[1,"summary"],["routerLink","/basket",1,"btn","btn-success"]],template:function(i,o){if(i&1){let a=ot();d(0,"header",2),re(1,"app-navbar"),d(2,"div",3)(3,"div",4)(4,"button",5),re(5,"i",6),d(6,"p",7),v(7,"Kitap Kategoriyalar\u0131"),f()(),d(8,"ul",8),re(9,"app-category-list"),f()(),d(10,"div",9)(11,"input",10),dt("ngModelChange",function(c){return xe(a),lt(o.searchKeyword,c)||(o.searchKeyword=c),Ne(c)}),f(),d(12,"button",11),ae("click",function(){return xe(a),Ne(o.searchBooks())}),v(13,"Axtar\u0131\u015F"),f()(),d(14,"div",12),ie(15,$M,1,0,"ng-container",13),pn(16,"async"),ie(17,WM,6,0,"ng-template",null,0,ed),d(19,"div",14),ae("click",function(){return xe(a),Ne(o.toggleDropdown())}),re(20,"i",15),d(21,"span",16),v(22),pn(23,"async"),f(),ie(24,XM,2,1,"span",17),pn(25,"async"),d(26,"div",18),ie(27,tR,3,2,"ng-container",17),pn(28,"async"),f()()()()()}if(i&2){let a,s=Is(18);b(11),ut("ngModel",o.searchKeyword),b(4),k("ngIf",jn(16,7,o.isLoggedIn$))("ngIfElse",s),b(7),we("",(a=jn(23,9,o.totalPrice$))==null?null:a.toFixed(2),"\u20BC"),b(2),k("ngIf",jn(25,11,o.itemCount$)),b(2),k("ngClass",Rp(15,qM,o.isDropdownOpen)),b(),k("ngIf",jn(28,13,o.basket$))}},dependencies:[VT,yh,oi,He,Bp,St,gt,eS,jt,Zt,Tn,Rn],styles:[".header-actions[_ngcontent-%COMP%]{background-color:#fff;border-top:1px solid #ddd;border-bottom:1px solid #ddd;padding:10px 20px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px;width:100%;box-sizing:border-box}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.browse-categories[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%], .user-options[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}p[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.browse-categories[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;width:300px;margin-right:10px}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;width:100px;background-color:#6aa846;color:#fff}.user-options[_ngcontent-%COMP%]   .login-register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;margin-right:5px}.shopping-cart[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-family:Montserrat,sans-serif}.shopping-cart[_ngcontent-%COMP%]   .cart-amount[_ngcontent-%COMP%]{color:#6aa846;font-weight:700}.shopping-cart[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:14px}.dropdown-menu[_ngcontent-%COMP%]{width:280px;left:0;top:100%;margin-top:0;border-radius:0;padding:10px 20px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-weight:700;text-decoration:none;display:block;padding:10px 15px;transition:background-color .3s ease,color .3s ease}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#007bff}.shopping-cart[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:100%;right:0;width:250px;background-color:#fff;border:1px solid #ddd;padding:10px;display:none}.shopping-cart[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.basket-item-image[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover}.basket-item-details[_ngcontent-%COMP%]{flex-grow:1}.btn-sm[_ngcontent-%COMP%]{padding:5px 10px;margin-left:10px;transition:background-color .3s ease}.btn-sm[_ngcontent-%COMP%]:hover{background-color:#c82333}.summary[_ngcontent-%COMP%]{padding:10px 15px;border-top:1px solid #e0e0e0;text-align:right}.carousel-inner[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:40px 0}.carousel-item[_ngcontent-%COMP%]{min-height:400px;display:flex;align-items:center;position:relative}.carousel-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:1}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;z-index:0}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);display:flex;justify-content:center;gap:10px}.carousel-indicators[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#6aa846;border:none;border-radius:50%}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#2d5a27}@media (max-width: 768px){.basket-item-image[_ngcontent-%COMP%]{width:40px;height:40px}.basket-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.shopping-cart[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;left:0;right:0}}.shopping-cart[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{max-width:300px;right:0;left:auto;padding:10px;background-color:#fff;border:1px solid #ddd;overflow-y:auto}.basket-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.basket-item-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:10px}.basket-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;flex-grow:1}.btn-sm[_ngcontent-%COMP%]{padding:5px 10px;margin-left:10px;background-color:#dc3545;color:#fff}.summary[_ngcontent-%COMP%]{padding:10px 0;border-top:1px solid #ddd;text-align:center}.summary[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-top:10px;background-color:#6aa846;color:#fff;font-weight:700}.shopping-cart[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block;opacity:1;visibility:visible}@media (max-width: 768px){.shopping-cart[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;left:0;right:0}.basket-item-image[_ngcontent-%COMP%]{width:50px;height:50px}.basket-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}"]});let t=e;return t})();function nR(t,e){if(t&1&&re(0,"img",21),t&2){let r=W().$implicit;k("src",r.imageUrls[0],Vt)}}function rR(t,e){if(t&1){let r=ot();d(0,"div",10)(1,"div",11),ie(2,nR,1,1,"img",12),d(3,"div",13)(4,"h5",14)(5,"a",15),v(6),f()(),d(7,"h6",16),v(8),f(),d(9,"p",17),v(10),f(),d(11,"div",18)(12,"button",19),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.addToBasket(i.bookId))}),f(),re(13,"button",20),f()()()()}if(t&2){let r=e.$implicit;b(2),k("ngIf",r.imageUrls.length>0),b(3),Qc("href","/books/",r.bookId,"",Vt),b(),je(r.bookName),b(2),je(r.authorName),b(2),we("",r.price,"\u20BC")}}function iR(t,e){if(t&1&&(d(0,"div",7)(1,"div",8),ie(2,rR,14,6,"div",9),f()()),t&2){let r=W();b(2),k("ngForOf",r.featuredProducts)}}function oR(t,e){if(t&1&&re(0,"img",21),t&2){let r=W().$implicit;k("src",r.imageUrls[0],Vt)}}function aR(t,e){if(t&1){let r=ot();d(0,"div",10)(1,"div",11),ie(2,oR,1,1,"img",12),d(3,"div",13)(4,"h5",14)(5,"a",15),v(6),f()(),d(7,"h6",16),v(8),f(),d(9,"p",17),v(10),f(),d(11,"div",18)(12,"button",19),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.addToBasket(i.bookId))}),f(),re(13,"button",20),f()()()()}if(t&2){let r=e.$implicit;b(2),k("ngIf",r.imageUrls.length>0),b(3),Qc("href","/books/",r.bookId,"",Vt),b(),je(r.bookName),b(2),je(r.authorName),b(2),we("",r.price,"\u20BC")}}function sR(t,e){if(t&1&&(d(0,"div",7)(1,"div",8),ie(2,aR,14,6,"div",9),f()()),t&2){let r=W();b(2),k("ngForOf",r.newArrivals)}}function cR(t,e){if(t&1&&re(0,"img",21),t&2){let r=W().$implicit;k("src",r.imageUrls[0],Vt)}}function uR(t,e){if(t&1){let r=ot();d(0,"div",10)(1,"div",11),ie(2,cR,1,1,"img",12),d(3,"div",13)(4,"h5",14)(5,"a",15),v(6),f()(),d(7,"h6",16),v(8),f(),d(9,"p",17),v(10),f(),d(11,"div",18)(12,"button",19),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.addToBasket(i.bookId))}),f()()()()()}if(t&2){let r=e.$implicit;b(2),k("ngIf",r.imageUrls.length>0),b(3),Qc("href","/books/",r.bookId,"",Vt),b(),je(r.bookName),b(2),je(r.authorName),b(2),we("",r.price,"\u20BC")}}function lR(t,e){if(t&1&&(d(0,"div",7)(1,"div",8),ie(2,uR,13,6,"div",9),f()()),t&2){let r=W();b(2),k("ngForOf",r.mostViewProducts)}}var v0=(()=>{let e=class e{constructor(n,i,o,a,s){this.bookService=n,this.router=i,this.basketService=o,this.authService=a,this.toastr=s,this.activeTab="featured",this.featuredProducts=[],this.newArrivals=[],this.mostViewProducts=[],this.userId=null}ngOnInit(){this.loadFeaturedBooks(),this.loadNewArrivals(),this.loadMostViewedBooks()}selectTab(n){this.activeTab=n}loadFeaturedBooks(){this.bookService.getFeaturedBooks().subscribe(n=>{this.featuredProducts=n})}loadNewArrivals(){this.bookService.getNewArrivals().subscribe(n=>{this.newArrivals=n},n=>{console.log("Error fetching featured books",n)})}loadMostViewedBooks(){this.bookService.getMostViewedBooks().subscribe(n=>{this.mostViewProducts=n})}ViewBookDetails(n){this.router.navigate(["/books",n])}addToBasket(n){if(this.userId=this.authService.getUserId(),!this.userId){this.toastr.warning("S\u0259b\u0259t\u0259 kitap \u0259lav\u0259 etm\u0259k \xFC\xE7\xFCn Daxil olun "),this.router.navigate(["/login"]);return}this.basketService.addItemToBasket(n,1,this.userId).subscribe(()=>{this.basketService.getBasket(this.userId).subscribe()})}};e.\u0275fac=function(i){return new(i||e)(M(Gn),M(De),M(Sn),M(Tt),M(gr))},e.\u0275cmp=_e({type:e,selectors:[["app-home"]],standalone:!0,features:[Se],decls:16,vars:9,consts:[[1,"container","my-4"],["id","productTab","role","tablist",1,"nav","nav-tabs","justify-content-center"],["role","presentation",1,"nav-item"],[1,"nav-link",3,"click"],[1,"arrow-icon"],["id","productTabContent",1,"tab-content"],["class","tab-pane fade show active",4,"ngIf"],[1,"tab-pane","fade","show","active"],[1,"row","mt-3"],["class","col-lg-3 col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6","mb-4"],[1,"card"],["class","card-img-top","alt","Product Image",3,"src",4,"ngIf"],[1,"card-body","text-center"],[1,"card-title"],[1,"text-dark",3,"href"],[1,"text-muted"],[1,"card-text"],[1,"card-buttons","mt-3"],["data-tooltip","S\u0259b\u0259t\u0259 \u018Flav\u0259 et",1,"icon-btn","icon-cart",3,"click"],["data-tooltip","Detaylar\u0131 G\xF6r",1,"icon-btn","icon-eye"],["alt","Product Image",1,"card-img-top",3,"src"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),ae("click",function(){return o.selectTab("featured")}),v(4,"\xD6n\u0259 \xE7\u0131xan Kitablar"),f(),re(5,"span",4),f(),d(6,"li",2)(7,"a",3),ae("click",function(){return o.selectTab("new")}),v(8,"Yeni G\u0259l\u0259nl\u0259r"),f()(),d(9,"li",2)(10,"a",3),ae("click",function(){return o.selectTab("most")}),v(11,"\u018Fn \xE7ox bax\u0131lan"),f()()(),d(12,"div",5),ie(13,iR,3,1,"div",6)(14,sR,3,1,"div",6)(15,lR,3,1,"div",6),f()()),i&2&&(b(3),fn("active",o.activeTab==="featured"),b(4),fn("active",o.activeTab==="new"),b(3),fn("active",o.activeTab==="most"),b(3),k("ngIf",o.activeTab==="featured"),b(),k("ngIf",o.activeTab==="new"),b(),k("ngIf",o.activeTab==="most"))},dependencies:[He,St,gt,Et],styles:['.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:16px;transition:background-color .3s ease-in-out,color .3s ease-in-out;position:relative;padding-bottom:15px;font-size:17px;color:#797c93;line-height:38px;text-transform:capitalize;font-weight:600;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-style:normal}#productTabContent[_ngcontent-%COMP%]{margin-top:35px;border-bottom:2px}body[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:#6aa846;color:#6aa846}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;border-color:#6aa846;color:#6aa846}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #0000001a;background-color:#f8f9fa;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;display:flex;flex-direction:column;justify-content:space-between;width:80%;cursor:pointer;padding:10px;margin:auto;-webkit-user-select:none;user-select:none}.card-body[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:space-between;font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #00000026}.card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:8px;font-family:Montserrat,sans-serif}.text-muted[_ngcontent-%COMP%]{font-size:14px;color:#777;margin-bottom:10px;font-family:Montserrat,sans-serif}.card-text[_ngcontent-%COMP%]{font-size:14px;color:#999;margin-bottom:10px}.card-img-top[_ngcontent-%COMP%]{height:230px;object-fit:contain;margin-bottom:15px}.badge[_ngcontent-%COMP%]{font-size:14px}.card-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background-color:transparent;font-family:Montserrat,sans-serif;position:relative;border:none;cursor:pointer;font-size:20px;color:#6aa846;transition:color .3s ease-in-out,transform .2s ease-in-out}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{color:#4c8033;transform:translateY(-2px)}.icon-cart[_ngcontent-%COMP%]:before{content:"\\f217";font-family:"Font Awesome 5 Free";font-weight:900}.icon-details[_ngcontent-%COMP%]:before{content:"\\f05a";font-family:"Font Awesome 5 Free";font-weight:400}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;top:110%;left:50%;transform:translate(-50%);background-color:#384332;color:#fff;padding:4px 8px;border-radius:3px;font-size:12px;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover:after{opacity:1;visibility:visible;transform:translate(-37%,8px)}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.container.my-4[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.row.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.arrow-icon[_ngcontent-%COMP%]{position:absolute;display:block;opacity:1}.arrow-icon[_ngcontent-%COMP%]:after{position:absolute;content:"";border-width:13px 10px;border-style:solid;left:2px;border-color:#fff transparent transparent transparent;top:-2px}']});let t=e;return t})();var Nx=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl=hr.apiUrl+"/Review"}addReview(n){return this.http.post(`${this.apiUrl}/AddReviews`,n)}getReviews(n){return this.http.get(`${this.apiUrl}/books/${n}/reviews`)}};e.\u0275fac=function(i){return new(i||e)(ce(nr))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fR(t,e){if(t&1&&(d(0,"span"),re(1,"i",9),f()),t&2){let r=e.index,n=W().$implicit;b(),fn("filled",r<n.rating)}}function pR(t,e){if(t&1&&(d(0,"div",7)(1,"p")(2,"strong"),v(3,"Raiting:"),f(),ie(4,fR,2,2,"span",8),v(5),f(),d(6,"p"),v(7),f(),d(8,"p")(9,"em"),v(10),f()(),re(11,"hr"),f()),t&2){let r=e.$implicit,n=W();b(4),k("ngForOf",n.stars),b(),we(" ",r.rating," "),b(2),je(r.comment),b(3),we("User: ",r.userName,"")}}function hR(t,e){if(t&1){let r=ot();d(0,"i",21),ae("click",function(){let i=xe(r).index,o=W(2);return Ne(o.selectStar(i+1))})("mouseenter",function(){let i=xe(r).index,o=W(2);return Ne(o.hoverStar(i+1))})("mouseleave",function(){xe(r);let i=W(2);return Ne(i.hoverStar(0))}),f()}if(t&2){let r=e.index,n=W(2);fn("filled",r<n.currentRating||r<n.hoverRating)}}function mR(t,e){t&1&&(d(0,"div",22),v(1," \u015E\u0259rh qismi b\xF6\u015F \xF6t\xFCr\xFCl\u0259 bilm\u0259z "),f())}function gR(t,e){if(t&1){let r=ot();d(0,"form",10,1),ae("ngSubmit",function(){xe(r);let i=Is(1),o=W();return Ne(o.addReview(i))}),d(2,"input",11),dt("ngModelChange",function(i){xe(r);let o=W();return lt(o.newReview.bookId,i)||(o.newReview.bookId=i),Ne(i)}),f(),d(3,"input",12),dt("ngModelChange",function(i){xe(r);let o=W();return lt(o.newReview.userId,i)||(o.newReview.userId=i),Ne(i)}),f(),d(4,"div",13)(5,"label",14),v(6,"Raiting"),f(),d(7,"div",15),ie(8,hR,1,2,"i",16),f()(),d(9,"div",13)(10,"label",17),v(11,"Comment"),f(),d(12,"textarea",18),dt("ngModelChange",function(i){xe(r);let o=W();return lt(o.newReview.comment,i)||(o.newReview.comment=i),Ne(i)}),f(),ie(13,mR,2,0,"div",19),f(),d(14,"button",20),v(15,"\u015E\u0259rh yaz"),f()()}if(t&2){let r=Is(1),n=W();b(2),ut("ngModel",n.newReview.bookId),b(),ut("ngModel",n.newReview.userId),b(5),k("ngForOf",n.stars),b(4),ut("ngModel",n.newReview.comment),b(),k("ngIf",!n.newReview.comment&&r.submitted)}}function vR(t,e){if(t&1){let r=ot();d(0,"div",23)(1,"p"),v(2,"\u015E\u0259rh yaza bilm\u0259k \xFC\xE7\xFCn "),d(3,"a",24),ae("click",function(){xe(r);let i=W();return Ne(i.showLoginPrompt())}),v(4,"Daxil olmal\u0131s\u0131n\u0131z"),f(),v(5,"."),f()()}}function _R(t,e){if(t&1&&(d(0,"div",25),v(1),f()),t&2){let r=W();b(),we(" ",r.errorMessage," ")}}function ER(t,e){if(t&1){let r=ot();d(0,"div",26)(1,"div",27)(2,"h4"),v(3,"Daxil olmal\u0131s\u0131n\u0131z "),f(),d(4,"p"),v(5,"\u015E\u0259rh yaza bilm\u0259k \xFC\xE7\xFCn xai\u015F olunur hesab\u0131n\u0131za daxil olun."),f(),d(6,"button",28),ae("click",function(){xe(r);let i=W();return Ne(i.redirectToLogin())}),v(7,"Daxil ol"),f(),d(8,"button",29),ae("click",function(){xe(r);let i=W();return Ne(i.closeModal())}),v(9,"ba\u011Fla"),f()()()}}var Dx=(()=>{let e=class e{constructor(n,i,o,a,s){this.reviewService=n,this.authService=i,this.router=o,this.toastr=a,this.changeDetectorRef=s,this.reviews=[],this.newReview={bookId:0,userId:"",rating:0,comment:"",userName:""},this.stars=[1,2,3,4,5],this.currentRating=0,this.hoverRating=0,this.isLoggedIn=!1,this.showModal=!1,this.errorMessage=""}ngOnInit(){console.log("Received bookId: ",this.bookId),this.isLoggedIn=!!this.authService.getToken(),this.currentRating=0,this.hoverRating=0,this.loadReviews()}loadReviews(){this.reviewService.getReviews(this.bookId).subscribe({next:n=>{n&&n.reviews&&(this.reviews=n.reviews)},error:n=>{n.status===204?(console.log("Bu kitap i\xE7in hen\xFCz yorum yap\u0131lmam\u0131\u015F."),this.reviews=[]):this.toastr.error("Yorumlar y\xFCklenirken bir hata olu\u015Ftu.","Hata")}})}onReviewSectionClick(){this.isLoggedIn||(this.showModal=!0)}showLoginPrompt(){this.showModal=!0}closeModal(){this.showModal=!1}redirectToLogin(){this.router.navigate(["/login"])}selectStar(n){this.currentRating=n,this.newReview.rating=n}hoverStar(n){this.hoverRating=n}addReview(n){if(!n.valid||this.currentRating===0){this.toastr.warning("Xai\u015F edirik \u015F\u0259rh qismini doldurun.","Uyar\u0131");return}this.newReview.bookId=this.bookId,this.newReview.userId=this.authService.getUserId(),this.newReview.userName=this.authService.getUserName(),this.reviewService.addReview(this.newReview).subscribe({next:i=>{i.success?(this.reviews.push(i.review),n.resetForm(),this.currentRating=0,this.hoverRating=0,this.loadReviews(),this.toastr.success("\u015E\u0259rhiniz \u0259lav\u0259  edildi.","U\u011Furlu")):this.toastr.error(i.message,"X\u0259ta")},error:i=>{i.error&&i.error.message?this.toastr.error(i.error.message,"X\u0259ta"):this.toastr.error("\u015E\u0259rh \u0259lav\u0259 edil\u0259rk\u0259n bir problem ba\u015F verdi.","X\u0259ta")}})}};e.\u0275fac=function(i){return new(i||e)(M(Nx),M(Tt),M(De),M(gr),M(Os))},e.\u0275cmp=_e({type:e,selectors:[["app-review"]],inputs:{bookId:"bookId"},standalone:!0,features:[Se],decls:7,vars:5,consts:[["loginWarning",""],["newReviewForm","ngForm"],["class","review",4,"ngFor","ngForOf"],[1,"review-form-container",3,"click"],["class","review-form",3,"ngSubmit",4,"ngIf","ngIfElse"],["class","alert alert-danger",4,"ngIf"],["class","login-modal",4,"ngIf"],[1,"review"],[4,"ngFor","ngForOf"],[1,"fa","fa-star"],[1,"review-form",3,"ngSubmit"],["type","hidden","name","bookId",3,"ngModelChange","ngModel"],["type","hidden","name","userId",3,"ngModelChange","ngModel"],[1,"form-group"],["for","rating"],[1,"stars"],["class","fa fa-star",3,"filled","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["for","comment"],["id","comment","name","comment",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-star",3,"click","mouseenter","mouseleave"],[1,"text-danger"],[1,"login-warning"],["href","javascript:void(0);",3,"click"],[1,"alert","alert-danger"],[1,"login-modal"],[1,"modal-content"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){if(i&1){let a=ot();ie(0,pR,12,4,"div",2),d(1,"div",3),ae("click",function(){return xe(a),Ne(o.onReviewSectionClick())}),ie(2,gR,16,5,"form",4)(3,vR,6,0,"ng-template",null,0,ed),f(),ie(5,_R,2,1,"div",5)(6,ER,10,0,"div",6)}if(i&2){let a=Is(4);k("ngForOf",o.reviews),b(2),k("ngIf",o.isLoggedIn)("ngIfElse",a),b(3),k("ngIf",o.errorMessage),b(),k("ngIf",o.showModal)}},dependencies:[He,St,gt,jt,Gi,Zt,Tn,ji,Rn,Co],styles:[".review[_ngcontent-%COMP%]{padding:15px;background-color:#f8f9fa;border-radius:6px;margin-bottom:15px;box-shadow:0 2px 4px #0000001a;font-family:Montserrat,sans-serif;font-weight:400;font-size:15px}em[_ngcontent-%COMP%]{color:#0ca32f}.review-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.review-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:4px;padding:10px;border:1px solid #ced4da}.review-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#6aa846;border-color:#6aa846;transition:background-color .3s ease,border-color .3s ease}.review-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4c8033;border-color:#4c8033}.star-rating[_ngcontent-%COMP%]{font-size:24px;color:gold}.fa-star[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s}.fa-star.filled[_ngcontent-%COMP%]{color:gold}.stars[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;color:#e0e0e0}.stars[_ngcontent-%COMP%]   i.filled[_ngcontent-%COMP%]{color:#ffc107}.login-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.modal-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:5px}.review-form-container[_ngcontent-%COMP%]{position:relative}.login-warning[_ngcontent-%COMP%]{cursor:pointer;background-color:#fffc;padding:10px;text-align:center;border-radius:4px}.review[_ngcontent-%COMP%]{margin-bottom:20px}.review[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.username[_ngcontent-%COMP%]{color:#6c757d;font-size:.9em;font-style:italic}.hr[_ngcontent-%COMP%]{border:0;height:1px;background-color:#e0e0e0;margin-top:10px;margin-bottom:10px}.toast-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff!important;border-radius:10px;box-shadow:0 4px 8px #0003}.toast-error[_ngcontent-%COMP%]{background-color:#dc3545!important;color:#fff!important;border-radius:10px;box-shadow:0 4px 8px #0003}"]});let t=e;return t})();function yR(t,e){if(t&1){let r=ot();d(0,"div",3)(1,"div",4),re(2,"img",5),d(3,"div",6)(4,"h5",7)(5,"a",8),ae("click",function(){let i=xe(r).$implicit,o=W();return Ne(o.navigateToDetail(i.bookId))}),v(6),f()(),d(7,"p",9),v(8),f()()()()}if(t&2){let r=e.$implicit;b(2),Ui("alt",r.bookName),k("src",r.imageUrls[0],Vt),b(4),je(r.bookName),b(2),je(r.authorName)}}var Ix=(()=>{let e=class e{constructor(n,i){this.bookService=n,this.router=i,this.relatedBooks=[]}ngOnInit(){console.log("Category ID:",this.categoryId),console.log("Current Book ID:",this.currentBookId),this.categoryId&&this.bookService.getRelatedBooks(this.categoryId).subscribe(n=>{this.relatedBooks=n.filter(i=>i.bookId!==this.currentBookId),console.log(this.relatedBooks)})}navigateToDetail(n){this.router.navigate(["/books",n])}};e.\u0275fac=function(i){return new(i||e)(M(Gn),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-related-books"]],inputs:{categoryId:"categoryId",currentBookId:"currentBookId"},standalone:!0,features:[Se],decls:5,vars:1,consts:[[1,"related-products","mt-4"],[1,"book-list"],["class","book-item",4,"ngFor","ngForOf"],[1,"book-item"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"text-dark",3,"click"],[1,"card-text"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h3"),v(2,"B\u0259nz\u0259r Kitablar"),f(),d(3,"div",1),ie(4,yR,9,4,"div",2),f()()),i&2&&(b(4),k("ngForOf",o.relatedBooks))},dependencies:[He,St,jt,Et],styles:[".related-products[_ngcontent-%COMP%]{margin-top:20px;text-align:center;margin-bottom:32px}.related-products[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:2px solid #c0cbd8;padding-bottom:10px;margin-bottom:20px;color:#606366;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}.book-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:20px}.book-item[_ngcontent-%COMP%]{max-width:200px;flex:1;text-align:center}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:10px;overflow:hidden;transition:transform .2s;cursor:pointer;font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-img-top[_ngcontent-%COMP%]{width:100%;height:250px;margin-top:20px;margin-left:2px;object-fit:contain}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1rem;margin-top:10px;font-weight:400}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-text[_ngcontent-%COMP%]{font-size:.875rem;color:#555}"]});let t=e;return t})();var bR=["reviewsSection"];function CR(t,e){if(t&1&&re(0,"img",33),t&2){let r=W(2);Ui("alt",r.book.bookName),k("src",r.book.imageUrls[0],Vt)}}function SR(t,e){if(t&1&&(d(0,"div",34),re(1,"img",35),f()),t&2){let r=e.$implicit;b(),k("src",r,Vt)}}function TR(t,e){if(t&1&&re(0,"i",36),t&2){let r=e.index,n=W(2);fn("filled",r<n.averageRating)("empty",r>=n.averageRating)}}function xR(t,e){if(t&1&&re(0,"app-related-books",37),t&2){let r=W(2);k("categoryId",r.book.categoryId)("currentBookId",r.book.bookId)}}function NR(t,e){if(t&1){let r=ot();d(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),ie(4,CR,1,2,"img",6),f(),d(5,"div",7),ie(6,SR,2,1,"div",8),f()(),d(7,"div",9)(8,"h2",10),v(9),f(),d(10,"h4",11),v(11),f(),d(12,"p",12),v(13),f(),d(14,"p",13)(15,"strong"),v(16,"Stok v\u0259ziy\u0259ti:"),f(),v(17),f(),d(18,"p"),v(19),f(),d(20,"div",14)(21,"span",15),v(22),f(),d(23,"div",16),ie(24,TR,1,4,"i",17),f(),d(25,"p"),v(26),d(27,"a",18),ae("click",function(){xe(r);let i=W();return Ne(i.selectTab("reviews"))}),v(28,"\u015E\u0259rh Yaz\u0131n"),f()()(),d(29,"div",19)(30,"div",20)(31,"label",21),v(32,"\u018Fd\u0259d"),f(),d(33,"input",22),dt("ngModelChange",function(i){xe(r);let o=W();return lt(o.quantity,i)||(o.quantity=i),Ne(i)}),ae("input",function(){xe(r);let i=W();return Ne(i.checkQuantity())})("change",function(){xe(r);let i=W();return Ne(i.checkQuantity())})("keypress",function(i){xe(r);let o=W();return Ne(o.limitInputLength(i))}),f()(),d(34,"button",23),ae("click",function(){xe(r);let i=W();return Ne(i.addToBasket(i.book.bookId))}),v(35,"S\u0259b\u0259t\u0259 at"),f()()()(),d(36,"div",24)(37,"button",25),ae("click",function(){xe(r);let i=W();return Ne(i.selectTab("description"))}),v(38,"Kitab Haqq\u0131nda"),f(),d(39,"button",26,0),ae("click",function(){xe(r);let i=W();return Ne(i.selectTab("reviews"))}),v(41),f()(),d(42,"div",27)(43,"div",28)(44,"p"),v(45),f()(),d(46,"div",29),re(47,"app-review",30),f()(),d(48,"div",31)(49,"div",3),ie(50,xR,1,2,"app-related-books",32),f()()()}if(t&2){let r=W();b(4),k("ngIf",r.book.imageUrls.length>0),b(2),k("ngForOf",r.book.imageUrls),b(3),je(r.book.bookName),b(2),je(r.book.authorName),b(2),we("Qiym\u0259t: ",r.book.price,"\u20BC"),b(4),we(" ",r.book.stock>0?"M\xF6vcud":"Stokta yok"," "),b(2),je(r.book.description),b(3),we("",r.averageRating," out of 5 stars"),b(2),k("ngForOf",r.stars),b(2),we("",r.totalReviews," global ratings | "),b(7),ut("ngModel",r.quantity),b(4),fn("active",r.activeTab==="description"),b(2),fn("active",r.activeTab==="reviews"),b(2),we("\u015E\u0259rhl\u0259r (",r.totalReviews,")"),b(2),fn("active",r.activeTab==="description")("show",r.activeTab==="description"),b(2),je(r.book.description),b(),fn("active",r.activeTab==="reviews")("show",r.activeTab==="reviews"),b(),k("bookId",r.book.bookId),b(3),k("ngIf",r.book.categoryId!==null)}}var Ox=(()=>{let e=class e{constructor(n,i,o,a,s,c){this.activatedRoute=n,this.router=i,this.bookService=o,this.basketService=a,this.authService=s,this.toastr=c,this.activeTab="description",this.averageRating=0,this.totalReviews=0,this.stars=[1,2,3,4,5],this.quantity=1,this.userId=null}ngOnInit(){this.activatedRoute.paramMap.subscribe(n=>{let i=n.get("id");i&&(this.loadBookDetails(+i),window.scrollTo({top:0,behavior:"smooth"}))})}loadBookDetails(n){this.bookService.getBookDetails(n).subscribe({next:i=>{this.book=i,this.averageRating=this.book.averageRating,this.totalReviews=this.book.totalReviews},error:i=>{}})}selectTab(n){this.activeTab=n,n==="reviews"&&this.reviewsSection&&this.scrollToReviews()}scrollToReviews(){this.reviewsSection.nativeElement.scrollIntoView({behavior:"smooth"})}quickRate(n){console.log(`User rated this product: ${n} stars`)}addToBasket(n){if(this.userId=this.authService.getUserId(),!this.userId){this.toastr.warning("S\u0259b\u0259t\u0259 kitap \u0259lav\u0259 etm\u0259k \xFC\xE7\xFCn Daxil olun "),this.router.navigate(["/login"]);return}if(this.quantity<1){alert("d\xFCzg\xFCn miqdar girin z\u0259hm\u0259t olmasa");return}this.basketService.addItemToBasket(n,this.quantity,this.userId).subscribe(()=>{this.basketService.getBasket(this.userId).subscribe()})}limitInputLength(n){n.target.value.length>=2&&n.key>="0"&&n.key<="9"&&n.preventDefault()}checkQuantity(){this.quantity>99?this.quantity=99:this.quantity<1&&(this.quantity=1)}};e.\u0275fac=function(i){return new(i||e)(M(Jt),M(De),M(Gn),M(Sn),M(Tt),M(gr))},e.\u0275cmp=_e({type:e,selectors:[["app-book-detail"]],viewQuery:function(i,o){if(i&1&&FC(bR,5),i&2){let a;$v(a=Wv())&&(o.reviewsSection=a.first)}},standalone:!0,features:[Se],decls:1,vars:1,consts:[["reviewsSection",""],["class","container mt-4 book-details-page",4,"ngIf"],[1,"container","mt-4","book-details-page"],[1,"row"],[1,"col-md-4"],[1,"main-book-image"],["class","img-fluid main-image",3,"src","alt",4,"ngIf"],[1,"additional-images","mt-3"],["class","additional-image-item",4,"ngFor","ngForOf"],[1,"col-md-8"],[1,"book-title"],[1,"text-muted","author-name"],[1,"text-muted","price"],[1,"text-muted"],[1,"average-rating"],[1,"average-rating-value"],[1,"stars"],["class","fa fa-star",3,"filled","empty",4,"ngFor","ngForOf"],["href","javascript:void(0);",2,"font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",3,"click"],[1,"action-buttons","mt-3"],[1,"quantity-wrapper"],["for","quantity",1,"quantity-label"],["type","number","id","quantity","min","1","max","99","value","1",1,"quantity-input",3,"ngModelChange","input","change","keypress","ngModel"],[1,"btn","btn-primary","add-to-cart",3,"click"],["id","productDetailTab","role","tablist",1,"nav","nav-tabs","mt-4"],["id","description-tab","role","tab","aria-controls","description",1,"nav-link",3,"click"],["id","reviews-tab","role","tab","aria-controls","reviews",1,"nav-link",3,"click"],[1,"tab-content"],["id","description","role","tabpanel","aria-labelledby","description-tab",1,"tab-pane","fade","show"],["id","reviews","role","tabpanel","aria-labelledby","reviews-tab",1,"tab-pane","fade"],[3,"bookId"],[1,"related-products","mt-4"],[3,"categoryId","currentBookId",4,"ngIf"],[1,"img-fluid","main-image",3,"src","alt"],[1,"additional-image-item"],["alt","Ek Kitap G\xF6rseli",1,"img-fluid","additional-image",3,"src"],[1,"fa","fa-star"],[3,"categoryId","currentBookId"]],template:function(i,o){i&1&&ie(0,NR,51,27,"div",1),i&2&&k("ngIf",o.book)},dependencies:[He,St,gt,Et,Dx,Ix,jt,Zt,Vs,Tn,m0,h0,Rn],styles:[".book-details-page[_ngcontent-%COMP%]{max-width:1200px;margin:auto;font-family:Montserrat,sans-serif}\\15f[_ngcontent-%COMP%]   .main-book-image[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px;font-size:24px;color:#007bff}.main-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;box-shadow:0 4px 8px #0000001a}.additional-images[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;margin-top:20px}.additional-image-item[_ngcontent-%COMP%]{flex:1;max-width:60px}.additional-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:4px;box-shadow:0 2px 4px #0000001a}.book-title[_ngcontent-%COMP%]{font-size:28px;margin-bottom:10px;font-family:Montserrat,sans-serif}.author-name[_ngcontent-%COMP%]{font-size:20px;color:#6c757d;margin-bottom:20px}.price[_ngcontent-%COMP%]{font-size:22px;color:#28a745}.quantity-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-right:20px}.quantity-label[_ngcontent-%COMP%]{margin-right:8px;font-size:16px;color:#666}.quantity-input[_ngcontent-%COMP%]{width:60px;height:38px;text-align:center;border-radius:4px;border:1px solid #ced4da;font-size:16px;color:#495057;background-color:#f8f9fa;transition:border-color .3s ease-in-out,box-shadow .3s ease-in-out}.quantity-input[_ngcontent-%COMP%]:hover, .quantity-input[_ngcontent-%COMP%]:focus{border-color:#6aa846;box-shadow:0 0 5px #6aa84680;outline:none}.action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.btn.add-to-cart[_ngcontent-%COMP%]{background-color:#6aa846;border-color:#6aa846;color:#fff;padding:12px 24px;border-radius:4px;transition:background-color .3s ease-in-out,transform .3s ease-in-out;box-shadow:0 4px 8px #0000001a}.btn.add-to-cart[_ngcontent-%COMP%]:hover{background-color:#4c8033;border-color:#4c8033;transform:translate(10px);box-shadow:0 8px 16px #00000026}.action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-top:20px}.btn.add-to-wishlist[_ngcontent-%COMP%], .btn.add-to-compare[_ngcontent-%COMP%]{color:#6aa846;border-color:#6aa846;padding:10px 20px}.product-review[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{font-size:18px}.fa-star[_ngcontent-%COMP%], .checked[_ngcontent-%COMP%]{color:gold}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #6AA846}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#6aa846;border:none;background:none;font-size:16px;padding:10px 20px;transition:background-color .3s,color .3s}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#6aa846;border:none}.tab-content[_ngcontent-%COMP%]{padding:20px;border:1px solid #e9ecef;border-top:none;background-color:#fff}.review[_ngcontent-%COMP%]{margin-bottom:20px}.review[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{border-radius:4px}.btn-primary[_ngcontent-%COMP%]{background-color:#6aa846;border-color:#6aa846;transition:background-color .3s,border-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#4c8033;border-color:#4c8033}.related-products[_ngcontent-%COMP%]{padding-top:20px}.related-products[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:400;font-family:Verdana,Geneva,Tahoma,sans-serif;margin-bottom:20px;text-align:center}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 16px #0003}.card-title[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.card-text[_ngcontent-%COMP%]{color:#6c757d}.col-md-8[_ngcontent-%COMP%]{color:#666}.card-img-top[_ngcontent-%COMP%]{height:200px;object-fit:contain;margin-bottom:15px}#productDetailTabContent[_ngcontent-%COMP%]{height:300px}.tab-pane[_ngcontent-%COMP%]{display:none}.tab-pane.active.show[_ngcontent-%COMP%]{display:block}.review-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.review-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:6px;padding:10px;border:1px solid #ced4da}.review-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#6aa846;border-color:#6aa846;padding:10px 15px;transition:background-color .3s ease}.review-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4c8033;border-color:#4c8033}.review[_ngcontent-%COMP%]{padding:15px;background-color:#f8f9fa;border-radius:6px;margin-bottom:15px;box-shadow:0 2px 4px #0000001a}.review[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.review[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#6aa846}.tab-content[_ngcontent-%COMP%]{padding:20px;min-height:300px;font-weight:400;color:#666;font-size:14px;line-height:1.75}.stars[_ngcontent-%COMP%]   .fa-star.filled[_ngcontent-%COMP%]{color:gold}.stars[_ngcontent-%COMP%]   .fa-star-o.empty[_ngcontent-%COMP%]{color:#d3d3d3}.stars[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%], .stars[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{color:gold}.stars[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{color:#ddd}"]});let t=e;return t})();var DR=t=>["/books",t];function IR(t,e){if(t&1&&re(0,"img",22),t&2){let r=W().$implicit;Ui("alt",r.bookName),k("src",r.imageUrls[0],Vt)}}function OR(t,e){if(t&1){let r=ot();d(0,"div",11)(1,"div",12),ie(2,IR,1,2,"img",13),d(3,"div",14)(4,"h5",15)(5,"a",16),v(6),f()(),d(7,"h6",17),v(8),f(),d(9,"p",18),v(10),f(),d(11,"div",19)(12,"button",20),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.addToBasket(i.bookId))}),f(),re(13,"button",21),f()()()()}if(t&2){let r=e.$implicit;b(2),k("ngIf",r.imageUrls&&r.imageUrls.length>0),b(3),k("routerLink",Rp(5,DR,r.bookId)),b(),je(r.bookName),b(2),je(r.authorName),b(2),we("\u20BC",r.price,"")}}function PR(t,e){if(t&1&&(d(0,"div",8)(1,"div",9),ie(2,OR,14,7,"div",10),f()()),t&2){let r=W();b(2),k("ngForOf",r.books)}}var _0=(()=>{let e=class e{constructor(n,i,o,a,s,c){this.bookService=n,this.router=i,this.basketService=o,this.authService=a,this.navigation=s,this.toastr=c,this.books=[],this.pageNumber=1,this.pageSize=8,this.userId=null,this.totalProductCount=0}ngOnInit(){this.router.paramMap.subscribe(n=>{this.categoryId=Number(n.get("id")),this.router.queryParams.subscribe(i=>{let o=i.keyword;o?this.bookService.searchBooks(o).subscribe(a=>{this.books=a,this.totalProductCount=a.length},a=>{console.error("Error loading search results:",a)}):this.loadBooks()})}),console.log("TotalProductCount:",this.totalProductCount),console.log("Books:",this.books),console.log("PageNumber:",this.pageNumber)}loadBooks(){this.books=[],this.categoryId?this.bookService.getBooksByCategoryId(this.categoryId,this.pageNumber,this.pageSize).subscribe(n=>{this.books=n.books,this.totalProductCount=n.totalProductCount,console.log(n)},n=>{console.error("Error loading books:",n)}):this.bookService.getBooks(this.pageNumber,this.pageSize).subscribe(n=>{this.books=n.books,this.totalProductCount=n.totalProductCount,console.log(n)},n=>{console.error("Error loading books:",n)})}nextPage(){let n=Math.ceil(this.totalProductCount/this.pageSize);this.pageNumber<n&&(this.pageNumber++,this.loadBooks())}previousPage(){this.pageNumber>1&&(this.pageNumber--,this.loadBooks())}addToBasket(n){if(this.userId=this.authService.getUserId(),!this.userId){this.toastr.warning("S\u0259b\u0259t\u0259 kitap \u0259lav\u0259 etm\u0259k \xFC\xE7\xFCn Daxil olun "),this.navigation.navigate(["/login"]);return}this.basketService.addItemToBasket(n,1,this.userId).subscribe(()=>{this.basketService.getBasket(this.userId).subscribe()})}};e.\u0275fac=function(i){return new(i||e)(M(Gn),M(Jt),M(Sn),M(Tt),M(De),M(gr))},e.\u0275cmp=_e({type:e,selectors:[["app-book-list"]],standalone:!0,features:[Se],decls:14,vars:6,consts:[["class","container my-4",4,"ngIf"],[1,"row","mt-4"],[1,"col-12","text-center"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],[1,"page-link"],[1,"container","my-4"],[1,"row","mt-3"],["class","col-lg-3 col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6","mb-4"],[1,"card"],["class","card-img-top",3,"src","alt",4,"ngIf"],[1,"card-body","text-center"],[1,"card-title"],[1,"text-dark",3,"routerLink"],[1,"text-muted"],[1,"card-text"],[1,"card-buttons","mt-3"],["data-tooltip","S\u0259b\u0259t\u0259 \u018Flav\u0259 et",1,"icon-btn","icon-cart",3,"click"],["data-tooltip","Detaylar\u0131 G\xF6r",1,"icon-btn","icon-eye"],[1,"card-img-top",3,"src","alt"]],template:function(i,o){i&1&&(ie(0,PR,3,1,"div",0),d(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ul",4)(5,"li",5)(6,"a",6),ae("click",function(){return o.previousPage()}),v(7,"\xD6nc\u0259ki"),f()(),d(8,"li",5)(9,"span",7),v(10),f()(),d(11,"li",5)(12,"a",6),ae("click",function(){return o.nextPage()}),v(13,"Sonrak\u0131"),f()()()()()()),i&2&&(k("ngIf",o.books&&o.books.length>0),b(5),fn("disabled",o.pageNumber===1),b(5),we("S\u0259hif\u0259 ",o.pageNumber,""),b(),fn("disabled",o.pageNumber*o.pageSize>=o.totalProductCount))},dependencies:[He,St,gt,Et,oi],styles:['.row[_ngcontent-%COMP%]{width:98%;margin-left:18px;font-family:Montserrat,sans-serif}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:16px;transition:background-color .3s ease-in-out,color .3s ease-in-out;position:relative;padding-bottom:15px;font-size:17px;color:#797c93;line-height:38px;text-transform:capitalize;font-weight:600;font-family:Montserrat,sans-serif}#productTabContent[_ngcontent-%COMP%]{margin-top:35px}body[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:#6aa846;color:#6aa846}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;border-color:#6aa846;color:#6aa846}.card[_ngcontent-%COMP%]{margin:20px auto;border:none;box-shadow:0 4px 8px #0000001a;background-color:#f8f9fa;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;display:flex;flex-direction:column;justify-content:space-between;width:82%;cursor:pointer;padding:10px}.card-body[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:space-between;font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #00000026}.card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:8px;font-family:Montserrat,sans-serif}.text-muted[_ngcontent-%COMP%]{font-size:14px;color:#777;margin-bottom:10px;font-family:Montserrat,sans-serif}.card-text[_ngcontent-%COMP%]{font-size:14px;color:#999;margin-bottom:10px}.card-img-top[_ngcontent-%COMP%]{height:230px;object-fit:contain;margin-bottom:15px}.badge[_ngcontent-%COMP%]{font-size:14px}.card-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background-color:transparent;font-family:Montserrat,sans-serif;position:relative;border:none;cursor:pointer;font-size:20px;color:#6aa846;transition:color .3s ease-in-out,transform .2s ease-in-out}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{color:#4c8033;transform:translateY(-2px)}.icon-cart[_ngcontent-%COMP%]:before{content:"\\f217";font-family:"Font Awesome 5 Free";font-weight:900}.icon-details[_ngcontent-%COMP%]:before{content:"\\f05a";font-family:"Font Awesome 5 Free";font-weight:400}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;top:110%;left:50%;transform:translate(-50%);background-color:#384332;color:#fff;padding:4px 8px;border-radius:3px;font-size:12px;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover:after{opacity:1;visibility:visible;transform:translate(-37%,8px)}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.container.my-4[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.row.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.arrow-icon[_ngcontent-%COMP%]{position:absolute;display:block;opacity:1}.arrow-icon[_ngcontent-%COMP%]:after{position:absolute;content:"";border-width:13px 10px;border-style:solid;left:2px;border-color:#fff transparent transparent transparent;top:-2px}.pagination[_ngcontent-%COMP%]{margin-top:20px}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6aa846;border:1px solid #6AA846;padding:10px 15px;border-radius:50px;transition:background-color .3s,color .3s}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#6aa846;color:#fff}.pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#999;background-color:#f0f0f0;border-color:#ddd}.pagination[_ngcontent-%COMP%]{cursor:pointer}']});let t=e;return t})();function wR(t,e){if(t&1&&(d(0,"div",20),v(1),f()),t&2){let r=W();b(),we(" ",r.loginError," ")}}function MR(t,e){t&1&&(d(0,"div",21),v(1," Nicnkname z\u0259ruridir "),f())}function RR(t,e){t&1&&(d(0,"div",21),v(1," \u015Eifr\u0259 g\u0259r\u0259ylidir "),f())}function AR(t,e){t&1&&(d(0,"div",21),v(1," \u015Eifr\u0259 \u0259n az 6 h\u0259rf olmal\u0131d\u0131r "),f())}var Px=(()=>{let e=class e{constructor(n,i,o){this.authService=n,this.router=i,this.basketService=o,this.email="",this.password="",this.loginError=null,this.validationErrors=[]}ngAfterViewInit(){typeof google<"u"?this.googleLogin():console.error("Google API y\xFCklenemedi.")}onLogin(){this.authService.login(this.email,this.password).subscribe(n=>{console.log("Giri\u015F u\u011Furlu !",n),n.token.accessToken&&(localStorage.setItem("accessToken",n.token.accessToken),localStorage.setItem("refreshToken",n.token.refreshToken),this.router.navigate(["/home"]).then(()=>{window.location.reload()}))},n=>{this.loginError=n.error.message||"Giri\u015F s\u0131ras\u0131nda bir x\u0259ta va\u015F.",this.validationErrors=n.error.errors||[]})}googleLogin(){google.accounts.id.initialize({client_id:"481116876345-91nqt31nkl5go3hffab10kaindap1n8g.apps.googleusercontent.com",callback:this.handleGoogleResponse.bind(this)}),google.accounts.id.prompt()}handleGoogleResponse(n){console.log("Google login response",n);let i=n.credential;this.authService.googleLogin(i).subscribe(o=>{console.log("Login successful",o),o&&o.accessToken?(localStorage.setItem("accessToken",o.accessToken),this.router.navigate(["/home"]).then(()=>{window.location.reload()})):console.error("Failed to store the token.")},o=>{console.error("Google login error",o)})}};e.\u0275fac=function(i){return new(i||e)(M(Tt),M(De),M(Sn))},e.\u0275cmp=_e({type:e,selectors:[["app-login"]],standalone:!0,features:[Se],decls:33,vars:6,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-sm",2,"width","400px"],[1,"text-center","mb-4"],[1,"d-grid","gap-2","mb-3"],[1,"btn","btn-danger",3,"click"],[1,"fab","fa-google","me-2"],[1,"text-center","mb-3"],[3,"ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"form-group","mb-3"],["for","email"],["type","email","name","email","id","email","placeholder","Enter username",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","password"],["type","password","name","password","id","password","placeholder","Enter password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","mb-3"],["type","submit",1,"btn","btn-success"],["href","#",1,"text-muted"],[1,"text-center"],["href","/register",1,"btn","btn-link"],[1,"alert","alert-danger"],[1,"text-danger"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2),v(3,"Daxil ol"),f(),d(4,"div",3)(5,"button",4),ae("click",function(){return o.googleLogin()}),re(6,"i",5),v(7," Google il\u0259 daxil ol "),f()(),d(8,"div",6),v(9,"V\u0259ya"),f(),d(10,"form",7),ae("ngSubmit",function(){return o.onLogin()}),ie(11,wR,2,1,"div",8),d(12,"div",9)(13,"label",10),v(14," Username"),f(),d(15,"input",11),dt("ngModelChange",function(s){return lt(o.email,s)||(o.email=s),s}),f(),ie(16,MR,2,0,"div",12),f(),d(17,"div",9)(18,"label",13),v(19,"\u015Eifr\u0259"),f(),d(20,"input",14),dt("ngModelChange",function(s){return lt(o.password,s)||(o.password=s),s}),f(),ie(21,RR,2,0,"div",12)(22,AR,2,0,"div",12),f(),d(23,"div",15)(24,"button",16),v(25,"Daxil ol"),f()(),d(26,"div",6)(27,"a",17),v(28,"Forgot password?"),f()()(),re(29,"hr"),d(30,"div",18)(31,"a",19),v(32,"Qeydiyyatdan Ke\xE7"),f()()()()),i&2&&(b(11),k("ngIf",o.loginError),b(4),ut("ngModel",o.email),b(),k("ngIf",o.validationErrors.includes("Email z\u0259ruridir")),b(4),ut("ngModel",o.password),b(),k("ngIf",o.validationErrors.includes("\u015Eifr\u0259 g\u0259r\u0259ylidir")),b(),k("ngIf",o.validationErrors.includes("\u015Eifr\u0259 \u0259n az 6 h\u0259rf olmal\u0131d\u0131r")))},dependencies:[He,gt,jt,Gi,Zt,Tn,ji,Rn,Co],styles:["body[_ngcontent-%COMP%]{background-color:#f8f9fa}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;font-family:Montserrat,sans-serif}h3[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:450;color:#000}.form-control[_ngcontent-%COMP%]{border-radius:5px}.btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{border-radius:5px;padding:10px;font-size:16px}.text-muted[_ngcontent-%COMP%]{font-size:14px}.btn-link[_ngcontent-%COMP%]{font-size:16px;color:#007bff}.text-danger[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}"]});let t=e;return t})();var wx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["app-emailverification"]],standalone:!0,features:[Se],decls:8,vars:0,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-sm",2,"width","400px"],[1,"text-center","mb-4"],[1,"text-center"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2),v(3,"Email adresinin t\u0259sdiql\u0259nm\u0259si g\u0259r\u0259ylidir"),f(),d(4,"p",3),v(5," Qeydiyyat\u0131n\u0131z\u0131 tamamlamaq \xFC\xE7\xFCn e-po\xE7tunuza g\xF6nd\u0259ril\u0259n do\u011Frulama linkin\u0259 klikl\u0259yin. "),f(),d(6,"p",3),v(7," E-po\xE7t almam\u0131s\u0131n\u0131zsa, spam qovlu\u011Funuzu yoxlay\u0131n v\u0259 ya yenid\u0259n qeydiyyatdan ke\xE7m\u0259y\u0259 c\u0259hd edin. "),f()()())},dependencies:[He,Et],styles:[".container[_ngcontent-%COMP%]{padding:20px;font-family:Montserrat,sans-serif;font-weight:430}h3[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#000;font-size:37px}.card[_ngcontent-%COMP%]{border-radius:8px}h3[_ngcontent-%COMP%]{color:#333}p[_ngcontent-%COMP%]{color:#555}"]});let t=e;return t})();function kR(t,e){t&1&&(d(0,"div",18),v(1," \u0130stifad\u0259\xE7i ad\u0131 \u0259n az\u0131 3 simvol uzunlu\u011Funda olmal\u0131d\u0131r. "),f())}function FR(t,e){t&1&&(d(0,"div",18),v(1," Ad sah\u0259si bo\u015F qala bilm\u0259z. "),f())}function LR(t,e){t&1&&(d(0,"div",18),v(1," Soyad sah\u0259si bo\u015F qala bilm\u0259z. "),f())}function UR(t,e){t&1&&(d(0,"div",18),v(1," Etibarl\u0131 e-po\xE7t \xFCnvan\u0131 daxil edin. "),f())}function YR(t,e){t&1&&(d(0,"div",18),v(1," Parol \u0259n az\u0131 6 simvol uzunlu\u011Funda olmal\u0131d\u0131r. "),f())}function VR(t,e){t&1&&(d(0,"div",18),v(1," Parollar uy\u011Fun g\u0259lmir. "),f())}function BR(t,e){if(t&1&&(d(0,"div",19),v(1),f()),t&2){let r=W();b(),we(" ",r.registrationError," ")}}function jR(t,e){if(t&1&&(d(0,"div",20),v(1),f()),t&2){let r=W();b(),we(" ",r.registrationSuccess," ")}}var Mx=(()=>{let e=class e{constructor(n,i,o){this.fb=n,this.authService=i,this.router=o,this.registerForm=this.fb.group({}),this.registrationError=null,this.registrationSuccess=null}ngOnInit(){this.registerForm=this.fb.group({firstName:["",ai.required],lastName:["",ai.required],userName:["",[ai.required,ai.minLength(3)]],email:["",[ai.required,ai.email]],password:["",[ai.required,ai.minLength(6)]],passwordConfirm:["",ai.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(n){let i=n.get("password")?.value,o=n.get("passwordConfirm")?.value;return i===o?null:{passwordMismatch:!0}}onRegister(){if(this.registerForm.markAllAsTouched(),this.registerForm.invalid)return;let n={userName:this.registerForm.value.userName,email:this.registerForm.value.email,password:this.registerForm.value.password,nameSurname:`${this.registerForm.value.firstName} ${this.registerForm.value.lastName}`,passwordConfirm:this.registerForm.value.passwordConfirm};this.authService.register(n).subscribe(()=>{this.registrationSuccess="Qeydiyyat u\u011Furlu oldu! E-po\xE7t \xFCnvan\u0131n\u0131z\u0131 do\u011Frulamaq \xFC\xE7\xFCn link\u0259 klikl\u0259yin.",this.router.navigate(["/email-verification"])},i=>{this.registrationError="X\u0259ta ba\u015F verdi. Daha sonra yenid\u0259n c\u0259hd edin."})}};e.\u0275fac=function(i){return new(i||e)(M(Tx),M(Tt),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-register"]],standalone:!0,features:[Se],decls:30,vars:9,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-sm",2,"width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["type","text","formControlName","userName","placeholder","Username","required","","minlength","3",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"row"],[1,"col"],["type","text","formControlName","firstName","placeholder","First Name","required","",1,"form-control"],["type","text","formControlName","lastName","placeholder","Last Name","required","",1,"form-control"],["type","email","formControlName","email","placeholder","Email Address","required","",1,"form-control"],["type","password","formControlName","password","placeholder","Password","required","","minlength","6",1,"form-control"],["type","password","formControlName","passwordConfirm","placeholder","Confirm Password","required","",1,"form-control"],[1,"d-grid","mb-3"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"text-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(i,o){if(i&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2),v(3,"Qeydiyyatdan Ke\xE7in "),f(),d(4,"form",3),ae("ngSubmit",function(){return o.onRegister()}),d(5,"div",4),re(6,"input",5),ie(7,kR,2,0,"div",6),f(),d(8,"div",4)(9,"div",7)(10,"div",8),re(11,"input",9),ie(12,FR,2,0,"div",6),f(),d(13,"div",8),re(14,"input",10),ie(15,LR,2,0,"div",6),f()()(),d(16,"div",4),re(17,"input",11),ie(18,UR,2,0,"div",6),f(),d(19,"div",4),re(20,"input",12),ie(21,YR,2,0,"div",6),f(),d(22,"div",4),re(23,"input",13),ie(24,VR,2,0,"div",6),f(),d(25,"div",14)(26,"button",15),v(27,"Qeydiyyat"),f()(),ie(28,BR,2,1,"div",16)(29,jR,2,1,"div",17),f()()()),i&2){let a,s,c,u,l,p;b(4),k("formGroup",o.registerForm),b(3),k("ngIf",((a=o.registerForm.get("userName"))==null?null:a.invalid)&&((a=o.registerForm.get("userName"))==null?null:a.touched)),b(5),k("ngIf",((s=o.registerForm.get("firstName"))==null?null:s.invalid)&&((s=o.registerForm.get("firstName"))==null?null:s.touched)),b(3),k("ngIf",((c=o.registerForm.get("lastName"))==null?null:c.invalid)&&((c=o.registerForm.get("lastName"))==null?null:c.touched)),b(3),k("ngIf",((u=o.registerForm.get("email"))==null?null:u.invalid)&&((u=o.registerForm.get("email"))==null?null:u.touched)),b(3),k("ngIf",((l=o.registerForm.get("password"))==null?null:l.invalid)&&((l=o.registerForm.get("password"))==null?null:l.touched)),b(3),k("ngIf",(o.registerForm.errors==null?null:o.registerForm.errors.passwordMismatch)&&((p=o.registerForm.get("passwordConfirm"))==null?null:p.touched)),b(4),k("ngIf",o.registrationError),b(),k("ngIf",o.registrationSuccess)}},dependencies:[He,gt,Sa,Gi,Zt,Tn,ji,So,g0,f0,p0],styles:[".container[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;height:100vh;font-family:Montserrat,sans-serif;background-color:#eefafb}h3[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]{width:400px;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:10px}h3[_ngcontent-%COMP%]{font-size:24px;font-weight:700;text-align:center;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{height:45px;font-size:16px;padding:10px;border-radius:5px;border:1px solid #ccc}.btn-primary[_ngcontent-%COMP%]{background-color:#17a2b8;border-color:#17a2b8;font-size:18px;height:45px;border-radius:5px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}.alert[_ngcontent-%COMP%]{margin-top:20px;font-size:14px;text-align:center}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-color:#c3e6cb}"]});let t=e;return t})();var Rx=(()=>{let e=class e{constructor(n,i,o){this.router=n,this.route=i,this.authService=o,this.confirmationMessage="Emailiniz u\u011Furla  do\u011Fruland\u0131 Ana s\u0259hif\u0259y\u0259 y\xF6nl\u0259ndirilirsiniz..."}ngOnInit(){this.route.queryParams.subscribe(n=>{let i=n.token;i?(this.authService.saveToken(i),this.authService.currentUserSubject.next(this.authService.getUserName()),setTimeout(()=>{this.router.navigate(["/home"])},2e3)):(this.confirmationMessage="Email confirmation failed. Redirecting to error page...",setTimeout(()=>{this.router.navigate(["/error"])},2e3))})}};e.\u0275fac=function(i){return new(i||e)(M(De),M(Jt),M(Tt))},e.\u0275cmp=_e({type:e,selectors:[["app-confirmation-success"]],standalone:!0,features:[Se],decls:5,vars:0,consts:[[1,"container"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h2"),v(2,"Emailiniz u\u011Furla do\u011Fruland\u0131!"),f(),d(3,"p"),v(4,"Ana s\u0259hif\u0259y\u0259 y\xF6nl\u0259ndirilirsiniz..."),f()())},styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;background-color:#f7f7f7;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{color:#4caf50;font-size:24px;margin-bottom:15px}p[_ngcontent-%COMP%]{color:#333;font-size:18px}"]});let t=e;return t})();function GR(t,e){if(t&1&&(d(0,"div",3),v(1),f()),t&2){let r=W();b(),we(" ",r.confirmationSuccess," ")}}function HR(t,e){if(t&1&&(d(0,"div",4),v(1),f()),t&2){let r=W();b(),we(" ",r.confirmationError," ")}}var Ax=(()=>{let e=class e{constructor(n,i,o){this.authService=n,this.route=i,this.router=o,this.token="",this.email="",this.confirmationError=null,this.confirmationSuccess=null}ngOnInit(){this.route.queryParams.subscribe(n=>{this.token=n.token,this.email=n.email,this.confirmEmail()})}confirmEmail(){this.authService.confirmEmail(this.token,this.email).subscribe(()=>{this.confirmationSuccess="E-po\xE7tun do\u011Frulanmas\u0131 u\u011Furlu oldu! \u0130ndi daxil ola bil\u0259rsiniz.",setTimeout(()=>{this.router.navigate(["/login"])},2e3)},n=>{this.confirmationError="E-po\xE7tun do\u011Frulanmas\u0131 u\u011Fursuz oldu. Yenid\u0259n c\u0259hd edin."})}};e.\u0275fac=function(i){return new(i||e)(M(Tt),M(Jt),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-confirmemail"]],standalone:!0,features:[Se],decls:3,vars:2,consts:[[1,"container"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(i,o){i&1&&(d(0,"div",0),ie(1,GR,2,1,"div",1)(2,HR,2,1,"div",2),f()),i&2&&(b(),k("ngIf",o.confirmationSuccess),b(),k("ngIf",o.confirmationError))},dependencies:[He,gt,Et],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.alert[_ngcontent-%COMP%]{width:100%;max-width:400px;text-align:center;font-size:1.1em;padding:15px;margin-top:10px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-color:#c3e6cb}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}"]});let t=e;return t})();function zR(t,e){if(t&1){let r=ot();d(0,"div",19)(1,"div",20)(2,"div",21),re(3,"img",22),f(),d(4,"div",23)(5,"div",12)(6,"h5",13),v(7),f(),d(8,"div",24)(9,"button",25),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.updateQuantity(i,-1))}),v(10,"-"),f(),d(11,"input",26),dt("ngModelChange",function(i){let o=xe(r).$implicit;return lt(o.quantity,i)||(o.quantity=i),Ne(i)}),f(),d(12,"button",25),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.updateQuantity(i,1))}),v(13,"+"),f()()()(),d(14,"div",27)(15,"h5",28),v(16),pn(17,"currency"),f(),d(18,"h6",28),v(19),pn(20,"currency"),f(),d(21,"button",29),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.removeItem(i.bookId))}),re(22,"i",9),v(23," Sil"),f()()()()}if(t&2){let r=e.$implicit;b(3),Ui("alt",r.productName),k("src",r.imageUrls||"https://via.placeholder.com/150",Vt),b(4),je(r.productName),b(4),ut("ngModel",r.quantity),b(5),je(jn(17,6,r.price)),b(3),we("\xDCmumi: ",jn(20,8,r.totalPrice),"")}}function qR(t,e){if(t&1){let r=ot();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),re(4,"i",5),v(5," S\u0259b\u0259tim"),f()()(),d(6,"div",2)(7,"div",6),ie(8,zR,24,10,"div",7),d(9,"button",8),ae("click",function(){xe(r);let i=W();return Ne(i.clearBasket())}),re(10,"i",9),v(11," S\u0259b\u0259ti t\u0259mizl\u0259"),f()(),d(12,"div",10)(13,"div",11)(14,"div",12)(15,"h5",13),v(16,"Al\u0131\u015Fveri\u015F icmal\u0131"),f(),d(17,"div",14)(18,"span"),v(19,"S\u0259b\u0259tin Toplam tutar\u0131"),f(),d(20,"span"),v(21),pn(22,"currency"),f()(),d(23,"div",14)(24,"span"),v(25,"Kargo r\xFCsumu"),f(),d(26,"span"),v(27,"2 manat"),f()(),re(28,"hr"),d(29,"div",15)(30,"span"),v(31,"\xDCmumi toplam"),f(),d(32,"span"),v(33),pn(34,"currency"),f()(),d(35,"button",16),ae("click",function(){xe(r);let i=W();return Ne(i.goToOrderPage())}),v(36,"Sifari\u015F Ver"),f()(),d(37,"div",17)(38,"a",18),v(39,"Al\u0131\u015Fveri\u015Fe Davam et"),f()()()()()()}if(t&2){let r=W();b(8),k("ngForOf",r.basket.items),b(),k("disabled",r.isBasketEmpty),b(12),je(jn(22,5,r.basket.total)),b(12),je(jn(34,7,r.basket.total+2)),b(2),k("disabled",r.isBasketEmpty)}}var kx=(()=>{let e=class e{constructor(n,i,o){this.basketService=n,this.authService=i,this.router=o,this.basket=null,this.isBasketEmpty=!0}ngOnInit(){this.userId=this.authService.getUserId(),this.basketService.basket$.subscribe(n=>{this.basket=n,this.isBasketEmpty=!n||n.items.length===0}),this.loadBasket()}loadBasket(){this.basketService.getBasket(this.userId).subscribe(n=>{this.basket=n,this.isBasketEmpty=!n||n.items.length===0})}removeItem(n){this.basketService.removeItemFromBasket(n,this.userId).subscribe(()=>{this.loadBasket()})}updateQuantity(n,i){n.quantity+i<=0?this.removeItem(n.bookId):this.basketService.addItemToBasket(n.bookId,i,this.userId).subscribe(()=>{this.loadBasket()})}clearBasket(){this.basketService.clearBasket(this.userId).subscribe(()=>{this.loadBasket()})}goToOrderPage(){this.isBasketEmpty||this.router.navigate(["/orders/summary"])}};e.\u0275fac=function(i){return new(i||e)(M(Sn),M(Tt),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-basket"]],standalone:!0,features:[Se],decls:1,vars:1,consts:[["class","container my-5",4,"ngIf"],[1,"container","my-5"],[1,"row"],[1,"col-12"],[1,"text-uppercase","mb-4"],[1,"fas","fa-shopping-cart"],[1,"col-md-8"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"btn","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash-alt"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"d-flex","justify-content-between"],["id","totalPrice",1,"d-flex","justify-content-between","fw-bold"],["id","send-order",1,"btn","btn-warning","w-100","mt-3",3,"click","disabled"],[1,"card-footer","text-center"],["routerLink","/home",1,"btn","btn-outline-primary","w-100"],[1,"card","mb-3"],[1,"row","g-0","align-items-center"],[1,"col-md-3"],[1,"img-fluid","rounded-start",3,"src","alt"],[1,"col-md-6"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["type","text","readonly","",1,"form-control","mx-2","text-center",2,"width","50px",3,"ngModelChange","ngModel"],[1,"col-md-3","text-center"],[1,"fw-bold"],[1,"btn","btn-outline-danger","btn-sm","mt-2",3,"click"]],template:function(i,o){i&1&&ie(0,qR,40,9,"div",0),i&2&&k("ngIf",o.basket)},dependencies:[He,St,gt,Zc,jt,Zt,Tn,Rn],styles:[".card[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.card-title[_ngcontent-%COMP%]{font-size:1.25rem}.fa-shopping-card[_ngcontent-%COMP%]{color:#760707}.btn-outline-danger[_ngcontent-%COMP%]{margin-left:3px;font-family:Montserrat,sans-serif}.card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;line-height:1;font-size:1rem;border-radius:50%}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}#send-order[_ngcontent-%COMP%]{color:#09f859;background-color:#8a2be2}"]});let t=e;return t})();var Fx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["app-access-denied"]],decls:7,vars:0,consts:[[1,"access-denied-container"],["routerLink","/"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h1"),v(2,"Eri\u015Fim Reddedildi"),f(),d(3,"p"),v(4,"Bu sayfay\u0131 g\xF6r\xFCnt\xFCleme yetkiniz yok."),f(),d(5,"a",1),v(6,"Ana Sayfa'ya D\xF6n"),f()())},dependencies:[oi],styles:[".access-denied[_ngcontent-%COMP%]{text-align:center;padding:50px}.access-denied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}"]});let t=e;return t})();var Lx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["app-footer"]],standalone:!0,features:[Se],decls:55,vars:0,consts:[[1,"bg-dark","text-white","pt-3","pb-3",2,"font-family","'Montserrat', sans-serif","width","90%","margin","0 auto"],[1,"container","text-center","text-md-left"],[1,"row","text-center","text-md-left"],[1,"col-md-3","col-lg-3","col-xl-3","mx-auto","mt-3"],[1,"text-uppercase","mb-3","font-weight-bold"],[1,"col-md-2","col-lg-2","col-xl-2","mx-auto","mt-3"],["href","#",1,"text-white"],[1,"col-md-3","col-lg-2","col-xl-2","mx-auto","mt-3"],[1,"col-md-4","col-lg-3","col-xl-3","mx-auto","mt-3"],[1,"fas","fa-home","mr-3"],[1,"fas","fa-phone","mr-3"],[1,"mb-3",2,"border-color","rgba(255, 255, 255, 0.1)"],[1,"row","align-items-center"],[1,"col-md-7","col-lg-8"],[1,"text-center","text-md-left"],[1,"col-md-5","col-lg-4"],[1,"text-center","text-md-right"],[1,"list-unstyled","list-inline"],[1,"list-inline-item"],["href","#",1,"text-white",2,"font-size","23px"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-linkedin-in"]],template:function(i,o){i&1&&(d(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),v(5,"Haqq\u0131m\u0131zda"),f(),d(6,"p"),v(7," BakuKitabEvi, Az\u0259rbaycanda \u0259n geni\u015F kitab kolleksiyas\u0131n\u0131 t\u0259qdim edir. Keyfiyy\u0259tli kitablar v\u0259 etibarl\u0131 al\u0131\u015F-veri\u015F t\u0259cr\xFCb\u0259si il\u0259 oxucular\u0131m\u0131za xidm\u0259t g\xF6st\u0259ririk. "),f()(),d(8,"div",5)(9,"h5",4),v(10,"\u018Flaq\u0259"),f(),d(11,"p")(12,"a",6),v(13,"\u018Flaq\u0259 Formu"),f()(),d(14,"p")(15,"a",6),v(16,"Tez-tez Veril\u0259n Suallar"),f()()(),d(17,"div",7)(18,"h5",4),v(19,"Tez Ba\u011Flant\u0131lar"),f(),d(20,"p")(21,"a",6),v(22,"Hesab\u0131m"),f()(),d(23,"p")(24,"a",6),v(25,"Sifari\u015F Tarixi"),f()()(),d(26,"div",8)(27,"h5",4),v(28,"\u018Flaq\u0259 M\u0259lumatlar\u0131"),f(),d(29,"p"),re(30,"i",9),v(31," Bak\u0131, Az\u0259rbaycan"),f(),d(32,"p"),re(33,"i",10),v(34," +994 55 285 92 63"),f()()(),re(35,"hr",11),d(36,"div",12)(37,"div",13)(38,"p",14),v(39,"\xA9 2024 Copyright: "),d(40,"a",6)(41,"strong"),v(42,"Hasan Huseynov"),f()()()(),d(43,"div",15)(44,"div",16)(45,"ul",17)(46,"li",18)(47,"a",19),re(48,"i",20),f()(),d(49,"li",18)(50,"a",19),re(51,"i",21),f()(),d(52,"li",18)(53,"a",19),re(54,"i",22),f()()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;padding-top:20px;padding-bottom:20px;width:100%;margin:0 auto;font-family:Montserrat,sans-serif}h5[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:19px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#fff;text-decoration:none}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d1d1d1;text-decoration:underline}footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#ffffff1a}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin-right:15px}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b0b0b0}"]});let t=e;return t})();var Ux=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["app-banner"]],standalone:!0,features:[Se],decls:9,vars:0,consts:[[1,"section-divider"],[1,"banner-container"],["src","https://htmldemo.net/pustok/pustok/image/bg-images/promo-banner-full.jpg","alt","Banner image",1,"banner-image"],[1,"banner-content"]],template:function(i,o){i&1&&(re(0,"div",0),d(1,"section",1),re(2,"img",2),d(3,"div",3)(4,"p"),v(5,"\u201C\xD6z i\xE7ind\u0259ki ziddiyy\u0259tl\u0259ri h\u0259ll etm\u0259y\u0259n insan, d\xFCnyadak\u0131 ziddiyy\u0259tl\u0259ri anlaya bilm\u0259z.\u201D"),f(),d(6,"p")(7,"em"),v(8,"\u2014 Fyodor Dostoyevski"),f()()()())},styles:['.banner-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:flex-start;align-items:center;width:100%;max-width:1920px;height:230px;margin:30px auto;background-color:#e0f7fa;border-radius:10px;box-shadow:0 10px 30px #0003;overflow:hidden;font-family:Montserrat,sans-serif}.banner-image[_ngcontent-%COMP%]{flex-basis:100%;height:100%;object-fit:cover;filter:brightness(.85)}.banner-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:5%;transform:translateY(-50%);max-width:40%;color:#fff;text-align:left;background-color:#00000080;padding:15px;border-radius:8px}.banner-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;font-family:Times New Roman,serif}.banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.banner-btn[_ngcontent-%COMP%]{background-color:#ff0;color:#000;padding:10px 20px;border:none;font-weight:700;cursor:pointer;border-radius:5px;box-shadow:2px 2px 5px #0003}.cards-container[_ngcontent-%COMP%]{margin-bottom:50px;border-bottom:2px solid #ccc}.banner-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-20px;left:0;width:100%;height:20px;background:linear-gradient(0deg,#00000026,#0000)}.section-divider[_ngcontent-%COMP%]{width:95%;height:1px;background:linear-gradient(to right,#d3d3d3,#b0b0b0);margin:40px auto;border-radius:1px;opacity:.7}']});let t=e;return t})();function $R(t,e){t&1&&(d(0,"div",1),re(1,"app-banner"),f())}var Yx=(()=>{let e=class e{constructor(n){this.router=n}isHomePage(){return this.router.url==="/"}};e.\u0275fac=function(i){return new(i||e)(M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-main-layout"]],standalone:!0,features:[Se],decls:4,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"]],template:function(i,o){i&1&&(re(0,"app-header")(1,"router-outlet"),ie(2,$R,2,0,"div",0),re(3,"app-footer")),i&2&&(b(2),k("ngIf",o.isHomePage()))},dependencies:[Ls,xx,Lx,He,gt,Ux]});let t=e;return t})();var kh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["app-admin-sidebar"]],standalone:!0,features:[Se],decls:17,vars:0,consts:[["id","sidebar-wrapper",1,"bg-dark","text-white"],[1,"sidebar-heading","text-center","py-4","primary-text","fs-4","fw-bold","text-uppercase","border-bottom"],[1,"fas","fa-user-secret","me-2"],[1,"list-group","list-group-flush","my-3"],["routerLink","/admin-panel/users",1,"list-group-item","list-group-item-action","bg-transparent","text-white"],[1,"fas","fa-users"],["routerLink","/admin-panel/books",1,"list-group-item","list-group-item-action","bg-transparent","text-white"],[1,"fas","fa-book"],["routerLink","/admin-panel/reviews",1,"list-group-item","list-group-item-action","bg-transparent","text-white"],[1,"fas","fa-comments"],["routerLink","/admin-panel/orders",1,"list-group-item","list-group-item-action","bg-transparent","text-white"],[1,"fas","fa-shopping-cart"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"div",1),re(2,"i",2),v(3,"Admin Panel "),f(),d(4,"div",3)(5,"a",4),re(6,"i",5),v(7," User Management "),f(),d(8,"a",6),re(9,"i",7),v(10," Book Management "),f(),d(11,"a",8),re(12,"i",9),v(13," Review Management "),f(),d(14,"a",10),re(15,"i",11),v(16," Order Management "),f()()())},dependencies:[Et,oi],styles:["#sidebar-wrapper[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background-color:#343a40;height:100vh;position:fixed;z-index:100;transition:all .3s}.sidebar-heading[_ngcontent-%COMP%]{font-size:1.2rem;padding:15px}.list-group-item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;border:none;padding:20px;color:#fff;transition:background-color .3s,color .3s}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}"]});let t=e;return t})();var Vx=(()=>{let e=class e{constructor(n){this.authService=n}logout(){this.authService.logout()}};e.\u0275fac=function(i){return new(i||e)(M(Tt))},e.\u0275cmp=_e({type:e,selectors:[["app-admin-layout"]],standalone:!0,features:[Se],decls:20,vars:0,consts:[["id","wrapper"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],[1,"fas","fa-cogs"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["href","/home",1,"nav-link"],[1,"fas","fa-user"],["href","#",1,"nav-link",3,"click"],[1,"fas","fa-sign-out-alt"],["id","content-wrapper",1,"container-fluid"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"nav",1)(2,"a",2),re(3,"i",3),v(4," Admin Panel "),f(),d(5,"button",4),re(6,"span",5),f(),d(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),re(11,"i",10),v(12," Geri d\xF6n "),f()(),d(13,"li",8)(14,"a",11),ae("click",function(){return o.logout()}),re(15,"i",12),v(16," Logout "),f()()()()(),re(17,"app-admin-sidebar"),d(18,"div",13),re(19,"router-outlet"),f()())},dependencies:[Ls,kh,Et],styles:["#wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}#content-wrapper[_ngcontent-%COMP%]{flex:1;margin-left:250px;padding:20px}.navbar[_ngcontent-%COMP%]{width:100%;position:fixed;top:0;z-index:1;background-color:#343a40;box-shadow:0 4px 8px #0000001a;height:60px;display:flex;align-items:center;border-bottom:none}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:700}.navbar-brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.navbar-nav[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff;margin-right:20px;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#007bff;text-decoration:underline}.container-fluid[_ngcontent-%COMP%]{margin-top:60px}#sidebar-wrapper[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background-color:#343a40;height:100vh;position:fixed;z-index:100;transition:all .3s}.list-group-item[_ngcontent-%COMP%]{border:none;padding:20px;color:#fff}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.search-box[_ngcontent-%COMP%]{padding:5px 10px;border-radius:4px;border:none;margin-right:20px}"]});let t=e;return t})();var Fh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["app-admin-dashboard"]],standalone:!0,features:[Se],decls:30,vars:0,consts:[[1,"container-fluid","mt-4"],[1,"row"],[1,"col-lg-3","col-md-6"],[1,"card","bg-primary","text-white","mb-4"],[1,"card-body"],[1,"card","bg-warning","text-white","mb-4"],[1,"card","bg-success","text-white","mb-4"],[1,"card","bg-danger","text-white","mb-4"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),v(6,"\u0130stifad\u0259\xE7il\u0259r"),f(),d(7,"div"),v(8,"798"),f()()()(),d(9,"div",2)(10,"div",5)(11,"div",4)(12,"div"),v(13,"S\u0259hif\u0259 bax\u0131\u015F saylar\u0131"),f(),d(14,"div"),v(15,"9454"),f()()()(),d(16,"div",2)(17,"div",6)(18,"div",4)(19,"div"),v(20,"Ortalam vaxt"),f(),d(21,"div"),v(22,"00:04:30"),f()()()(),d(23,"div",2)(24,"div",7)(25,"div",4)(26,"div"),v(27,"Bounce Rate"),f(),d(28,"div"),v(29,"1.55%"),f()()()()()())},dependencies:[He],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a;border-radius:8px}.card-body[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;display:flex;justify-content:space-between;align-items:center}.card.bg-primary[_ngcontent-%COMP%]{background-color:#007bff}.card.bg-warning[_ngcontent-%COMP%]{background-color:#ffc107}.card.bg-success[_ngcontent-%COMP%]{background-color:#28a745}.card.bg-danger[_ngcontent-%COMP%]{background-color:#dc3545}"]});let t=e;return t})();var WR=()=>["/admin-panel/books/add"];function KR(t,e){if(t&1){let r=ot();d(0,"tr")(1,"td"),v(2),f(),d(3,"td"),v(4),f(),d(5,"td"),v(6),f(),d(7,"td"),v(8),f(),d(9,"td"),v(10),f(),d(11,"td")(12,"button",4),ae("click",function(){let i=xe(r).$implicit,o=W();return Ne(o.editBook(i.bookId))}),v(13,"Edit"),f(),d(14,"button",5),ae("click",function(){let i=xe(r).$implicit,o=W();return Ne(o.deleteBook(i.bookId))}),v(15,"Sil"),f()()()}if(t&2){let r=e.$implicit;b(2),je(r.bookName),b(2),je(r.authorName),b(2),je(r.price),b(2),je(r.stock),b(2),je(r.categoryId)}}var Lh=(()=>{let e=class e{constructor(n,i){this.bookService=n,this.router=i,this.books=[]}ngOnInit(){this.bookService.getBooks().subscribe(n=>{this.books=n.books})}loadBooks(){this.bookService.getBooks().subscribe(n=>{this.books=n.books})}editBook(n){this.router.navigate(["/admin-panel/books/edit",n]).then(i=>{console.log(i?"Navigation successful":"Navigation failed")}).catch(i=>{console.error("Navigation error:",i)})}deleteBook(n){confirm("Bu kitab\u0131 silmek istedi\u011Finizden emin misiniz?")&&this.bookService.deleteBook(n).subscribe({next:()=>{alert("Kitap ba\u015Far\u0131yla silindi!"),this.loadBooks()},error:i=>{console.error("Kitap silme hatas\u0131:",i),alert("Kitap silinirken bir hata olu\u015Ftu.")}})}};e.\u0275fac=function(i){return new(i||e)(M(Gn),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-book-management"]],standalone:!0,features:[Se],decls:22,vars:3,consts:[[1,"container","mt-4"],[1,"btn","btn-primary","mb-3",3,"routerLink"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","deleteBook",1,"btn","btn-danger",3,"click"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h1"),v(2,"Book management "),f(),d(3,"button",1),v(4,"Add Book "),f(),d(5,"table",2)(6,"thead")(7,"tr")(8,"th"),v(9,"Kitab Ad\u0131"),f(),d(10,"th"),v(11,"Yazar"),f(),d(12,"th"),v(13,"Qiym\u0259t"),f(),d(14,"th"),v(15,"Stok"),f(),d(16,"th"),v(17,"Kategoriya"),f(),d(18,"th"),v(19,"Prosesl\u0259r"),f()()(),d(20,"tbody"),ie(21,KR,16,5,"tr",3),f()()()),i&2&&(b(3),k("routerLink",YC(2,WR)),b(18),k("ngForOf",o.books))},dependencies:[He,St,Et,oi,jt,Sa],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;-webkit-user-select:none;user-select:none;font-family:Montserrat,sans-serif}h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3f301d;font-family:Arial,Helvetica,sans-serif;letter-spacing:1.2;line-height:1.4}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:default}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.img-thumbnail[_ngcontent-%COMP%]{border:none;object-fit:cover}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;text-align:center;text-decoration:none;color:#fff;border-radius:5px;transition:background-color .3s ease}.btn-warning[_ngcontent-%COMP%]{background-color:#f0ad4e;border:none}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ec971f}.btn-danger[_ngcontent-%COMP%]{background-color:#d9534f;border:none}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c9302c}#deleteBook[_ngcontent-%COMP%]{margin-left:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#f0ad4e;border-color:#f0ad4e;color:#fff;font-weight:700;border-radius:4px;padding:10px 20px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#ec971f;border-color:#ec971f}"]});let t=e;return t})();var xo=function(t){return t[t.Pending=0]="Pending",t[t.Confirmed=1]="Confirmed",t[t.Shipped=2]="Shipped",t[t.Delivered=3]="Delivered",t[t.Canceled=4]="Canceled",t}(xo||{});var Cu=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl=hr.apiUrl+"/Orders"}createOrder(n){return this.http.post(`${this.apiUrl}`,n)}getOrders(){return this.http.get(`${this.apiUrl}`)}getAllOrders(){return this.http.get(`${this.apiUrl}/getAll`).pipe(Re(n=>n.orders))}getOrderWithDetailsById(n){return this.http.get(`${this.apiUrl}/GetOrderWithDetailsById/${n}`)}getOrderById(n){return this.http.get(`${this.apiUrl}/${n}`)}};e.\u0275fac=function(i){return new(i||e)(ce(nr))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var XR=(t,e,r,n,i)=>({pending:t,confirmed:e,shipped:r,delivered:n,canceled:i});function QR(t,e){t&1&&(d(0,"div",3)(1,"p"),v(2,"H\u0259l\u0259ki he\xE7bir sifari\u015F yoxdur."),f()())}function JR(t,e){if(t&1){let r=ot();d(0,"tr")(1,"td"),v(2),f(),d(3,"td"),v(4),pn(5,"date"),f(),d(6,"td"),v(7),f(),d(8,"td",6),v(9),f(),d(10,"td")(11,"button",7),ae("click",function(){let i=xe(r).$implicit,o=W(2);return Ne(o.viewOrderDetails(i.id))}),v(12,"Detallar"),f()()()}if(t&2){let r=e.$implicit,n=W(2);b(2),je(r.orderNumber),b(2),je(Ap(5,5,r.orderDate,"short")),b(3),je(r.deliveryAddress),b(),k("ngClass",VC(8,XR,r.status===0,r.status===1,r.status===2,r.status===3,r.status===4)),b(),we(" ",n.getOrderStatusLabel(r.status)," ")}}function ZR(t,e){if(t&1&&(d(0,"div")(1,"table",4)(2,"thead")(3,"tr")(4,"th"),v(5,"Sifrai\u015F n\xF6mr\u0259si"),f(),d(6,"th"),v(7,"Tarix"),f(),d(8,"th"),v(9,"Address"),f(),d(10,"th"),v(11,"Status"),f(),d(12,"th"),v(13,"Sifari\u015FDetal"),f()()(),d(14,"tbody"),ie(15,JR,13,14,"tr",5),f()()()),t&2){let r=W();b(15),k("ngForOf",r.orders)}}var Bx=(()=>{let e=class e{constructor(n,i){this.orderService=n,this.router=i,this.orders=[]}ngOnInit(){this.getOrders()}getOrders(){this.orderService.getAllOrders().subscribe(n=>{this.orders=n,console.log("Gelen Sipari\u015Fler:",this.orders)},n=>{console.error("Sipari\u015Fler getirilemedi:",n)})}viewOrderDetails(n){this.router.navigate(["/admin-panel/orders",n])}getOrderStatusLabel(n){switch(n){case xo.Pending:return"G\xF6zl\u0259yir";case xo.Confirmed:return"R\u0259smil\u0259\u015Fdi";case xo.Shipped:return"Yola \xE7\u0131xd\u0131";case xo.Delivered:return"T\u0259slim  Eildi";case xo.Canceled:return"L\u0259\u011Fv edildi";default:return"Bilinmir"}}};e.\u0275fac=function(i){return new(i||e)(M(Cu),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-order-management"]],decls:5,vars:2,consts:[[1,"order-management-container"],["class","no-orders",4,"ngIf"],[4,"ngIf"],[1,"no-orders"],[1,"order-table"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"view-details-button",3,"click"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h2"),v(2,"Order Managemenet "),f(),ie(3,QR,3,0,"div",1)(4,ZR,16,1,"div",2),f()),i&2&&(b(3),k("ngIf",o.orders.length===0),b(),k("ngIf",o.orders.length>0))},dependencies:[Bp,St,gt,jp],styles:[".order-management-container[_ngcontent-%COMP%]{padding:10px;max-width:1000px;margin:auto;font-family:Arial,sans-serif;font-size:14px;font-family:Montserrat,sans-serif}.order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:15px;box-shadow:0 2px 5px #0000001a}.order-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}.order-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f9f9f9;font-weight:600;font-size:14px;color:#333}.order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;color:#555}.view-details-button[_ngcontent-%COMP%]{padding:4px 8px;background-color:#28a745;color:#fff;border:none;border-radius:3px;cursor:pointer;font-size:12px;transition:background-color .3s ease}.view-details-button[_ngcontent-%COMP%]:hover{background-color:#218838}.pending[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.confirmed[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.shipped[_ngcontent-%COMP%]{color:#9c27b0;font-weight:700}.delivered[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.canceled[_ngcontent-%COMP%]{color:#f44336;font-weight:700}@media (max-width: 768px){.order-management-container[_ngcontent-%COMP%]{padding:5px}.order-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;font-size:12px}.view-details-button[_ngcontent-%COMP%]{font-size:10px;padding:3px 6px}}"]});let t=e;return t})();var jx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["app-user-management"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h2"),v(2,"User Management"),f()())}});let t=e;return t})();var Gx=(()=>{let e=class e{constructor(n,i){this.authService=n,this.router=i}canActivate(){let n=this.authService.getUserRole();return n?n==="Admin"?!0:(this.router.navigate(["/access-denied"]),!1):(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(i){return new(i||e)(ce(Tt),ce(De))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eA(t,e){if(t&1&&(d(0,"option",21),v(1),f()),t&2){let r=e.$implicit;k("value",r.categoryId),b(),je(r.categoryName)}}function tA(t,e){if(t&1&&(d(0,"option",21),v(1),f()),t&2){let r=e.$implicit;k("value",r.id),b(),je(r.name)}}var Hx=(()=>{let e=class e{constructor(n,i,o,a){this.bookService=n,this.categoryService=i,this.router=o,this.toastr=a,this.book={bookName:"",price:0,stock:0,authorName:"",description:"",categoryId:0,languageId:1},this.languages=[{id:1,name:"az"}],this.categories=[],this.selectedFile=null,this.loading=!1}ngOnInit(){this.categoryService.getCategories().subscribe(n=>{this.categories=n})}onFileSelected(n){this.selectedFile=n.target.files[0]}onSubmit(){if(!this.isFormValid()){this.toastr.error("Xahi\u015F olunur m\u0259lumatlar\u0131 doldurun ","Form \u0259ksik");return}this.loading=!0,this.bookService.addBooks(this.book).pipe(Ct(n=>{if(this.selectedFile){let i=new FormData;i.append("file",this.selectedFile),i.append("bookId",n.bookId.toString()),console.log(`newBookId: ${n.bookId}`),console.log(i.get("bookId")+" is the bookId"),this.bookService.uploadBookImage(i).subscribe({next:()=>{alert("Book successfully added!"),this.router.navigate(["/admin-panel/books"])},error:o=>{console.error("Error uploading image:",o),alert("Book added, but there was an error uploading the image.")},complete:()=>{this.loading=!1}})}else alert("Book successfully added!"),this.router.navigate(["/admin-panel/books"]),this.loading=!1}),aa(n=>(console.error("Error adding book:",n),alert("There was an error adding the book."),this.loading=!1,xs(()=>new Error(n.message||"An unknown error occurred."))))).subscribe()}isFormValid(){return this.book.bookName.trim()!==""&&this.book.authorName.trim()!==""&&this.book.price>0&&this.book.stock>=0&&this.book.categoryId!==0}};e.\u0275fac=function(i){return new(i||e)(M(Gn),M(hu),M(De),M(gr))},e.\u0275cmp=_e({type:e,selectors:[["app-add-book"]],standalone:!0,features:[Se],decls:40,vars:9,consts:[[1,"container","mt-5"],[3,"ngSubmit"],[1,"form-group"],["for","bookName"],["type","text","id","bookName","name","bookName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","authorName"],["type","text","id","authorName","name","authorName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["type","number","id","price","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stock"],["type","number","id","stock","name","stock","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","categoryId","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","language"],["id","language","name","languageId","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","cover"],["type","file","id","cover","accept","image/*",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary","mt-3"],[3,"value"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h2"),v(2,"Kitab \u018Flav\u0259 et"),f(),d(3,"form",1),ae("ngSubmit",function(){return o.onSubmit()}),d(4,"div",2)(5,"label",3),v(6,"Kitab Ad\u0131"),f(),d(7,"input",4),dt("ngModelChange",function(s){return lt(o.book.bookName,s)||(o.book.bookName=s),s}),f()(),d(8,"div",2)(9,"label",5),v(10,"Yazar ad\u0131"),f(),d(11,"input",6),dt("ngModelChange",function(s){return lt(o.book.authorName,s)||(o.book.authorName=s),s}),f()(),d(12,"div",2)(13,"label",7),v(14,"Qiym\u0259t"),f(),d(15,"input",8),dt("ngModelChange",function(s){return lt(o.book.price,s)||(o.book.price=s),s}),f()(),d(16,"div",2)(17,"label",9),v(18,"Stok"),f(),d(19,"input",10),dt("ngModelChange",function(s){return lt(o.book.stock,s)||(o.book.stock=s),s}),f()(),d(20,"div",2)(21,"label",11),v(22,"A\xE7\u0131qlama"),f(),d(23,"textarea",12),dt("ngModelChange",function(s){return lt(o.book.description,s)||(o.book.description=s),s}),f()(),d(24,"div",2)(25,"label",13),v(26,"Kategoriya"),f(),d(27,"select",14),dt("ngModelChange",function(s){return lt(o.book.categoryId,s)||(o.book.categoryId=s),s}),ie(28,eA,2,2,"option",15),f()(),d(29,"div",2)(30,"label",16),v(31,"Dil"),f(),d(32,"select",17),dt("ngModelChange",function(s){return lt(o.book.languageId,s)||(o.book.languageId=s),s}),ie(33,tA,2,2,"option",15),f()(),d(34,"div",2)(35,"label",18),v(36," \u018Fsas Foto "),f(),d(37,"input",19),ae("change",function(s){return o.onFileSelected(s)}),f()(),d(38,"button",20),v(39,"Ekle"),f()()()),i&2&&(b(7),ut("ngModel",o.book.bookName),b(4),ut("ngModel",o.book.authorName),b(4),ut("ngModel",o.book.price),b(4),ut("ngModel",o.book.stock),b(4),ut("ngModel",o.book.description),b(4),ut("ngModel",o.book.categoryId),b(),k("ngForOf",o.categories),b(4),ut("ngModel",o.book.languageId),b(),k("ngForOf",o.languages))},dependencies:[He,St,jt,Gi,yu,bu,Zt,Vs,Ca,Tn,ji,So,Rn,Co,Sa,Et],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;max-width:600px;margin:0 auto;font-family:Montserrat,sans-serif}h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{font-size:14px;padding:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}"]});let t=e;return t})();function nA(t,e){if(t&1&&(d(0,"option",20),v(1),f()),t&2){let r=e.$implicit;k("value",r.categoryId),b(),je(r.categoryName)}}function rA(t,e){if(t&1&&(d(0,"option",21),v(1),f()),t&2){let r=e.$implicit,n=W();k("value",r.id)("selected",r.id===n.book.languageId),b(),je(r.name)}}var zx=(()=>{let e=class e{constructor(n,i,o,a){this.bookService=n,this.categoryService=i,this.router=o,this.activatedRoute=a,this.book={bookId:0,bookName:"",price:0,stock:0,authorName:"",description:"",categoryId:0,languageId:1},this.languages=[{id:1,name:"az"},{id:2,name:"en"}],this.categories=[],this.selectedFile=null,this.loading=!1}ngOnInit(){this.categoryService.getCategories().subscribe(n=>{this.categories=n,this.getFormBookAll()})}onFileSelected(n){this.selectedFile=n.target.files[0]}getFormBookAll(){let n=this.activatedRoute.snapshot.paramMap.get("id");n&&this.bookService.getBookById(n).subscribe(i=>{this.book=i,this.book.languageId=this.book.languageId||this.languages[0]?.id||1,this.book.categoryId=this.book.categoryId||this.categories.find(o=>o.categoryId===this.book.categoryId)?.categoryId||this.categories[0]?.categoryId})}onSubmit(){if(!this.book.bookId||!this.book.categoryId){alert("Please ensure all required fields are filled.");return}this.loading=!0,this.bookService.updateBook(this.book).subscribe(n=>{if(this.selectedFile){let i=new FormData;i.append("file",this.selectedFile),i.append("bookId",n.bookId.toString()),this.bookService.uploadBookImage(i).subscribe(()=>{alert("Book successfully updated and image uploaded!"),this.router.navigate(["/admin-panel/books"])},()=>{alert("Book updated, but an error occurred while uploading the image.")})}else alert("Book successfully updated!"),this.router.navigate(["/admin-panel/books"])},()=>{alert("An error occurred while updating the book.")}).add(()=>this.loading=!1)}};e.\u0275fac=function(i){return new(i||e)(M(Gn),M(hu),M(De),M(Jt))},e.\u0275cmp=_e({type:e,selectors:[["app-edit-book"]],standalone:!0,features:[Se],decls:36,vars:11,consts:[[1,"container","mt-5"],[3,"ngSubmit"],[1,"form-group"],["for","bookName"],["type","text","id","bookName","name","bookName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","authorName"],["type","text","id","authorName","name","authorName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["type","number","id","price","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stock"],["type","number","id","stock","name","stock","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","categoryId","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","language"],["id","language","name","languageId","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value","selected",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"],[3,"value"],[3,"value","selected"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h2"),v(2,"Redakt\u0259 et"),f(),d(3,"form",1),ae("ngSubmit",function(){return o.onSubmit()}),d(4,"div",2)(5,"label",3),v(6,"Kitab Ad\u0131"),f(),d(7,"input",4),dt("ngModelChange",function(s){return lt(o.book.bookName,s)||(o.book.bookName=s),s}),f()(),d(8,"div",2)(9,"label",5),v(10,"Yazar Ad\u0131"),f(),d(11,"input",6),dt("ngModelChange",function(s){return lt(o.book.authorName,s)||(o.book.authorName=s),s}),f()(),d(12,"div",2)(13,"label",7),v(14,"Qiym\u0259t"),f(),d(15,"input",8),dt("ngModelChange",function(s){return lt(o.book.price,s)||(o.book.price=s),s}),f()(),d(16,"div",2)(17,"label",9),v(18,"Stok"),f(),d(19,"input",10),dt("ngModelChange",function(s){return lt(o.book.stock,s)||(o.book.stock=s),s}),f()(),d(20,"div",2)(21,"label",11),v(22,"A\xE7\u0131qlama"),f(),d(23,"textarea",12),dt("ngModelChange",function(s){return lt(o.book.description,s)||(o.book.description=s),s}),f()(),d(24,"div",2)(25,"label",13),v(26,"Kategoriya"),f(),d(27,"select",14),dt("ngModelChange",function(s){return lt(o.book.categoryId,s)||(o.book.categoryId=s),s}),ie(28,nA,2,2,"option",15),f()(),d(29,"div",2)(30,"label",16),v(31,"Dil"),f(),d(32,"select",17),dt("ngModelChange",function(s){return lt(o.book.languageId,s)||(o.book.languageId=s),s}),ie(33,rA,2,3,"option",18),f()(),d(34,"button",19),v(35),f()()()),i&2&&(b(7),ut("ngModel",o.book.bookName),b(4),ut("ngModel",o.book.authorName),b(4),ut("ngModel",o.book.price),b(4),ut("ngModel",o.book.stock),b(4),ut("ngModel",o.book.description),b(4),ut("ngModel",o.book.categoryId),b(),k("ngForOf",o.categories),b(4),ut("ngModel",o.book.languageId),b(),k("ngForOf",o.languages),b(),k("disabled",o.loading),b(),we(" ",o.loading?"Processing...":"Edit"," "))},dependencies:[He,St,jt,Gi,yu,bu,Zt,Vs,Ca,Tn,ji,So,Rn,Co,Sa,Et],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;max-width:600px;margin:0 auto;font-family:Montserrat,sans-serif}h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{font-size:14px;padding:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}"]});let t=e;return t})();var qx=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl=hr.apiUrl+"/Customer"}getCustomerByUserId(n){return this.http.get(`${this.apiUrl}/${n}`).pipe(Re(i=>(console.log("Customer Response:",i),i.customer)))}};e.\u0275fac=function(i){return new(i||e)(ce(nr))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oA(t,e){if(t&1&&(d(0,"div",16)(1,"div",3)(2,"h5"),v(3),f(),d(4,"p"),v(5),pn(6,"currency"),f(),d(7,"p"),v(8),pn(9,"currency"),f()()()),t&2){let r=e.$implicit;b(3),LC("",r.productName," (",r.quantity," \u0259d\u0259d)"),b(2),we("Qiym\u0259t: ",jn(6,4,r.price),""),b(3),we("Total: ",jn(9,6,r.totalPrice),"")}}function aA(t,e){t&1&&(d(0,"div",17),v(1," T\u0259slimat adressi m\u0259cburidir "),f())}function sA(t,e){t&1&&(d(0,"div",17),v(1," Telefon n\xF6mr\u0259si m\u0259cburidir "),f())}function cA(t,e){t&1&&(d(0,"div",17),v(1," \xD6d\u0259m\u0259 \xFCsulu se\xE7m\u0259k m\u0259cburdiri "),f())}function uA(t,e){if(t&1&&(d(0,"div",18),v(1),f()),t&2){let r=W(2);b(),we(" ",r.errorMessage," ")}}function lA(t,e){if(t&1){let r=ot();d(0,"div",1)(1,"h2"),v(2,"Sifari\u015F Ver"),f(),ie(3,oA,10,8,"div",2),d(4,"div",3)(5,"label",4),v(6,"T\u0259slimat Adresi"),f(),d(7,"input",5),dt("ngModelChange",function(i){xe(r);let o=W();return lt(o.deliveryAddress,i)||(o.deliveryAddress=i),Ne(i)}),f(),ie(8,aA,2,0,"div",6),f(),d(9,"div",3)(10,"label",7),v(11,"Telefon n\xF6mr\u0259si"),f(),d(12,"input",8),dt("ngModelChange",function(i){xe(r);let o=W();return lt(o.phoneNumber,i)||(o.phoneNumber=i),Ne(i)}),f(),ie(13,sA,2,0,"div",6),f(),d(14,"div",3)(15,"label",9),v(16,"\xD6d\u0259m\u0259 \xFCsulu"),f(),d(17,"select",10),dt("ngModelChange",function(i){xe(r);let o=W();return lt(o.paymentMethod,i)||(o.paymentMethod=i),Ne(i)}),d(18,"option",11),v(19,"Bir \xF6d\u0259m\u0259 \xFCsulu se\xE7in"),f(),d(20,"option",12),v(21,"Qap\u0131da \xF6d\u0259m\u0259"),f()(),ie(22,cA,2,0,"div",6),f(),d(23,"div",13)(24,"h4"),v(25),pn(26,"currency"),f(),d(27,"button",14),ae("click",function(){xe(r);let i=W();return Ne(i.confirmOrder())}),v(28,"Sifari\u015Fi t\u0259sdiql\u0259"),f()(),ie(29,uA,2,1,"div",15),f()}if(t&2){let r=W();b(3),k("ngForOf",r.basket.items),b(4),ut("ngModel",r.deliveryAddress),b(),k("ngIf",!r.deliveryAddress&&r.formSubmitted),b(4),ut("ngModel",r.phoneNumber),b(),k("ngIf",!r.phoneNumber&&r.formSubmitted),b(4),ut("ngModel",r.paymentMethod),b(5),k("ngIf",!r.paymentMethod&&r.formSubmitted),b(3),we("Umumi Toplam: ",jn(26,9,r.basket.total),""),b(4),k("ngIf",r.errorMessage)}}var $x=(()=>{let e=class e{constructor(n,i,o,a,s){this.basketService=n,this.orderService=i,this.authService=o,this.customerService=a,this.router=s,this.basket=null,this.deliveryAddress="",this.paymentMethod="",this.phoneNumber="",this.formSubmitted=!1,this.errorMessage=null}ngOnInit(){this.authService.getUserId$().subscribe(n=>{if(!n){console.error("Istifade\xE7i  ID tap\u0131labilmedi, itdifade\xE7i login  olmam\u0131\u015F olabil\u0259r.");return}this.customerService.getCustomerByUserId(n).subscribe(i=>{console.log("Customer ID:",i.id),this.customerId=i.id,this.deliveryAddress=i.adress,this.phoneNumber=i.phoneNumber}),this.basketService.basket$.subscribe(i=>{this.basket=i})})}confirmOrder(){if(!this.basket)return;if(this.formSubmitted=!0,!this.deliveryAddress||!this.phoneNumber||!this.paymentMethod||!this.basket||this.basket.items.length===0){console.error("Form uy\u011Fun deyl v\u0259 yaxud s\u0259b\u0259tiniz bo\u015Fdur");return}let n={id:0,customerId:this.customerId,orderDate:new Date,status:xo.Pending,deliveryAddress:this.deliveryAddress,phoneNumber:this.phoneNumber,orderNumber:this.orderNumber,paymentMethod:this.paymentMethod,orderDetails:this.basket.items.map(i=>({orderDetailId:0,orderId:0,bookId:i.bookId,bookName:"",bookImageUrl:"",BookId:i.bookId,quantity:i.quantity,price:i.price}))};this.orderService.createOrder(n).subscribe(i=>{console.log("Sifari\u015F u\u011Furla tamamland\u0131:",i),this.basketService.clearBasket(this.authService.getUserId()).subscribe(()=>{}),this.router.navigate(["/order-success"],{queryParams:{orderId:i.id}})},i=>{console.error("Sifari\u015F tamamlanamad\u0131:",i),this.errorMessage="Sifari\u015Finiz tamamlanmad\u0131, z\u0259hm\u0259t olmasa yenid\u0259n c\u0259hd edin."})}showErrorMessage(n){alert(n)}};e.\u0275fac=function(i){return new(i||e)(M(Sn),M(Cu),M(Tt),M(qx),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-order-summary"]],standalone:!0,features:[Se],decls:1,vars:1,consts:[["class","container my-5",4,"ngIf"],[1,"container","my-5"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card-body"],["for","deliveryAddress"],["id","deliveryAddress","placeholder","Teslimat adresini daxil edin","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","phoneNumber"],["id","phoneNumber","placeholder","Telefon  n\xF6mr\u0259sini daxil edin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","paymentMethod"],["id","paymentMethod","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","CashOnDelivery"],[1,"card-footer"],[1,"btn","btn-success","w-100",3,"click"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"card","mb-3"],[1,"text-danger"],[1,"alert","alert-danger","mt-3"]],template:function(i,o){i&1&&ie(0,lA,30,11,"div",0),i&2&&k("ngIf",o.basket)},dependencies:[He,St,gt,Zc,jt,yu,bu,Zt,Ca,Tn,So,Rn],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 4px 8px #0000001a;font-family:Montserrat,sans-serif}h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;color:#343a40;margin-bottom:1.5rem;text-align:center}.card[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;border:none;background-color:#fff;margin-bottom:1rem;border-radius:10px;box-shadow:0 2px 4px #0000001a}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.25rem;color:#495057;margin-bottom:.5rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;font-size:1rem;color:#6c757d}textarea.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ced4da;box-shadow:inset 0 1px 2px #0000001a;padding:10px;font-size:1rem;margin-top:10px}.card-footer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;color:#343a40;text-align:right;margin:0;padding-bottom:1rem}.btn-success[_ngcontent-%COMP%]{font-size:1.25rem;padding:15px;background-color:#28a745;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-success[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:15px}h2[_ngcontent-%COMP%]{font-size:1.5rem}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-footer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.btn-success[_ngcontent-%COMP%]{font-size:1rem;padding:12px}}"]});let t=e;return t})();var Wx=(()=>{let e=class e{constructor(n,i){this.basketService=n,this.router=i}canActivate(){return this.basketService.basket$.pipe(Re(n=>n&&n.items.length>0?!0:(this.router.navigate(["/basket"]),!1)))}};e.\u0275fac=function(i){return new(i||e)(ce(Sn),ce(De))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Kx=(()=>{let e=class e{constructor(n){this.router=n}ngOnInit(){this.orderNumber="12345"}goToHomePage(){this.router.navigate(["/home"])}};e.\u0275fac=function(i){return new(i||e)(M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-order-success"]],standalone:!0,features:[Se],decls:7,vars:0,consts:[[1,"container","mt-5","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"h2"),v(2,"Sifari\u015Finiz u\u011Furla tamamland\u0131!"),f(),d(3,"p"),v(4,"Te\u015Fekk\xFCr edirik! Sifari\u015Finiz al\u0131nd\u0131."),f(),d(5,"button",1),ae("click",function(){return o.goToHomePage()}),v(6,"Ana s\u0259hif\u0259y\u0259 d\xF6n\xFCn"),f()())}});let t=e;return t})();function dA(t,e){if(t&1&&(d(0,"div",8)(1,"div",9),re(2,"img",10),d(3,"div",11)(4,"h5",12),v(5),f(),d(6,"p",13)(7,"strong"),v(8,"Miqdar:"),f(),v(9),f(),d(10,"p",13)(11,"strong"),v(12,"Qiym\u0259t:"),f(),v(13),pn(14,"currency"),f()()()()),t&2){let r=e.$implicit;b(2),Ui("alt",r.bookName),k("src",r.bookImageUrl,Vt),b(3),je(r.bookName),b(4),we(" ",r.quantity,""),b(4),we(" ",jn(14,5,r.price),"\u20BC")}}function fA(t,e){if(t&1){let r=ot();d(0,"div",1)(1,"h2",2),v(2,"Sifari\u015F Detallar\u0131"),f(),d(3,"div",3)(4,"div",4)(5,"p")(6,"strong"),v(7,"Sifari\u015F N\xF6mr\u0259si:"),f(),v(8),f(),d(9,"p")(10,"strong"),v(11,"Sifari\u015F Tarixi:"),f(),v(12),pn(13,"date"),f(),d(14,"p")(15,"strong"),v(16,"\xC7atd\u0131r\u0131lma Adresi:"),f(),v(17),f(),d(18,"p")(19,"strong"),v(20,"M\xFC\u015Ft\u0259ri Telefonu:"),f(),v(21),f(),d(22,"p")(23,"strong"),v(24,"\xD6d\u0259m\u0259 Metodu:"),f(),v(25),f()()(),d(26,"button",5),ae("click",function(){xe(r);let i=W();return Ne(i.goBackToOrderManagement())}),v(27,"Geri "),f(),d(28,"div",6),ie(29,dA,15,7,"div",7),f()()}if(t&2){let r=W();b(8),we(" ",r.orderDetails.orderNumber,""),b(4),we(" ",Ap(13,6,r.orderDetails.orderDate,"short"),""),b(5),we(" ",r.orderDetails.deliveryAddress,""),b(4),we(" ",r.orderDetails.customerPhoneNumber,""),b(4),we(" ",r.orderDetails.paymentMethod,""),b(4),k("ngForOf",r.orderDetails.orderDetails)}}var Xx=(()=>{let e=class e{constructor(n,i,o){this.route=n,this.orderService=i,this.router=o}ngOnInit(){let n=this.route.snapshot.params.id;this.orderService.getOrderWithDetailsById(n).subscribe(i=>{this.orderDetails=i},i=>{console.error("Sifrai\u015Fin detallar\u0131 g\u0259tiril\u0259 blm\u0259di",i)})}goBackToOrderManagement(){this.router.navigate(["/admin-panel/orders"])}};e.\u0275fac=function(i){return new(i||e)(M(Jt),M(Cu),M(De))},e.\u0275cmp=_e({type:e,selectors:[["app-orderdetails"]],standalone:!0,features:[Se],decls:1,vars:1,consts:[["class","container mt-5",4,"ngIf"],[1,"container","mt-5"],[1,"mb-4","text-center"],[1,"row","mb-3","justify-content-center"],[1,"col-md-6"],[1,"btn","btn-secondary",3,"click"],[1,"row","justify-content-center"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","h-100","shadow-sm"],[1,"card-img-top","img-fluid",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"]],template:function(i,o){i&1&&ie(0,fA,30,9,"div",0),i&2&&k("ngIf",o.orderDetails)},dependencies:[He,St,gt,Zc,jp,Et],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;font-family:Montserrat,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#333;font-weight:700}h2[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:20px}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px}p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{max-height:220px;object-fit:contain;padding:10px;background-color:#f9f9f9}.card-body[_ngcontent-%COMP%]{padding:15px}.card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000001a}"]});let t=e;return t})();var Qx=[{path:"",component:Yx,children:[{path:"",component:v0},{path:"home",component:v0},{path:"books/:id",component:Ox},{path:"categories",component:yh},{path:"categories/:id/books",component:_0},{path:"login",component:Px},{path:"books",component:_0},{path:"register",component:Mx},{path:"basket",component:kx},{path:"confirmemail",component:Ax},{path:"confirmation-success",component:Rx},{path:"email-verification",component:wx},{path:"orders/summary",component:$x,canActivate:[Wx]},{path:"order-success",component:Kx}]},{path:"admin-panel",component:Vx,canActivate:[Gx],children:[{path:"dashboard",component:Fh},{path:"books",component:Lh},{path:"orders",component:Bx},{path:"users",component:jx},{path:"books/add",component:Hx},{path:"books/edit/:id",component:zx},{path:"orders/:id",component:Xx}]},{path:"access-denied",component:Fx}];var pA=(()=>{let e=class e extends $p{constructor(n,i,o){super(n,i,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(ce(Bt),ce(od),ce(qp))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})();function hA(){return new oS}function mA(t,e,r){return new sS(t,e,r)}var Zx=[{provide:qp,useFactory:hA},{provide:$p,useClass:pA},{provide:Xc,useFactory:mA,deps:[eu,$p,dn]}],Jx=[{provide:od,useFactory:()=>new aS},{provide:Wl,useValue:"BrowserAnimations"},...Zx],gA=[{provide:od,useClass:iS},{provide:Wl,useValue:"NoopAnimations"},...Zx],eN=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?gA:Jx}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({providers:Jx,imports:[YS]});let t=e;return t})();var vA="@",_A=(()=>{let e=class e{constructor(n,i,o,a,s){this.doc=n,this.delegate=i,this.zone=o,this.animationType=a,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=le(IC,{optional:!0}),this.loadingSchedulerFn=le(EA,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-Q3MKPZQ7.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(n):i=n(),i.catch(o=>{throw new mt(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc);let s=new a(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,i){let o=this.delegate.createRenderer(n,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new y0(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let c=s.createRenderer(n,i);a.use(c),this.scheduler?.notify(10)}).catch(s=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){Mp()},e.\u0275prov=Ce({token:e,factory:e.\u0275fac});let t=e;return t})(),y0=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,n,i){this.delegate.insertBefore(e,r,n,i)}removeChild(e,r,n){this.delegate.removeChild(e,r,n)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,n,i){this.delegate.setAttribute(e,r,n,i)}removeAttribute(e,r,n){this.delegate.removeAttribute(e,r,n)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,n,i){this.delegate.setStyle(e,r,n,i)}removeStyle(e,r,n){this.delegate.removeStyle(e,r,n)}setProperty(e,r,n){this.shouldReplay(r)&&this.replay.push(i=>i.setProperty(e,r,n)),this.delegate.setProperty(e,r,n)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,n){return this.shouldReplay(r)&&this.replay.push(i=>i.listen(e,r,n)),this.delegate.listen(e,r,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(vA)}},EA=new it("");function b0(t="animations"){return Xl("NgAsyncAnimations"),Fi([{provide:Xc,useFactory:(e,r,n)=>new _A(e,r,n,t),deps:[Bt,eu,dn]},{provide:Wl,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var tN={providers:[GC({eventCoalescing:!0}),wT(Qx),BS(),DS(IS()),b0(),Bv(eN),Bv(YT.forRoot({timeOut:2200,positionClass:"toast-top-right",preventDuplicates:!0,closeButton:!0,progressBar:!0})),b0()]};var nN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({imports:[Et,kh,Lh,Fh,He,jt]});let t=e;return t})();var rN=(()=>{let e=class e{constructor(){this.title="BookShelfterClientAngular"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["app-root"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(i,o){i&1&&re(0,"router-outlet")},dependencies:[Ls,He,nN]});let t=e;return t})();function Io(t,e){return t||e}function ir(t,e){return t[e]}var vr=void 0,rr=null,L0="",zh="function",Gd="object",No="prototype",k0="__proto__",Bs="undefined",Bh="constructor",U0="Symbol",yA="_polyfill",Tu="length",jh="name",An="call",qh="toString",si=Io(Object),Y0=ir(si,No),uN=Io(String),js=ir(uN,No),bA=Io(Math),lN=Io(Array),$h=ir(lN,No),Do=ir($h,"slice");function tn(t,e){try{return{v:t.apply(this,e)}}catch(r){return{e:r}}}function CA(t,e){var r=tn(t);return r.e?e:r.v}var C0;function Wh(t){return function(e){return typeof e===t}}function dN(t){var e="[object "+t+"]";return function(r){return!!(r&&Kh(r)===e)}}function Kh(t){return Y0[qh].call(t)}function rt(t){return typeof t===Bs||t===Bs}function Y(t){return t===rr||rt(t)}function SA(t){return t===rr||!V0(t)}function V0(t){return!!t||t!==vr}function TA(t){return!C0&&(C0=["string","number","boolean",Bs,"symbol","bigint"]),t!==Gd&&C0.indexOf(t)!==-1}var he=Wh("string"),me=Wh(zh);function zt(t){return!t&&Y(t)?!1:!!t&&typeof t===Gd}var Oe=ir(lN,"isArray"),fN=dN("Date"),Si=Wh("number"),Hd=Wh("boolean");var Gs=dN("Error");function Hi(t){return!!(t&&t.then&&me(t.then))}function Ta(t){return!(!t||CA(function(){return!(t&&0+t)},!t))}var Xh=ir(si,"getOwnPropertyDescriptor");function Hn(t,e){return!!t&&Y0.hasOwnProperty[An](t,e)}var Ti=Io(ir(si,"hasOwn"),xA);function xA(t,e){return Hn(t,e)||!!Xh(t,e)}function Ie(t,e,r){if(t&&zt(t)){for(var n in t)if(Ti(t,n)&&e[An](r||t,n,t[n])===-1)break}}var Uh={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function NA(t){var e={};if(e[Uh.c]=!0,e[Uh.e]=!0,t.l){e.get=function(){return t.l.v};var r=Xh(t.l,"v");r&&r.set&&(e.set=function(n){t.l.v=n})}return Ie(t,function(n,i){e[Uh[n]]=rt(i)?e[Uh[n]]:i}),e}var kr=ir(si,"defineProperty"),pN=ir(si,"defineProperties");function Be(t,e,r){return kr(t,e,NA(r))}function hN(t,e,r,n,i){var o={};return Ie(t,function(a,s){Gh(o,a,e?s:a,i),Gh(o,s,r?s:a,i)}),n?n(o):o}function Gh(t,e,r,n){kr(t,e,{value:r,enumerable:!0,writable:!!n})}var hn=Io(uN),DA="[object Error]";function te(t,e){var r=L0,n=Y0[qh][An](t);n===DA&&(t={stack:hn(t.stack),message:hn(t.message),name:hn(t.name)});try{r=JSON.stringify(t,rr,e?typeof e=="number"?e:4:vr),r=r&&r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||hn(t)}catch(i){r=" - "+te(i,e)}return n+": "+r}function xn(t){throw new Error(t)}function zn(t){throw new TypeError(t)}var mN=ir(si,"freeze");function IA(t){return t}function OA(t){return t[k0]||rr}var Nu=ir(si,"assign"),qn=ir(si,"keys");function Fr(t){return mN&&Ie(t,function(e,r){(Oe(r)||zt(r))&&Fr(r)}),Lr(t)}var Lr=Io(mN,IA);var F0=Io(ir(si,"getPrototypeOf"),OA);function gN(t){return hN(t,1,0,Lr)}function PA(t){return hN(t,0,0,Lr)}function wA(t){var e={};return Ie(t,function(r,n){Gh(e,r,n[1]),Gh(e,n[0],n[1])}),Lr(e)}function vN(t){return wA(t)}var _N=PA({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),iN="__tsUtils$gblCfg",S0;function EN(){var t;return typeof globalThis!==Bs&&(t=globalThis),!t&&typeof self!==Bs&&(t=self),!t&&typeof window!==Bs&&(t=window),!t&&typeof global!==Bs&&(t=global),t}function yN(){if(!S0){var t=tn(EN).v||{};S0=t[iN]=t[iN]||{}}return S0}var Hs=Qh;function Qh(t,e,r){var n=e&&e[t];return function(i){var o=i&&i[t]||n;if(o||r){var a=arguments;return(o||r).apply(i,o?Do[An](a,1):a)}zn('"'+hn(t)+'" not defined for '+te(i))}}function MA(t){return function(e){return e[t]}}var RA=ir(bA,"max"),oN=Hs("slice",js),Ur=Hs("substring",js),xi=Qh("substr",js,AA);function AA(t,e,r){return Y(t)&&zn("Invalid "+te(t)),r<0?L0:(e=e||0,e<0&&(e=RA(e+t[Tu],0)),rt(r)?oN(t,e):oN(t,e,e+r))}function zd(t,e){return Ur(t,0,e)}var aN="_urid",T0;function kA(){if(!T0){var t=yN();T0=t.gblSym=t.gblSym||{k:{},s:{}}}return T0}var Yh;function B0(t){var e={description:hn(t),toString:function(){return U0+"("+t+")"}};return e[yA]=!0,e}function FA(t){var e=kA();if(!Ti(e.k,t)){var r=B0(t),n=qn(e.s).length;r[aN]=function(){return n+"_"+r[qh]()},e.k[t]=r,e.s[r[aN]()]=hn(t)}return e.k[t]}function LA(t){!Yh&&(Yh={});var e,r=_N[t];return r&&(e=Yh[r]=Yh[r]||B0(U0+"."+r)),e}var en;function xa(){en=yN()}function bN(t){var e={};return!en&&xa(),e.b=en.lzy,kr(e,"v",{configurable:!0,get:function(){var r=t();return en.lzy||kr(e,"v",{value:r}),e.b=en.lzy,r}}),e}function Yr(t){return kr({toJSON:function(){return t}},"v",{value:t})}var CN="window",jd;function Du(t,e){var r;return function(){return!en&&xa(),(!r||en.lzy)&&(r=Yr(tn(t,e).v)),r.v}}function qt(t){return!en&&xa(),(!jd||t===!1||en.lzy)&&(jd=Yr(tn(EN).v||rr)),jd.v}function yt(t,e){var r=!jd||e===!1?qt(e):jd.v;return r&&r[t]?r[t]:t===CN?$t():rr}function qd(){return!!Ot()}var Ot=Du(yt,["document"]);function Na(){return!!$t()}var $t=Du(yt,[CN]);function j0(){return!!kn()}var kn=Du(yt,["navigator"]);function G0(){return!!Jh()}var Jh=Du(yt,["history"]),SN=Du(function(){return!!tn(function(){return process&&(process.versions||{}).node}).v}),Zh=Du(function(){return!!tn(function(){return self&&self instanceof WorkerGlobalScope}).v}),xu,x0;function em(){return xu=Yr(tn(yt,[U0]).v),xu}function UA(t){var e=(en.lzy?0:xu)||em();return e.v?e.v[t]:vr}function TN(){return!!YA()}function YA(){return!en&&xa(),((en.lzy?0:xu)||em()).v}function $d(t,e){var r=_N[t];!en&&xa();var n=(en.lzy?0:xu)||em();return n.v?n.v[r||t]:e?vr:LA(t)}function Iu(t,e){!en&&xa();var r=(en.lzy?0:xu)||em();return r.v?r.v(t):e?rr:B0(t)}function tm(t){return!en&&xa(),x0=(en.lzy?0:x0)||Yr(tn(UA,["for"]).v),(x0.v||FA)(t)}function Hh(t){return!!t&&me(t.next)}function H0(t){return!SA(t)&&me(t[$d(3)])}var Vh;function nm(t,e,r){if(t&&(Hh(t)||(!Vh&&(Vh=Yr($d(3))),t=t[Vh.v]?t[Vh.v]():null),Hh(t))){var n=vr,i=vr;try{for(var o=0;!(i=t.next()).done&&e[An](r||t,i.value,o,t)!==-1;)o++}catch(a){n={e:a},t.throw&&(i=rr,t.throw(n))}finally{try{i&&!i.done&&t.return&&t.return(i)}finally{if(n)throw n.e}}}}function Su(t,e,r){return t.apply(e,r)}function Oo(t,e){return!rt(e)&&t&&(Oe(e)?Su(t.push,t,e):Hh(e)||H0(e)?nm(e,function(r){t.push(r)}):t.push(e)),t}function K(t,e,r){if(t)for(var n=t[Tu]>>>0,i=0;i<n&&!(i in t&&e[An](r||t,t[i],i,t)===-1);i++);}var xt=Hs("indexOf",$h);var zs=Hs("map",$h);function Ou(t,e,r){return(t&&t.slice||Do).apply(t,Do[An](arguments,1))}var z0=Hs("reduce",$h);var zi=Io(ir(si,"create"),VA);function VA(t){if(!t)return{};var e=typeof t;e!==Gd&&e!==zh&&zn("Prototype must be an Object or function: "+te(t));function r(){}return r[No]=t,new r}var N0;function xN(t,e){var r=si.setPrototypeOf||function(n,i){var o;!N0&&(N0=Yr((o={},o[k0]=[],o instanceof Array))),N0.v?n[k0]=i:Ie(i,function(a,s){return n[a]=s})};return r(t,e)}function BA(t,e,r){tn(Be,[e,jh,{v:t,c:!0,e:!1}]),e=xN(e,r);function n(){this[Bh]=e,tn(Be,[this,jh,{v:t,c:!0,e:!1}])}return e[No]=r===rr?zi(r):(n[No]=r[No],new n),e}function sN(t,e){e&&(t[jh]=e)}function rm(t,e,r){var n=r||Error,i=n[No][jh],o=Error.captureStackTrace;return BA(t,function(){var a=this,s=arguments;try{tn(sN,[n,t]);var c=Su(n,a,Do[An](s))||a;if(c!==a){var u=F0(a);u!==F0(c)&&xN(c,u)}return o&&o(c,a[Bh]),e&&e(c,s),c}finally{tn(sN,[n,i])}},n)}var D0;function NN(t){throw D0||(D0=rm("UnsupportedError")),new D0(t)}function mn(){return(Date.now||jA)()}function jA(){return new Date().getTime()}function GA(t){return function(r){return Y(r)&&zn("strTrim called ["+te(r)+"]"),r&&r.replace&&(r=r.replace(t,L0)),r}}var HA=GA(/^\s+|(?=\s)\s+$/g);var Nt=Qh("trim",js,HA);var I0,O0,P0;function nn(t){if(!t||typeof t!==Gd)return!1;P0||(P0=Na()?$t():!0);var e=!1;if(t!==P0){O0||(I0=Function[No][qh],O0=I0[An](si));try{var r=F0(t);e=!r,e||(Hn(r,Bh)&&(r=r[Bh]),e=r&&typeof r===zh&&I0[An](r)===O0)}catch{}}return e}function zA(t){return t.value&&IN(t),!0}var cN=[KA,IN,QA,XA];function qA(t,e,r,n){var i;return K(t,function(o){if(o.k===e)return i=o,-1}),i||(i={k:e,v:e},t.push(i),n(i)),i.v}function q0(t,e,r,n){var i=r.handler,o=r.path?n?r.path.concat(n):r.path:[],a={handler:r.handler,src:r.src,path:o},s=typeof e,c=!1,u=!1;e&&s===Gd?c=nn(e):u=e===rr||TA(s);var l={type:s,isPrim:u,isPlain:c,value:e,result:e,path:o,origin:r.src,copy:function(p,m){return q0(t,p,m?a:r,m)},copyTo:function(p,m){return DN(t,p,m,a)}};return l.isPrim?i&&i[An](r,l)?l.result:e:qA(t,e,o,function(p){Be(l,"result",{g:function(){return p.v},s:function(g){p.v=g}});for(var m=0,h=i;!(h||(m<cN.length?cN[m++]:zA))[An](r,l);)h=rr})}function DN(t,e,r,n){if(!Y(r))for(var i in r)e[i]=q0(t,r[i],n,i);return e}function $A(t,e,r){var n={handler:r,src:e,path:[]};return DN([],t,e,n)}function WA(t,e){var r={handler:e,src:t};return q0([],t,r)}function KA(t){var e=t.value;if(Oe(e)){var r=t.result=[];return r.length=e.length,t.copyTo(r,e),!0}return!1}function XA(t){var e=t.value;return fN(e)?(t.result=new Date(e.getTime()),!0):!1}function QA(t){return t.type===zh}function IN(t){var e=t.value;if(e&&t.isPlain){var r=t.result={};return t.copyTo(r,e),!0}return!1}function ON(t,e){return K(e,function(r){$A(t,r)}),t}function $0(t,e,r,n,i,o,a){return ON(WA(t)||{},Do[An](arguments))}function PN(t,e,r,n,i,o,a){return ON(t||{},Do[An](arguments))}var W0=MA(Tu);var w0;function or(){return!en&&xa(),(!w0||en.lzy)&&(w0=Yr(tn(yt,["performance"]).v)),w0.v}var K0=Hs("split",js);function X0(t,e,r){if(t&&e){var n=K0(e,"."),i=n.pop();K(n,function(o){Y(t[o])&&(t[o]={}),t=t[o]}),t[i]=r}}var Wd=Qh("endsWith",js,JA);function JA(t,e,r){he(t)||zn("'"+te(t)+"' is not a string");var n=he(e)?e:hn(e),i=!rt(r)&&r<t[Tu]?r:t[Tu];return Ur(t,i-n[Tu],i)===n}var Lt=Hs("indexOf",js);var M0="ref",R0="unref",A0="hasRef",ZA="enabled";function ek(t,e,r){var n=!0,i=t?e(rr):rr,o;function a(){return n=!1,i&&i[R0]&&i[R0](),o}function s(){i&&r(i),i=rr}function c(){return i=e(i),n||a(),o}function u(l){!l&&i&&s(),l&&!i&&c()}return o={cancel:s,refresh:c},o[A0]=function(){return i&&i[A0]?i[A0]():n},o[M0]=function(){return n=!0,i&&i[M0]&&i[M0](),o},o[R0]=a,o=kr(o,ZA,{get:function(){return!!i},set:u}),{h:o,dn:function(){i=rr}}}function wN(t,e,r){var n=Oe(e),i=n?e.length:0,o=(i>0?e[0]:n?vr:e)||setTimeout,a=(i>1?e[1]:vr)||clearTimeout,s=r[0];r[0]=function(){c.dn(),Su(s,vr,Do[An](arguments))};var c=ek(t,function(u){if(u){if(u.refresh)return u.refresh(),u;Su(a,vr,[u])}return Su(o,vr,r)},function(u){Su(a,vr,[u])});return c.h}function Wt(t,e){return wN(!0,vr,Do[An](arguments))}function MN(t,e){return wN(!1,vr,Do[An](arguments))}var im;var cm="constructor",Po="prototype",um="function",lm="_dynInstFuncs",Z0="_isDynProxy",Pu="_dynClass",tk="_dynCls$",eE="_dynInstChk",Kd=eE,LN="_dfOpts",RN="_unknown_",rE="__proto__",om="_dyn"+rE,AN="__dynProto$Gbl",Q0="_dynInstProto",am="useBaseInst",tE="setInstFuncs",iE=Object,Xd=iE.getPrototypeOf,kN=iE.getOwnPropertyNames,FN=qt(),nE=FN[AN]||(FN[AN]={o:(im={},im[tE]=!0,im[am]=!0,im),n:1e3});function sm(t){return t&&(t===iE[Po]||t===Array[Po])}function oE(t){return sm(t)||t===Function[Po]}function qs(t){var e;if(t){if(Xd)return Xd(t);var r=t[rE]||t[Po]||(t[cm]?t[cm][Po]:null);e=t[om]||r,Hn(t,om)||(delete t[Q0],e=t[om]=t[Q0]||t[om],t[Q0]=r)}return e}function dm(t,e){var r=[];if(kN)r=kN(t);else for(var n in t)typeof n=="string"&&Hn(t,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)e(r[i])}function aE(t,e,r){return e!==cm&&typeof t[e]===um&&(r||Hn(t,e))&&e!==rE&&e!==Po}function fm(t){zn("DynamicProto: "+t)}function nk(t){var e=zi(null);return dm(t,function(r){!e[r]&&aE(t,r,!1)&&(e[r]=t[r])}),e}function sE(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return!0;return!1}function rk(t,e,r,n){function i(c,u,l){var p=u[l];if(p[Z0]&&n){var m=c[lm]||{};m[Kd]!==!1&&(p=(m[u[Pu]]||{})[l]||p)}return function(){return p.apply(c,arguments)}}var o=zi(null);dm(r,function(c){o[c]=i(e,r,c)});for(var a=qs(t),s=[];a&&!oE(a)&&!sE(s,a);)dm(a,function(c){!o[c]&&aE(a,c,!Xd)&&(o[c]=i(e,a,c))}),s.push(a),a=qs(a);return o}function ik(t,e,r,n){var i=null;if(t&&Hn(r,Pu)){var o=t[lm]||zi(null);if(i=(o[r[Pu]]||zi(null))[e],i||fm("Missing ["+e+"] "+um),!i[eE]&&o[Kd]!==!1){for(var a=!Hn(t,e),s=qs(t),c=[];a&&s&&!oE(s)&&!sE(c,s);){var u=s[e];if(u){a=u===n;break}c.push(s),s=qs(s)}try{a&&(t[e]=i),i[eE]=1}catch{o[Kd]=!1}}}return i}function ok(t,e,r){var n=e[t];return n===r&&(n=qs(e)[t]),typeof n!==um&&fm("["+t+"] is not a "+um),n}function ak(t,e,r,n,i){function o(c,u){var l=function(){var p=ik(this,u,c,l)||ok(u,c,l);return p.apply(this,arguments)};return l[Z0]=1,l}if(!sm(t)){var a=r[lm]=r[lm]||zi(null);if(!sm(a)){var s=a[e]=a[e]||zi(null);a[Kd]!==!1&&(a[Kd]=!!i),sm(s)||dm(r,function(c){aE(r,c,!1)&&r[c]!==n[c]&&(s[c]=r[c],delete r[c],(!Hn(t,c)||t[c]&&!t[c][Z0])&&(t[c]=o(t,c)))})}}}function sk(t,e){if(Xd){for(var r=[],n=qs(e);n&&!oE(n)&&!sE(r,n);){if(n===t)return!0;r.push(n),n=qs(n)}return!1}return!0}function J0(t,e){return Hn(t,Po)?t.name||e||RN:((t||{})[cm]||{}).name||e||RN}function Ye(t,e,r,n){Hn(t,Po)||fm("theClass is an invalid class definition.");var i=t[Po];sk(i,e)||fm("["+J0(t)+"] not in hierarchy of ["+J0(e)+"]");var o=null;Hn(i,Pu)?o=i[Pu]:(o=tk+J0(t,"_")+"$"+nE.n,nE.n++,i[Pu]=o);var a=Ye[LN],s=!!a[am];s&&n&&n[am]!==void 0&&(s=!!n[am]);var c=nk(e),u=rk(i,e,c,s);r(e,u);var l=!!Xd&&!!a[tE];l&&n&&(l=!!n[tE]),ak(i,o,e,c,l!==!1)}Ye[LN]=nE.o;var wu="function",Qd="object",$s="undefined",$n="prototype";var Mu=Object,cE=Mu[$n];var ZV=(qt()||{}).Symbol,eB=(qt()||{}).Reflect;var UN="hasOwnProperty",uk=function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)cE[UN].call(e,i)&&(t[i]=e[i])}return t},Kt=Nu||uk,uE=function(t,e){return uE=Mu.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[UN](i)&&(r[i]=n[i])},uE(t,e)};function Nn(t,e){typeof e!==wu&&e!==null&&zn("Class extends value "+String(e)+" is not a constructor or null"),uE(t,e);function r(){this.constructor=t}t[$n]=e===null?zi(e):(r[$n]=e[$n],new r)}function pm(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}var Ws=gN,lE=vN;var Ni=Ws({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2});var Di="toLowerCase",Da="blkVal",pe="length",Ks="rdOnly",Xs="notify",Ru="warnToConsole",wo="throwInternal",Ii="setDf",Oi="watch",Dt="logger",ci="apply",$e="push",ui="splice",hm="hdlr",Mo="cancel",Ro="initialize",qi="identifier",Au="removeNotificationListener",ku="addNotificationListener",_r="isInitialized",dE="instrumentationKey",mm="INACTIVE",Qs="value",Jd="getNotifyMgr",Ia="getPlugin",Fn="name",Fu="iKey",Oa="time",gn="processNext",gm="getProcessTelContext",fE="pollInternalLogs",Pa="enabled",pE="stopPollingInternalLogs",Er="unload",Zd="onComplete",Lu="version",vm="loggingLevelConsole",$i="createNew",Vr="teardown",Uu="messageId",Wi="message",Pi="isAsync",yr="diagLog",wa="_doTeardown",Js="update",Br="getNext",Ma="setNextPlugin",_m="protocol",ef="userAgent",wi="split",Em="nodeType",Mi="replace",hE="logInternalMessage",Ki="type",ym="handler",Zs="status",mE="getResponseHeader",gE="getAllResponseHeaders",tf="isChildEvt",Ra="data",ec="getCtx",Ri="setCtx",bm="complete",vE="itemsReceived",Yu="urlString",_E="sendPOST",Cm="headers",tc="timeout",EE="setRequestHeader",nf="traceId",rf="spanId",of="traceFlags",Sm="getAttribute";var yE;function YN(t,e){yE||(yE=rm("AggregationError",function(n,i){i[pe]>1&&(n.errors=i[1])}));var r=t||"One or more errors occurred.";throw K(e,function(n,i){r+=`
`.concat(i," > ").concat(te(n))}),new yE(r,e||[])}var xm="Promise";var IE="rejected";function ar(t,e){return GN(t,function(r){return e?e({status:"fulfilled",rejected:!1,value:r}):r},function(r){return e?e({status:IE,rejected:!0,reason:r}):r})}function GN(t,e,r,n){var i=t;try{if(Hi(t))(e||r)&&(i=t.then(e,r));else try{e&&(i=e(t))}catch(o){if(r)i=r(o);else throw o}}finally{n&&lk(i,n)}return i}function lk(t,e){var r=t;return e&&(Hi(t)?t.finally?r=t.finally(e):r=t.then(function(n){return e(),n},function(n){throw e(),n}):e()),r}var bE,CE,SE,VN=!1;function dk(t,e,r,n){bE=bE||{toString:function(){return"[[PromiseState]]"}},CE=CE||{toString:function(){return"[[PromiseResult]]"}},SE=SE||{toString:function(){return"[[PromiseIsHandled]]"}};var i={};i[bE]={get:e},i[CE]={get:r},i[SE]={get:n},pN(t,i)}var HN=["pending","resolving","resolved",IE],BN="dispatchEvent",Tm;function fk(t){var e;return t&&t.createEvent&&(e=t.createEvent("Event")),!!e&&e.initEvent}function pk(t,e,r,n){var i=Ot();!Tm&&(Tm=Yr(!!tn(fk,[i]).v));var o=Tm.v?i.createEvent("Event"):n?new Event(e):{};if(r&&r(o),Tm.v&&o.initEvent(e,!1,!0),o&&t[BN])t[BN](o);else{var a=t["on"+e];if(a)a(o);else{var s=yt("console");s&&(s.error||s.log)(e,te(o))}}}var zN="unhandledRejection",hk=zN.toLowerCase(),af=[],mk=0,gk=10;var TE;function jN(t){return me(t)?t.toString():te(t)}function vk(t,e,r){var n=Ou(arguments,3),i=0,o=!1,a,s=[],c=mk++,u=af.length>0?af[af.length-1]:void 0,l=!1,p=null,m;function h(j,Q){try{af.push(c),l=!0,p&&p.cancel(),p=null;var A=t(function(D,q){s.push(function(){try{var G=i===2?j:Q,ee=rt(G)?a:me(G)?G(a):G;Hi(ee)?ee.then(D,q):G?D(ee):i===3?q(ee):D(ee)}catch(ye){q(ye)}}),o&&y()},n);return A}finally{af.pop()}}function g(j){return h(void 0,j)}function E(j){var Q=j,A=j;return me(j)&&(Q=function(D){return j&&j(),D},A=function(D){throw j&&j(),D}),h(Q,A)}function _(){return HN[i]}function y(){if(s.length>0){var j=s.slice();s=[],l=!0,p&&p.cancel(),p=null,e(j)}}function x(j,Q){return function(A){if(i===Q){if(j===2&&Hi(A)){i=1,A.then(x(2,1),x(3,1));return}i=j,o=!0,a=A,y(),!l&&j===3&&!p&&(p=Wt(w,gk))}}}function w(){if(!l)if(l=!0,SN())process.emit(zN,a,m);else{var j=$t()||qt();!TE&&(TE=Yr(tn(yt,[xm+"RejectionEvent"]).v)),pk(j,hk,function(Q){return Be(Q,"promise",{g:function(){return m}}),Q.reason=a,Q},!!TE.v)}}m={then:h,catch:g,finally:E},kr(m,"state",{get:_}),VN&&dk(m,_,function(){return Kh(a)},function(){return l}),TN()&&(m[$d(11)]="IPromise");function R(){return"IPromise"+(VN?"["+c+(rt(u)?"":":"+u)+"]":"")+" "+_()+(o?" - "+jN(a):"")}return m.toString=R,function(){me(r)||zn(xm+": executor is not a function - "+jN(r));var Q=x(3,0);try{r.call(m,x(2,0),Q)}catch(A){Q(A)}}(),m}function _k(t){return function(e){var r=Ou(arguments,1);return t(function(n,i){try{var o=[],a=1;nm(e,function(s,c){s&&(a++,GN(s,function(u){o[c]=u,--a===0&&n(o)},i))}),a--,a===0&&n(o)}catch(s){i(s)}},r)}}function Ek(t){return Yr(function(e){var r=Ou(arguments,1);return t(function(n,i){var o=[],a=1;function s(c,u){a++,ar(c,function(l){l.rejected?o[u]={status:IE,reason:l.reason}:o[u]={status:"fulfilled",value:l.value},--a===0&&n(o)})}try{Oe(e)?K(e,s):H0(e)?nm(e,s):zn("Input is not an iterable"),a--,a===0&&n(o)}catch(c){i(c)}},r)})}function yk(t){K(t,function(e){try{e()}catch{}})}function bk(t){var e=Si(t)?t:0;return function(r){Wt(function(){yk(r)},e)}}function Vu(t,e){return vk(Vu,bk(e),t,e)}var xE;function Ck(t,e){!xE&&(xE=Yr(tn(yt,[xm]).v||null));var r=xE.v;if(!r)return Vu(t);me(t)||zn(xm+": executor is not a function - "+te(t));var n=0;function i(){return HN[n]}var o=new r(function(a,s){function c(l){n=2,a(l)}function u(l){n=3,s(l)}t(c,u)});return kr(o,"state",{get:i}),o}var NE,DE;function br(t,e){return!NE&&(NE=Yr(Ck)),NE.v.call(this,t,e)}var qN=_k(br);function $N(t,e){return!DE&&(DE=Ek(br)),DE.v(t,e)}var MB=$d(11);var jr=void 0,qe="",Aa="channels",Ut="core",Nm="createPerfMgr",sf="disabled",Ao="extensionConfig",nc="extensions",Cr="processTelemetry",rc="priority",Bu="eventsSent",ka="eventsDiscarded",ju="eventsSendRequest",Xi="perfEvent",Dm="offlineEventsStored",Im="offlineBatchSent",Om="offlineBatchDrop",Gu="getPerfMgr",Pm="domain",wm="path",WN="Not dynamic - ";var Sk="getPrototypeOf",Tk=/-([a-z])/g,xk=/([^\w\d_$])/g,Nk=/^(\d+[\w\d_$])/,XN=Object[Sk];function li(t){return!Y(t)}function ic(t){var e=t;return e&&he(e)&&(e=e[Mi](Tk,function(r,n){return n.toUpperCase()}),e=e[Mi](xk,"_"),e=e[Mi](Nk,function(r,n){return"_"+n})),e}function vn(t,e){return t&&e?Lt(t,e)!==-1:!1}function di(t){return t&&t.toISOString()||""}function Qe(t){return Gs(t)?t[Fn]:qe}function vt(t,e,r,n,i){var o=r;return t&&(o=t[e],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,t[e]=o)),o}function _n(t,e,r){var n;return t?(n=t[e],!n&&Y(n)&&(n=rt(r)?{}:r,t[e]=n)):n=rt(r)?{}:r,n}function QN(t,e){var r=null,n=null;return me(t)?r=t:n=t,function(){var i=arguments;if(r&&(n=r()),n)return n[e][ci](n,i)}}function OE(t,e,r){if(t&&e&&zt(t)&&zt(e)){var n=function(o){if(he(o)){var a=e[o];me(a)?(!r||r(o,!0,e,t))&&(t[o]=QN(e,o)):(!r||r(o,!1,e,t))&&(Ti(t,o)&&delete t[o],Be(t,o,{g:function(){return e[o]},s:function(s){e[o]=s}}))}};for(var i in e)n(i)}return t}function oc(t,e,r,n,i){t&&e&&r&&(i!==!1||rt(t[e]))&&(t[e]=QN(r,n))}function Fa(t,e,r,n){return t&&e&&zt(t)&&Oe(r)&&K(r,function(i){he(i)&&oc(t,i,e,i,n)}),t}function PE(t){return function(){function e(){var r=this;t&&Ie(t,function(n,i){r[n]=i})}return e}()}function Rm(t){return t&&Nu&&(t=Mu(Nu({},t))),t}function Am(t,e,r,n,i,o){var a=arguments,s=a[0]||{},c=a[pe],u=!1,l=1;for(c>0&&Hd(s)&&(u=s,s=a[l]||{},l++),zt(s)||(s={});l<c;l++){var p=a[l],m=Oe(p),h=zt(p);for(var g in p){var E=m&&g in p||h&&Ti(p,g);if(E){var _=p[g],y=void 0;if(u&&_&&((y=Oe(_))||nn(_))){var x=s[g];y?Oe(x)||(x=[]):nn(x)||(x={}),_=Am(u,x,_)}_!==void 0&&(s[g]=_)}}}return s}function cf(t,e){var r=!1,n=e&&e.featureOptIn&&e.featureOptIn[t];if(t&&n){var i=n.mode;r=i==3||i==1}return r}function Hu(t){try{return t.responseText}catch{}return null}function uf(t,e){return t?"XDomainRequest,Response:"+Hu(t)||"":e}function ac(t,e){return t?"XMLHttpRequest,Status:"+t[Zs]+",Response:"+Hu(t)||t.response||"":e}function km(t,e){return e&&(Si(e)?t=[e].concat(t):Oe(e)&&(t=e.concat(t))),t}var Dk="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",KN="withCredentials",Ik="timeout";function wE(t,e,r,n,i,o){n===void 0&&(n=!1),i===void 0&&(i=!1);function a(c,u,l){try{c[u]=l}catch{}}var s=new XMLHttpRequest;return n&&a(s,Dk,n),r&&a(s,KN,r),s.open(t,e,!i),r&&a(s,KN,r),!i&&o&&a(s,Ik,o),s}function JN(t){var e={};if(he(t)){var r=Nt(t)[wi](/[\r\n]+/);K(r,function(n){if(n){var i=n.indexOf(": ");if(i!==-1){var o=Nt(n.substring(0,i))[Di](),a=Nt(n.substring(i+1));e[o]=a}else e[Nt(n)]=1}})}return e}function Mm(t,e,r){if(!t[r]&&e&&e[mE]){var n=e[mE](r);n&&(t[r]=Nt(n))}return t}var Ok="kill-duration",Pk="kill-duration-seconds",wk="time-delta-millis";function lf(t,e){var r={};return t[gE]?r=JN(t[gE]()):e&&(r=Mm(r,t,wk),r=Mm(r,t,Ok),r=Mm(r,t,Pk)),r}var Mk="documentMode",Rk="location",Ak="console",ZN="JSON",kk="crypto",Fk="msCrypto",Lk="ReactNative",kE="msie",FE="trident/",eD="XMLHttpRequest",ME=null,RE=null,Uk=!1,zu=null,AE=null;function tD(t,e){var r=!1;if(t){try{if(r=e in t,!r){var n=t[$n];n&&(r=e in n)}}catch{}if(!r)try{var i=new t;r=!rt(i[e])}catch{}}return r}function Ln(t){if(t&&Uk){var e=yt("__mockLocation");if(e)return e}return typeof location===Qd&&location?location:yt(Rk)}function LE(){return typeof console!==$s?console:yt(Ak)}function Qi(){return!!(typeof JSON===Qd&&JSON||yt(ZN)!==null)}function rn(){return Qi()?JSON||yt(ZN):null}function UE(){return yt(kk)}function YE(){return yt(Fk)}function VE(){var t=kn();return t&&t.product?t.product===Lk:!1}function qu(){var t=kn();if(t&&(t[ef]!==RE||ME===null)){RE=t[ef];var e=(RE||qe)[Di]();ME=vn(e,kE)||vn(e,FE)}return ME}function df(t){if(t===void 0&&(t=null),!t){var e=kn()||{};t=e?(e.userAgent||qe)[Di]():qe}var r=(t||qe)[Di]();if(vn(r,kE)){var n=Ot()||{};return Math.max(parseInt(r[wi](kE)[1]),n[Mk]||0)}else if(vn(r,FE)){var i=parseInt(r[wi](FE)[1]);if(i)return i+4}return null}function ko(t){return(AE===null||t===!1)&&(AE=j0()&&!!kn().sendBeacon),AE}function sc(t){var e=!1;try{e=!!yt("fetch");var r=yt("Request");e&&t&&r&&(e=tD(r,"keepalive"))}catch{}return e}function BE(){return zu===null&&(zu=typeof XDomainRequest!==$s,zu&&La()&&(zu=zu&&!tD(yt(eD),"withCredentials"))),zu}function La(){var t=!1;try{var e=yt(eD);t=!!e}catch{}return t}function nD(t,e){return t&&t.dispatchEvent&&e?(t.dispatchEvent(e),!0):!1}function rD(t,e){var r=null,n={detail:e||null};if(me(CustomEvent))r=new CustomEvent(t,n);else{var i=Ot();i&&i.createEvent&&(r=i.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n))}return r}function jE(t,e,r){var n=qt();if(n&&n.CustomEvent)try{var i={cfg:e||null,customDetails:r||null};return nD(n,rD(t,i))}catch{}return!1}var iD=4294967296,Ua=4294967295,oD=123456789,aD=987654321,sD=!1,ff=oD,pf=aD;function Yk(t){t<0&&(t>>>=0),ff=oD+t&Ua,pf=aD-t&Ua,sD=!0}function Vk(){try{var t=mn()&2147483647;Yk((Math.random()*iD^t)+t)}catch{}}function GE(t){return t>0?Math.floor(cc()/Ua*(t+1))>>>0:0}function cc(t){var e=0,r=UE()||YE();return r&&r.getRandomValues&&(e=r.getRandomValues(new Uint32Array(1))[0]&Ua),e===0&&qu()&&(sD||Vk(),e=cD()&Ua),e===0&&(e=Math.floor(iD*Math.random()|0)),t||(e>>>=0),e}function cD(t){pf=36969*(pf&65535)+(pf>>16)&Ua,ff=18e3*(ff&65535)+(ff>>16)&Ua;var e=(pf<<16)+(ff&65535)>>>0&Ua|0;return t||(e>>>=0),e}function uc(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=cc()>>>0,n=0,i=qe;i[pe]<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(cc()<<2&4294967295|r&3)>>>0,n=0);return i}var uD="3.3.2",Bk="."+uc(6),jk=0;function lD(t){return t[Em]===1||t[Em]===9||!+t[Em]}function Gk(t,e){var r=e[t.id];if(!r){r={};try{lD(e)&&Be(e,t.id,{e:!1,v:r})}catch{}}return r}function Gt(t,e){return e===void 0&&(e=!1),ic(t+jk+++(e?"."+uD:qe)+Bk)}function Fm(t){var e={id:Gt("_aiData-"+(t||qe)+"."+uD),accept:function(r){return lD(r)},get:function(r,n,i,o){var a=r[e.id];return a?a[ic(n)]:(o&&(a=Gk(e,r),a[ic(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch{}}};return e}function Lm(t){return t&&zt(t)&&(t.isVal||t.fb||Ti(t,"v")||Ti(t,"mrg")||Ti(t,"ref")||t.set)}function dD(t,e,r){var n,i=r.dfVal||V0;if(e&&r.fb){var o=r.fb;Oe(o)||(o=[o]);for(var a=0;a<o[pe];a++){var s=o[a],c=e[s];if(i(c)?n=c:t&&(c=t.cfg[s],i(c)&&(n=c),t.set(t.cfg,hn(s),c)),i(n))break}}return!i(n)&&i(r.v)&&(n=r.v),n}function HE(t,e,r){var n=r;if(r&&Lm(r)&&(n=dD(t,e,r)),n){Lm(n)&&(n=HE(t,e,n));var i;Oe(n)?(i=[],i[pe]=n[pe]):nn(n)&&(i={}),i&&(Ie(n,function(o,a){a&&Lm(a)&&(a=HE(t,e,a)),i[o]=a}),n=i)}return n}function hf(t,e,r,n){var i,o,a,s=n,c,u,l,p;Lm(s)?(i=s.isVal,o=s.set,l=s[Ks],p=s[Da],c=s.mrg,u=s.ref,!u&&rt(u)&&(u=!!c),a=dD(t,e,s)):a=n,p&&t[Da](e,r);var m,h=!0,g=e[r];(g||!Y(g))&&(m=g,h=!1,i&&m!==a&&!i(m)&&(m=a,h=!0),o&&(m=o(m,a,e),h=m===a)),h?a?m=HE(t,e,a):m=a:(nn(m)||Oe(a))&&c&&a&&(nn(a)||Oe(a))&&Ie(a,function(E,_){hf(t,m,E,_)}),t.set(e,r,m),u&&t.ref(e,r),l&&t[Ks](e,r)}var Ji=tm("[[ai_dynCfg_1]]"),fD=tm("[[ai_blkDynCfg_1]]"),Hk=tm("[[ai_frcDynCfg_1]]");function zE(t){if(t){var e;if(Oe(t)?(e=[],e[pe]=t[pe]):nn(t)&&(e={}),e)return Ie(t,function(r,n){e[r]=zE(n)}),e}return t}function pD(t){if(t){var e=t[Ji]||t;if(e.cfg&&(e.cfg===t||e.cfg[Ji]===e))return e}return null}function hD(t){if(t&&(nn(t)||Oe(t)))try{t[fD]=!0}catch{}return t}function Um(t,e,r){var n=!1;return r&&!t[e.blkVal]&&(n=r[Hk],!n&&!r[fD]&&(n=nn(r)||Oe(r))),n}function Ym(t){zn("InvalidAccess:"+t)}var zk=["push","pop","shift","unshift","splice"],$u=function(t,e,r,n){t&&t[wo](3,108,"".concat(r," [").concat(e,"] failed - ")+te(n))};function qk(t,e,r){Oe(e)&&K(zk,function(n){var i=e[n];e[n]=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=i[ci](this,o);return mf(t,e,r,"Patching"),s}})}function Vm(t,e){var r=Xh(t,e);return r&&r.get}function $k(t,e,r,n){var i={n:r,h:[],trk:function(u){u&&u.fn&&(xt(i.h,u)===-1&&i.h[$e](u),t.trk(u,i))},clr:function(u){var l=xt(i.h,u);l!==-1&&i.h[ui](l,1)}},o=!0,a=!1;function s(){o&&(a=a||Um(s,t,n),n&&!n[Ji]&&a&&(n=mf(t,n,r,"Converting")),o=!1);var u=t.act;return u&&i.trk(u),n}s[t.prop]={chng:function(){t.add(i)}};function c(u){if(n!==u){s[t.ro]&&!t.upd&&Ym("["+r+"] is read-only:"+te(e)),o&&(a=a||Um(s,t,n),o=!1);var l=a&&s[t.rf];if(a)if(l){Ie(n,function(m){n[m]=u?u[m]:jr});try{Ie(u,function(m,h){gf(t,n,m,h)}),u=n}catch(m){$u((t.hdlr||{})[Dt],r,"Assigning",m),a=!1}}else n&&n[Ji]&&Ie(n,function(m){var h=Vm(n,m);if(h){var g=h[t.prop];g&&g.chng()}});if(u!==n){var p=u&&Um(s,t,u);!l&&p&&(u=mf(t,u,r,"Converting")),n=u,a=p}t.add(i)}}Be(e,i.n,{g:s,s:c})}function gf(t,e,r,n){if(e){var i=Vm(e,r),o=i&&!!i[t.prop];o?e[r]=n:$k(t,e,r,n)}return e}function Bm(t,e,r,n){if(e){var i=Vm(e,r),o=i&&!!i[t.prop],a=n&&n[0],s=n&&n[1],c=n&&n[2];if(!o){if(c)try{hD(e)}catch(u){$u((t.hdlr||{})[Dt],r,"Blocking",u)}try{gf(t,e,r,e[r]),i=Vm(e,r)}catch(u){$u((t.hdlr||{})[Dt],r,"State",u)}}a&&(i[t.rf]=a),s&&(i[t.ro]=s),c&&(i[t.blkVal]=!0)}return e}function mf(t,e,r,n){try{Ie(e,function(i,o){gf(t,e,i,o)}),e[Ji]||(kr(e,Ji,{get:function(){return t[hm]}}),qk(t,e,r))}catch(i){$u((t.hdlr||{})[Dt],r,n,i)}return e}var vf="[[ai_",_f="]]";function mD(t){var e,r=Iu(vf+"get"+t.uid+_f),n=Iu(vf+"ro"+t.uid+_f),i=Iu(vf+"rf"+t.uid+_f),o=Iu(vf+"blkVal"+t.uid+_f),a=Iu(vf+"dtl"+t.uid+_f),s=null,c=null,u;function l(g,E){var _=u.act;try{u.act=g,g&&g[a]&&(K(g[a],function(x){x.clr(g)}),g[a]=[]),E({cfg:t.cfg,set:t.set.bind(t),setDf:t[Ii].bind(t),ref:t.ref.bind(t),rdOnly:t[Ks].bind(t)})}catch(x){var y=t[Dt];throw y&&y[wo](1,107,te(x)),x}finally{u.act=_||null}}function p(){if(s){var g=s;s=null,c&&c[Mo](),c=null;var E=[];if(K(g,function(_){if(_&&(_[a]&&(K(_[a],function(y){y.clr(_)}),_[a]=null),_.fn))try{l(_,_.fn)}catch(y){E[$e](y)}}),s)try{p()}catch(_){E[$e](_)}E[pe]>0&&YN("Watcher error(s): ",E)}}function m(g){if(g&&g.h[pe]>0){s||(s=[]),c||(c=Wt(function(){c=null,p()},0));for(var E=0;E<g.h[pe];E++){var _=g.h[E];_&&xt(s,_)===-1&&s[$e](_)}}}function h(g,E){if(g){var _=g[a]=g[a]||[];xt(_,E)===-1&&_[$e](E)}}return u=(e={prop:r,ro:n,rf:i},e[Da]=o,e[hm]=t,e.add=m,e[Xs]=p,e.use=l,e.trk=h,e),u}function Wk(t,e){var r={fn:e,rm:function(){r.fn=null,t=null,e=null}};return Be(r,"toJSON",{v:function(){return"WatcherHandler"+(r.fn?"":"[X]")}}),t.use(r,e),r}function Kk(t,e,r){var n,i=pD(e);if(i)return i;var o=Gt("dyncfg",!0),a=e&&r!==!1?e:zE(e),s;function c(){s[Xs]()}function u(y,x,w){try{y=gf(s,y,x,w)}catch(R){$u(t,x,"Setting value",R)}return y[x]}function l(y){return Wk(s,y)}function p(y,x){s.use(null,function(w){var R=s.upd;try{rt(x)||(s.upd=x),y(w)}finally{s.upd=R}})}function m(y,x){var w;return Bm(s,y,x,(w={},w[0]=!0,w))[x]}function h(y,x){var w;return Bm(s,y,x,(w={},w[1]=!0,w))[x]}function g(y,x){var w;return Bm(s,y,x,(w={},w[2]=!0,w))[x]}function E(y,x){return x&&Ie(x,function(w,R){hf(_,y,w,R)}),y}var _=(n={uid:null,cfg:a},n[Dt]=t,n[Xs]=c,n.set=u,n[Ii]=E,n[Oi]=l,n.ref=m,n[Ks]=h,n[Da]=g,n._block=p,n);return Be(_,"uid",{c:!1,e:!1,w:!1,v:o}),s=mD(_),mf(s,a,"config","Creating"),_}function Xk(t,e){t?(t[Ru](e),t[wo](2,108,e)):Ym(e)}function on(t,e,r,n){var i=Kk(r,t||{},n);return e&&i[Ii](i.cfg,e),i}function at(t,e,r){var n=t[Ji]||t;return n.cfg&&(n.cfg===t||n.cfg[Ji]===n)?n[Oi](e):(Xk(r,WN+te(t)),on(t,null,r)[Oi](e))}function Fo(t,e){if(t&&t[Er])return t[Er](e)}function jm(t,e,r){var n;return r||(n=br(function(i){r=i})),t&&W0(t)>0?ar(Fo(t[0],e),function(){jm(Ou(t,1),e,r)}):r(),n}var gD=500,qE="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Qk(t,e,r){return!t&&Y(t)?e:Hd(t)?t:hn(t)[Di]()==="true"}function sr(t){return{mrg:!0,v:t}}function Gm(t,e){return{set:t,v:e}}function Ya(t,e,r){return{fb:r,isVal:t,v:e}}function Yt(t,e){return{fb:e,set:Qk,v:!!t}}function $E(t){return{isVal:he,v:hn(t||qe)}}var WE=[Bu,ka,ju,Xi],zm=null,Hm;function Jk(t,e){return function(){var r=arguments,n=KE(e);if(n){var i=n.listener;i&&i[t]&&i[t][ci](i,r)}}}function Zk(){var t=yt("Microsoft");return t&&(zm=t.ApplicationInsights),zm}function KE(t){var e=zm;return!e&&t.disableDbgExt!==!0&&(e=zm||Zk()),e?e.ChromeDbgExt:null}function vD(t){if(!Hm){Hm={};for(var e=0;e<WE[pe];e++)Hm[WE[e]]=Jk(WE[e],t)}return Hm}var Wu,ED="warnToConsole",e2="AI (Internal): ",t2="AI: ",n2="AITR_",r2={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},i2=(Wu={},Wu[0]=null,Wu[1]="errorToConsole",Wu[2]=ED,Wu[3]="debugToConsole",Wu);function _D(t){return t?'"'+t[Mi](/\"/g,qe)+'"':qe}function XE(t,e){var r=LE();if(r){var n="log";r[t]&&(n=t),me(r[n])&&r[n](e)}}var Lo=function(){function t(e,r,n,i){n===void 0&&(n=!1);var o=this;o[Uu]=e,o[Wi]=(n?t2:e2)+e;var a=qe;Qi()&&(a=rn().stringify(i));var s=(r?" message:"+_D(r):qe)+(i?" props:"+_D(a):qe);o[Wi]+=s}return t.dataType="MessageData",t}();function cr(t,e){return(t||{})[Dt]||new Ku(e)}var Ku=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,o,a,s,c;Ye(t,this,function(u){c=p(e||{}),u.consoleLoggingLevel=function(){return i},u[wo]=function(g,E,_,y,x){x===void 0&&(x=!1);var w=new Lo(E,_,x,y);if(s)throw te(w);var R=i2[g]||ED;if(rt(w[Wi]))h("throw"+(g===1?"Critical":"Warning"),w);else{if(x){var j=+w[Uu];!n[j]&&i>=g&&(u[R](w[Wi]),n[j]=!0)}else i>=g&&u[R](w[Wi]);l(g,w)}},u.debugToConsole=function(g){XE("debug",g),h("warning",g)},u[Ru]=function(g){XE("warn",g),h("warning",g)},u.errorToConsole=function(g){XE("error",g),h("error",g)},u.resetInternalMessageCount=function(){r=0,n={}},u[hE]=l,u[Er]=function(g){c&&c.rm(),c=null};function l(g,E){if(!m()){var _=!0,y=n2+E[Uu];if(n[y]?_=!1:n[y]=!0,_&&(g<=o&&(u.queue[$e](E),r++,h(g===1?"error":"warn",E)),r===a)){var x="Internal events throttle limit per PageView reached for this app.",w=new Lo(23,x,!1);u.queue[$e](w),g===1?u.errorToConsole(x):u[Ru](x)}}}function p(g){return at(on(g,r2,u).cfg,function(E){var _=E.cfg;i=_[vm],o=_.loggingLevelTelemetry,a=_.maxMessageLimit,s=_.enableDebug})}function m(){return r>=a}function h(g,E){var _=KE(e||{});_&&_[yr]&&_[yr](g,E)}})}return t.__ieDyn=1,t}();function QE(t){return t||new Ku}function z(t,e,r,n,i,o){o===void 0&&(o=!1),QE(t)[wo](e,r,n,i,o)}function Gr(t,e){QE(t)[Ru](e)}function JE(t,e,r){QE(t)[hE](e,r)}var ZE,lc,yD="toGMTString",bD="toUTCString",iy="cookie",ey="expires",CD="isCookieUseDisabled",ny="disableCookiesUsage",Va="_ckMgr",qm=null,ty=null,SD=null,Zi,TD={},Wm={},o2=(ZE={cookieCfg:sr((lc={},lc[Pm]={fb:"cookieDomain",dfVal:li},lc.path={fb:"cookiePath",dfVal:li},lc.enabled=jr,lc.ignoreCookies=jr,lc.blockedCookies=jr,lc)),cookieDomain:jr,cookiePath:jr},ZE[ny]=jr,ZE);function oy(){!Zi&&(Zi=bN(function(){return Ot()}))}function a2(t,e){var r=dc[Va]||Wm[Va];return r||(r=dc[Va]=dc(t,e),Wm[Va]=r),r}function $m(t){return t?t.isEnabled():!0}function OD(t,e){return e&&t&&Oe(t.ignoreCookies)?xt(t.ignoreCookies,e)!==-1:!1}function s2(t,e){return e&&t&&Oe(t.blockedCookies)&&xt(t.blockedCookies,e)!==-1?!0:OD(t,e)}function xD(t,e){var r=e[Pa];if(Y(r)){var n=void 0;rt(t[CD])||(n=!t[CD]),rt(t[ny])||(n=!t[ny]),r=n}return r}function fc(t,e){var r;if(t)r=t.getCookieMgr();else if(e){var n=e.cookieCfg;n&&n[Va]?r=n[Va]:r=dc(e)}return r||(r=a2(e,(t||{})[Dt])),r}function dc(t,e){var r,n,i,o,a,s,c,u,l;t=on(t||Wm,null,e).cfg,a=at(t,function(m){m[Ii](m.cfg,o2),n=m.ref(m.cfg,"cookieCfg"),i=n[wm]||"/",o=n[Pm],s=xD(t,n)!==!1,c=n.getCookie||c2,u=n.setCookie||ID,l=n.delCookie||ID},e);var p=(r={isEnabled:function(){var m=xD(t,n)!==!1&&s&&ry(e),h=Wm[Va];return m&&h&&p!==h&&(m=$m(h)),m},setEnabled:function(m){s=m!==!1,n[Pa]=m},set:function(m,h,g,E,_){var y=!1;if($m(p)&&!s2(n,m)){var x={},w=Nt(h||qe),R=Lt(w,";");if(R!==-1&&(w=Nt(zd(h,R)),x=PD(Ur(h,R+1))),vt(x,Pm,E||o,Ta,rt),!Y(g)){var j=qu();if(rt(x[ey])){var Q=mn(),A=Q+g*1e3;if(A>0){var D=new Date;D.setTime(A),vt(x,ey,ND(D,j?yD:bD)||ND(D,j?yD:bD)||qe,Ta)}}j||vt(x,"max-age",qe+g,null,rt)}var q=Ln();q&&q[_m]==="https:"&&(vt(x,"secure",null,null,rt),ty===null&&(ty=!wD((kn()||{})[ef])),ty&&vt(x,"SameSite","None",null,rt)),vt(x,wm,_||i,null,rt),u(m,DD(w,x)),y=!0}return y},get:function(m){var h=qe;return $m(p)&&!OD(n,m)&&(h=c(m)),h},del:function(m,h){var g=!1;return $m(p)&&(g=p.purge(m,h)),g},purge:function(m,h){var g,E=!1;if(ry(e)){var _=(g={},g[wm]=h||"/",g[ey]="Thu, 01 Jan 1970 00:00:01 GMT",g);qu()||(_["max-age"]="0"),l(m,DD(qe,_)),E=!0}return E}},r[Er]=function(m){a&&a.rm(),a=null},r);return p[Va]=p,p}function ry(t){if(qm===null){qm=!1,!Zi&&oy();try{var e=Zi.v||{};qm=e[iy]!==void 0}catch(r){z(t,2,68,"Cannot access document.cookie - "+Qe(r),{exception:te(r)})}}return qm}function PD(t){var e={};if(t&&t[pe]){var r=Nt(t)[wi](";");K(r,function(n){if(n=Nt(n||qe),n){var i=Lt(n,"=");i===-1?e[n]=null:e[Nt(zd(n,i))]=Nt(Ur(n,i+1))}})}return e}function ND(t,e){return me(t[e])?t[e]():null}function DD(t,e){var r=t||qe;return Ie(e,function(n,i){r+="; "+n+(Y(i)?qe:"="+i)}),r}function c2(t){var e=qe;if(!Zi&&oy(),Zi.v){var r=Zi.v[iy]||qe;SD!==r&&(TD=PD(r),SD=r),e=Nt(TD[t]||qe)}return e}function ID(t,e){!Zi&&oy(),Zi.v&&(Zi.v[iy]=t+"="+e)}function wD(t){return he(t)?!!(vn(t,"CPU iPhone OS 12")||vn(t,"iPad; CPU OS 12")||vn(t,"Macintosh; Intel Mac OS X 10_14")&&vn(t,"Version/")&&vn(t,"Safari")||vn(t,"Macintosh; Intel Mac OS X 10_14")&&Wd(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||vn(t,"Chrome/5")||vn(t,"Chrome/6")||vn(t,"UnrealEngine")&&!vn(t,"Chrome")||vn(t,"UCBrowser/12")||vn(t,"UCBrowser/11")):!1}var u2={perfEvtsSendAll:!1};function l2(t){t.h=null;var e=t.cb;t.cb=[],K(e,function(r){tn(r.fn,[r.arg])})}function Ba(t,e,r,n){K(t,function(i){i&&i[e]&&(r?(r.cb[$e]({fn:n,arg:i}),r.h=r.h||Wt(l2,0,r)):tn(n,[i]))})}var MD=function(){function t(e){this.listeners=[];var r,n,i=[],o={h:null,cb:[]},a=on(e,u2);n=a[Oi](function(s){r=!!s.cfg.perfEvtsSendAll}),Ye(t,this,function(s){Be(s,"listeners",{g:function(){return i}}),s[ku]=function(c){i[$e](c)},s[Au]=function(c){for(var u=xt(i,c);u>-1;)i[ui](u,1),u=xt(i,c)},s[Bu]=function(c){Ba(i,Bu,o,function(u){u[Bu](c)})},s[ka]=function(c,u){Ba(i,ka,o,function(l){l[ka](c,u)})},s[ju]=function(c,u){Ba(i,ju,u?o:null,function(l){l[ju](c,u)})},s[Xi]=function(c){c&&(r||!c[tf]())&&Ba(i,Xi,null,function(u){c[Pi]?Wt(function(){return u[Xi](c)},0):u[Xi](c)})},s[Dm]=function(c){c&&c[pe]&&Ba(i,Dm,o,function(u){u[Dm](c)})},s[Im]=function(c){c&&c[Ra]&&Ba(i,Im,o,function(u){u[Im](c)})},s[Om]=function(c,u){if(c>0){var l=u||0;Ba(i,Om,o,function(p){p[Om](c,l)})}},s[Er]=function(c){var u=function(){n&&n.rm(),n=null,i=[],o.h&&o.h[Mo](),o.h=null,o.cb=[]},l;if(Ba(i,"unload",null,function(p){var m=p[Er](c);m&&(l||(l=[]),l[$e](m))}),l)return br(function(p){return ar(qN(l),function(){u(),p()})});u()}})}return t.__ieDyn=1,t}();var Xu="ctx",sy="ParentContextKey",Ef="ChildrenContextKey",d2=null,yf=function(){function t(e,r,n){var i=this;if(i.start=mn(),i[Fn]=e,i[Pi]=n,i[tf]=function(){return!1},me(r)){var o;Be(i,"payload",{g:function(){return!o&&me(r)&&(o=r(),r=null),o}})}i[ec]=function(a){return a?a===t[sy]||a===t[Ef]?i[a]:(i[Xu]||{})[a]:null},i[Ri]=function(a,s){if(a)if(a===t[sy])i[a]||(i[tf]=function(){return!0}),i[a]=s;else if(a===t[Ef])i[a]=s;else{var c=i[Xu]=i[Xu]||{};c[a]=s}},i[bm]=function(){var a=0,s=i[ec](t[Ef]);if(Oe(s))for(var c=0;c<s[pe];c++){var u=s[c];u&&(a+=u[Oa])}i[Oa]=mn()-i.start,i.exTime=i[Oa]-a,i[bm]=function(){}}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}();var cy=function(){function t(e){this.ctx={},Ye(t,this,function(r){r.create=function(n,i,o){return new yf(n,i,o)},r.fire=function(n){n&&(n[bm](),e&&me(e[Xi])&&e[Xi](n))},r[Ri]=function(n,i){if(n){var o=r[Xu]=r[Xu]||{};o[n]=i}},r[ec]=function(n){return(r[Xu]||{})[n]}})}return t.__ieDyn=1,t}();var ay="CoreUtils.doPerf";function ja(t,e,r,n,i){if(t){var o=t;if(o[Gu]&&(o=o[Gu]()),o){var a=void 0,s=o[ec](ay);try{if(a=o.create(e(),n,i),a){if(s&&a[Ri]&&(a[Ri](yf[sy],s),s[ec]&&s[Ri])){var c=s[ec](yf[Ef]);c||(c=[],s[Ri](yf[Ef],c)),c[$e](a)}return o[Ri](ay,a),r(a)}}catch(u){a&&a[Ri]&&a[Ri]("exception",u)}finally{a&&o.fire(a),o[Ri](ay,s)}}}return r()}function uy(){return d2}function Hr(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=qe,r,n=0;n<4;n++)r=cc(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var i=t[8+(cc()&3)|0];return xi(e,0,8)+xi(e,9,4)+"4"+xi(e,13,3)+i+xi(e,16,3)+xi(e,19,12)}var ly="00",f2="ff",AD="00000000000000000000000000000000",kD="0000000000000000";function bf(t,e,r){return t&&t[pe]===e&&t!==r?!!t.match(/^[\da-f]*$/i):!1}function RD(t,e,r){return bf(t,e)?t:r}function p2(t){(isNaN(t)||t<0||t>255)&&(t=1);for(var e=t.toString(16);e[pe]<2;)e="0"+e;return e}function Cf(t,e,r,n){var i;return i={},i[Lu]=bf(n,2,f2)?n:ly,i[nf]=pc(t)?t:Hr(),i[rf]=hc(e)?e:zd(Hr(),16),i.traceFlags=r>=0&&r<=255?r:1,i}function pc(t){return bf(t,32,AD)}function hc(t){return bf(t,16,kD)}function Sf(t){if(t){var e=p2(t[of]);bf(e,2)||(e="01");var r=t[Lu]||ly;return r!=="00"&&r!=="ff"&&(r=ly),"".concat(r.toLowerCase(),"-").concat(RD(t.traceId,32,AD).toLowerCase(),"-").concat(RD(t.spanId,16,kD).toLowerCase(),"-").concat(e.toLowerCase())}return""}function Km(t){var e=t.getElementsByTagName("script"),r=[];return K(e,function(n){var i=n[Sm]("src");if(i){var o=n[Sm]("crossorigin"),a=n.hasAttribute("async")===!0,s=n.hasAttribute("defer")===!0,c=n[Sm]("referrerpolicy"),u={url:i};o&&(u.crossOrigin=o),a&&(u.async=a),s&&(u.defer=s),c&&(u.referrerPolicy=c),r[$e](u)}}),r}var h2=Fm("plugin");function Uo(t){return h2.get(t,"state",{},!0)}function dy(t,e){for(var r=[],n=null,i=t[Br](),o;i;){var a=i[Ia]();if(a){n&&n[Ma]&&a[Cr]&&n[Ma](a),o=Uo(a);var s=!!o[_r];a[_r]&&(s=a[_r]()),s||r[$e](a),n=a,i=i[Br]()}}K(r,function(c){var u=t[Ut]();c[Ro](t.getCfg(),u,e,t[Br]()),o=Uo(c),!c[Ut]&&!o[Ut]&&(o[Ut]=u),o[_r]=!0,delete o[Vr]})}function Xm(t){return t.sort(function(e,r){var n=0;if(r){var i=r[Cr];e[Cr]?n=i?e[rc]-r[rc]:1:i&&(n=-1)}else n=e?1:-1;return n})}function FD(t){var e={};return{getName:function(){return e[Fn]},setName:function(r){t&&t.setName(r),e[Fn]=r},getTraceId:function(){return e[nf]},setTraceId:function(r){t&&t.setTraceId(r),pc(r)&&(e[nf]=r)},getSpanId:function(){return e[rf]},setSpanId:function(r){t&&t.setSpanId(r),hc(r)&&(e[rf]=r)},getTraceFlags:function(){return e[of]},setTraceFlags:function(r){t&&t.setTraceFlags(r),e[of]=r}}}var m2="TelemetryPluginChain",LD="_hasRun",UD="_getTelCtx",YD=0;function g2(t,e,r){for(;t;){if(t[Ia]()===r)return t;t=t[Br]()}return Ga([r],e.config||{},e)}function fy(t,e,r,n){var i=null,o=[];e||(e=on({},null,r[Dt])),n!==null&&(i=n?g2(t,r,n):t);var a={_next:c,ctx:{core:function(){return r},diagLog:function(){return cr(r,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:l,getConfig:p,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(h){i=h},iterate:m,onComplete:s}};function s(h,g){for(var E=[],_=2;_<arguments.length;_++)E[_-2]=arguments[_];h&&o[$e]({func:h,self:rt(g)?a.ctx:g,args:E})}function c(){var h=i;if(i=h?h[Br]():null,!h){var g=o;g&&g[pe]>0&&(K(g,function(E){try{E.func.call(E.self,E.args)}catch(_){z(r[Dt],2,73,"Unexpected Exception during onComplete - "+te(_))}}),o=[])}return h}function u(h,g){var E=null,_=e.cfg;if(_&&h){var y=_[Ao];!y&&g&&(y={}),_[Ao]=y,y=e.ref(_,Ao),y&&(E=y[h],!E&&g&&(E={}),y[h]=E,E=e.ref(y,h))}return E}function l(h,g){var E=u(h,!0);return g&&Ie(g,function(_,y){if(Y(E[_])){var x=e.cfg[_];(x||!Y(x))&&(E[_]=x)}hf(e,E,_,y)}),e[Ii](E,g)}function p(h,g,E){E===void 0&&(E=!1);var _,y=u(h,!1),x=e.cfg;return y&&(y[g]||!Y(y[g]))?_=y[g]:(x[g]||!Y(x[g]))&&(_=x[g]),_||!Y(_)?_:E}function m(h){for(var g;g=a._next();){var E=g[Ia]();E&&h(E)}}return a}function an(t,e,r,n){var i=on(e),o=fy(t,i,r,n),a=o.ctx;function s(u){var l=o._next();return l&&l[Cr](u,a),!l}function c(u,l){return u===void 0&&(u=null),Oe(u)&&(u=Ga(u,i.cfg,r,l)),an(u||a[Br](),i.cfg,r,l)}return a[gn]=s,a[$i]=c,a}function Qu(t,e,r){var n=on(e.config),i=fy(t,n,e,r),o=i.ctx;function a(c){var u=i._next();return u&&u[Er](o,c),!u}function s(c,u){return c===void 0&&(c=null),Oe(c)&&(c=Ga(c,n.cfg,e,u)),Qu(c||o[Br](),e,u)}return o[gn]=a,o[$i]=s,o}function Tf(t,e,r){var n=on(e.config),i=fy(t,n,e,r),o=i.ctx;function a(c){return o.iterate(function(u){me(u[Js])&&u[Js](o,c)})}function s(c,u){return c===void 0&&(c=null),Oe(c)&&(c=Ga(c,n.cfg,e,u)),Tf(c||o[Br](),e,u)}return o[gn]=a,o[$i]=s,o}function Ga(t,e,r,n){var i=null,o=!n;if(Oe(t)&&t[pe]>0){var a=null;K(t,function(s){if(!o&&n===s&&(o=!0),o&&s&&me(s[Cr])){var c=v2(s,e,r);i||(i=c),a&&a._setNext(c),a=c}})}return n&&!i?Ga([n],e,r):i}function v2(t,e,r){var n=null,i=me(t[Cr]),o=me(t[Ma]),a;t?a=t[qi]+"-"+t[rc]+"-"+YD++:a="Unknown-0-"+YD++;var s={getPlugin:function(){return t},getNext:function(){return n},processTelemetry:l,unload:p,update:m,_id:a,_setNext:function(h){n=h}};function c(){var h;return t&&me(t[UD])&&(h=t[UD]()),h||(h=an(s,e,r)),h}function u(h,g,E,_,y){var x=!1,w=t?t[qi]:m2,R=h[LD];return R||(R=h[LD]={}),h.setNext(n),t&&ja(h[Ut](),function(){return w+":"+E},function(){R[a]=!0;try{var j=n?n._id:qe;j&&(R[j]=!1),x=g(h)}catch(A){var Q=n?R[n._id]:!0;Q&&(x=!0),(!n||!Q)&&z(h[yr](),1,73,"Plugin ["+w+"] failed during "+E+" - "+te(A)+", run flags: "+te(R))}},_,y),x}function l(h,g){g=g||c();function E(_){if(!t||!i)return!1;var y=Uo(t);return y[Vr]||y[sf]?!1:(o&&t[Ma](n),t[Cr](h,_),!0)}u(g,E,"processTelemetry",function(){return{item:h}},!h.sync)||g[gn](h)}function p(h,g){function E(){var _=!1;if(t){var y=Uo(t),x=t[Ut]||y[Ut];t&&(!x||x===h.core())&&!y[Vr]&&(y[Ut]=null,y[Vr]=!0,y[_r]=!1,t[Vr]&&t[Vr](h,g)===!0&&(_=!0))}return _}u(h,E,"unload",function(){},g[Pi])||h[gn](g)}function m(h,g){function E(){var _=!1;if(t){var y=Uo(t),x=t[Ut]||y[Ut];t&&(!x||x===h.core())&&!y[Vr]&&t[Js]&&t[Js](h,g)===!0&&(_=!0)}return _}u(h,E,"update",function(){},!1)||h[gn](g)}return Lr(s)}function Qm(){var t=[];function e(n){n&&t[$e](n)}function r(n,i){K(t,function(o){try{o(n,i)}catch(a){z(n[yr](),2,73,"Unexpected error calling unload handler - "+te(a))}}),t=[]}return{add:e,run:r}}var Jm,Zm;function eg(){var t=[];function e(n){var i=t;t=[],K(i,function(o){try{(o.rm||o.remove).call(o)}catch(a){z(n,2,73,"Unloading:"+te(a))}}),Jm&&i[pe]>Jm&&(Zm?Zm("doUnload",i):z(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}function r(n){n&&(Oo(t,n),Jm&&t[pe]>Jm&&(Zm?Zm("Add",t):z(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return{run:e,add:r}}var py,Ha="getPlugin",_2=(py={},py[Ao]={isVal:li,v:{}},py),zr=function(){function t(){var e=this,r,n,i,o,a;u(),Ye(t,e,function(l){l[Ro]=function(p,m,h,g){c(p,m,g),r=!0},l[Vr]=function(p,m){var h,g=l[Ut];if(!g||p&&g!==p[Ut]())return;var E,_=!1,y=p||Qu(null,g,i&&i[Ha]?i[Ha]():i),x=m||(h={reason:0},h[Pi]=!1,h);function w(){_||(_=!0,o.run(y,m),a.run(y[yr]()),E===!0&&y[gn](x),u())}return!l[wa]||l[wa](y,x,w)!==!0?w():E=!0,E},l[Js]=function(p,m){var h=l[Ut];if(!h||p&&h!==p[Ut]())return;var g,E=!1,_=p||Tf(null,h,i&&i[Ha]?i[Ha]():i),y=m||{reason:0};function x(){E||(E=!0,c(_.getCfg(),_.core(),_[Br]()))}return!l._doUpdate||l._doUpdate(_,y,x)!==!0?x():g=!0,g},oc(l,"_addUnloadCb",function(){return o},"add"),oc(l,"_addHook",function(){return a},"add"),Be(l,"_unloadHooks",{g:function(){return a}})}),e[yr]=function(l){return s(l)[yr]()},e[_r]=function(){return r},e.setInitialized=function(l){r=l},e[Ma]=function(l){i=l},e[gn]=function(l,p){p?p[gn](l):i&&me(i[Cr])&&i[Cr](l,null)},e._getTelCtx=s;function s(l){l===void 0&&(l=null);var p=l;if(!p){var m=n||an(null,{},e[Ut]);i&&i[Ha]?p=m[$i](null,i[Ha]):p=m[$i](null,i)}return p}function c(l,p,m){on(l,_2,cr(p)),!m&&p&&(m=p[gm]()[Br]());var h=i;i&&i[Ha]&&(h=i[Ha]()),e[Ut]=p,n=an(m,l,p,h)}function u(){r=!1,e[Ut]=null,n=null,i=null,a=eg(),o=Qm()}}return t.__ieDyn=1,t}();function E2(t,e,r){var n={id:e,fn:r};Oo(t,n);var i={remove:function(){K(t,function(o,a){if(o.id===n.id)return t[ui](a,1),-1})}};return i}function y2(t,e,r){for(var n=!1,i=t[pe],o=0;o<i;++o){var a=t[o];if(a)try{if(a.fn[ci](null,[e])===!1){n=!0;break}}catch(s){z(r,2,64,"Telemetry initializer failed: "+Qe(s),{exception:te(s)},!0)}}return!n}var VD=function(t){Nn(e,t);function e(){var r=t.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;o(),Ye(e,r,function(a,s){a.addTelemetryInitializer=function(c){return E2(i,n++,c)},a[Cr]=function(c,u){y2(i,c,u?u[yr]():a[yr]())&&a[gn](c,u)},a[wa]=function(){o()}});function o(){n=0,i=[]}return r}return e.__ieDyn=1,e}(zr);var za,HD="Plugins must provide initialize method",b2="_notificationManager",BD="SDK is still unloading...",C2="SDK is not initialized",S2=100,T2=5e4,hy=Fr((za={cookieCfg:{}},za[nc]={rdOnly:!0,ref:!0,v:[]},za[Aa]={rdOnly:!0,ref:!0,v:[]},za[Ao]={ref:!0,v:{}},za[Nm]=jr,za.loggingLevelConsole=0,za.diagnosticLogInterval=jr,za));function x2(t,e){return new cy(e)}function N2(t,e,r){var n,i=[],o=[],a={};return K(r,function(s){(Y(s)||Y(s[Ro]))&&xn(HD);var c=s[rc],u=s[qi];s&&c&&(Y(a[c])?a[c]=u:Gr(t,"Two extensions have same priority #"+c+" - "+a[c]+", "+u)),!c||c<e?i[$e](s):o[$e](s)}),n={},n[Ut]=i,n[Aa]=o,n}function jD(t,e){var r=!1;return K(e,function(n){if(n===t)return r=!0,-1}),r}function my(t,e,r,n){r&&Ie(r,function(i,o){n&&nn(o)&&nn(e[i])&&my(t,e[i],o,n),n&&nn(o)&&nn(e[i])?my(t,e[i],o,n):t.set(e,i,o)})}function GD(t,e){var r=null,n=-1;return K(t,function(i,o){if(i.w===e)return r=i,n=o,-1}),{i:n,l:r}}function D2(t,e){var r=GD(t,e).l;return r||(r={w:e,rm:function(){var n=GD(t,e);n.i!==-1&&t[ui](n.i,1)}},t[$e](r)),r}function I2(t,e,r){K(e,function(n){var i=at(t,n.w,r);delete n.w,n.rm=function(){i.rm()}})}function O2(t,e,r,n){return e.add(t[Oi](function(i){var o=i.cfg.disableDbgExt;o===!0&&n&&(r[Au](n),n=null),r&&!n&&o!==!0&&(n=vD(i.cfg),r[ku](n))})),n}function P2(t){return Be({rm:function(){t.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(t)+">"}})}var gy=function(){function t(){var e,r,n,i,o,a,s,c,u,l,p,m,h,g,E,_,y,x,w,R,j,Q,A,D,q,G,ee,ye,ue,T,I,$,U;Ye(t,this,function(P){C(),P._getDbgPlgTargets=function(){return[A,i]},P[_r]=function(){return r},P.activeStatus=function(){return G},P._setPendingStatus=function(){G=3},P[Ro]=function(B,se,Me,ve){h&&xn(BD),P[_r]()&&xn("Core cannot be initialized more than once"),e=on(B,hy,Me||P[Dt],!1),B=e.cfg,Pn(e[Oi](function(O){var V=O.cfg,X=G===3;if(!X){ye=V.initInMemoMaxSize||S2;var H=V[dE],ne=V.endpointUrl;if(Y(H)){j=null,G=Ni[mm];var Ee="Please provide instrumentation key";r?(z(n,1,100,Ee),be()):xn(Ee);return}var Pe=[];if(Hi(H)?(Pe[$e](H),j=null):j=H,Hi(ne)?(Pe[$e](ne),ee=null):ee=ne,Pe[pe]){ue=!1,G=3;var Ke=li(V.initTimeOut)?V.initTimeOut:T2,ke=$N(Pe);T=Wt(function(){T=null,ue||ge()},Ke),ar(ke,function(ht){try{if(ue)return;if(!ht.rejected){var kt=ht[Qs];if(kt&&kt[pe]){var Qr=kt[0];if(j=Qr&&Qr[Qs],kt[pe]>1){var Or=kt[1];ee=Or&&Or[Qs]}}j&&(B[dE]=j,B.endpointUrl=ee)}ge()}catch{ue||ge()}})}else ge();var nt=O.ref(O.cfg,Ao);Ie(nt,function(ht){O.ref(nt,ht)})}})),o=ve,w=O2(e,x,o&&P[Jd](),w),pr(),P[Dt]=Me;var Ae=B[nc];if(l=[],l[$e].apply(l,pm(pm([],se,!1),Ae,!1)),p=B[Aa],Z(null),(!m||m[pe]===0)&&xn("No "+Aa+" available"),p&&p[pe]>1){var ct=P[Ia]("TeeChannelController");(!ct||!ct.plugin)&&z(n,1,28,"TeeChannel required")}I2(B,Q,n),Q=null,r=!0,G===Ni.ACTIVE&&be()},P.getChannels=function(){var B=[];return m&&K(m,function(se){B[$e](se)}),Lr(B)},P.track=function(B){ja(P[Gu](),function(){return"AppInsightsCore:track"},function(){B===null&&(On(B),xn("Invalid telemetry item")),!B[Fn]&&Y(B[Fn])&&(On(B),xn("telemetry name required")),B[Fu]=B[Fu]||j,B[Oa]=B[Oa]||di(new Date),B.ver=B.ver||"4.0",!h&&P[_r]()&&G===Ni.ACTIVE?F()[gn](B):G!==Ni[mm]&&i[pe]<=ye&&i[$e](B)},function(){return{item:B}},!B.sync)},P[gm]=F,P[Jd]=function(){return o||(o=new MD(e.cfg),P[b2]=o),o},P[ku]=function(B){P.getNotifyMgr()[ku](B)},P[Au]=function(B){o&&o[Au](B)},P.getCookieMgr=function(){return c||(c=dc(e.cfg,P[Dt])),c},P.setCookieMgr=function(B){c!==B&&(Fo(c,!1),c=B)},P[Gu]=function(){return a||s||uy()},P.setPerfMgr=function(B){a=B},P.eventCnt=function(){return i[pe]},P.releaseQueue=function(){if(r&&i[pe]>0){var B=i;i=[],G===2?K(B,function(se){se[Fu]=se[Fu]||j,F()[gn](se)}):z(n,2,20,"core init status is not active")}},P[fE]=function(B){return E=B||null,U=!1,I&&I[Mo](),J(!0)};function ge(){ue=!0,Y(j)?(G=Ni[mm],z(n,1,112,"ikey can't be resolved from promises")):G=Ni.ACTIVE,be()}function be(){r&&(P.releaseQueue(),P[fE]())}function J(B){if((!I||!I[Pa])&&!U){var se=B||n&&n.queue[pe]>0;se&&($||($=!0,Pn(e[Oi](function(Me){var ve=Me.cfg.diagnosticLogInterval;(!ve||!(ve>0))&&(ve=1e4);var Ae=!1;I&&(Ae=I[Pa],I[Mo]()),I=MN(We,ve),I.unref(),I[Pa]=Ae}))),I[Pa]=!0)}return I}P[pE]=function(){U=!0,I&&I[Mo](),We()},Fa(P,function(){return g},["addTelemetryInitializer"]),P[Er]=function(B,se,Me){var ve;B===void 0&&(B=!0),r||xn(C2),h&&xn(BD);var Ae=(ve={reason:50},ve[Pi]=B,ve.flushComplete=!1,ve),ct;B&&!se&&(ct=br(function(X){se=X}));var O=Qu(Fe(),P);O[Zd](function(){x.run(P[Dt]),jm([c,o,n],B,function(){C(),se&&se(Ae)})},P);function V(X){Ae.flushComplete=X,h=!0,y.run(O,Ae),P[pE](),O[gn](Ae)}return We(),Rt(B,V,6,Me)||V(!1),ct},P[Ia]=Te,P.addPlugin=function(B,se,Me,ve){if(!B){ve&&ve(!1),It(HD);return}var Ae=Te(B[qi]);if(Ae&&!se){ve&&ve(!1),It("Plugin ["+B[qi]+"] is already loaded!");return}var ct={reason:16};function O(H){l[$e](B),ct.added=[B],Z(ct),ve&&ve(!0)}if(Ae){var V=[Ae.plugin],X={reason:2,isAsync:!!Me};et(V,X,function(H){H?(ct.removed=V,ct.reason|=32,O(!0)):ve&&ve(!1)})}else O(!1)},P.updateCfg=function(B,se){se===void 0&&(se=!0);var Me;if(P[_r]()){Me={reason:1,cfg:e.cfg,oldCfg:$0({},e.cfg),newConfig:$0({},B),merge:se},B=Me.newConfig;var ve=e.cfg;B[nc]=ve[nc],B[Aa]=ve[Aa]}e._block(function(Ae){var ct=Ae.cfg;my(Ae,ct,B,se),se||Ie(ct,function(O){Ti(B,O)||Ae.set(ct,O,jr)}),Ae[Ii](ct,hy)},!0),e[Xs](),Me&&yi(Me)},P.evtNamespace=function(){return _},P.flush=Rt,P.getTraceCtx=function(B){return R||(R=FD()),R},P.setTraceCtx=function(B){R=B||null},P.addUnloadHook=Pn,oc(P,"addUnloadCb",function(){return y},"add"),P.onCfgChange=function(B){var se;return r?se=at(e.cfg,B,P[Dt]):se=D2(Q,B),P2(se)},P.getWParam=function(){return qd()||e.cfg.enableWParam?0:-1};function S(){var B={};D=[];var se=function(Me){Me&&K(Me,function(ve){if(ve[qi]&&ve[Lu]&&!B[ve.identifier]){var Ae=ve[qi]+"="+ve[Lu];D[$e](Ae),B[ve.identifier]=ve}})};se(m),p&&K(p,function(Me){se(Me)}),se(l)}function C(){r=!1,e=on({},hy,P[Dt]),e.cfg[vm]=1,Be(P,"config",{g:function(){return e.cfg},s:function(se){P.updateCfg(se,!1)}}),Be(P,"pluginVersionStringArr",{g:function(){return D||S(),D}}),Be(P,"pluginVersionString",{g:function(){return q||(D||S(),q=D.join(";")),q||qe}}),Be(P,"logger",{g:function(){return n||(n=new Ku(e.cfg),e[Dt]=n),n},s:function(se){e[Dt]=se,n!==se&&(Fo(n,!1),n=se)}}),P[Dt]=new Ku(e.cfg),A=[];var B=P.config[nc]||[];B.splice(0,B[pe]),Oo(B,A),g=new VD,i=[],Fo(o,!1),o=null,a=null,s=null,Fo(c,!1),c=null,u=null,l=[],p=null,m=null,h=!1,E=null,_=Gt("AIBaseCore",!0),y=Qm(),R=null,j=null,x=eg(),Q=[],q=null,D=null,U=!1,I=null,$=!1,G=0,ee=null,ye=null,ue=!1,T=null}function F(){var B=an(Fe(),e.cfg,P);return B[Zd](J),B}function Z(B){var se=N2(P[Dt],gD,l);u=null,q=null,D=null,m=(p||[])[0]||[],m=Xm(Oo(m,se[Aa]));var Me=Oo(Xm(se[Ut]),m);A=Lr(Me);var ve=P.config[nc]||[];ve.splice(0,ve[pe]),Oo(ve,A);var Ae=F();m&&m[pe]>0&&dy(Ae[$i](m),Me),dy(Ae,Me),B&&yi(B)}function Te(B){var se=null,Me=null,ve=[];return K(A,function(Ae){if(Ae[qi]===B&&Ae!==g)return Me=Ae,-1;Ae.getChannel&&ve[$e](Ae)}),!Me&&ve[pe]>0&&K(ve,function(Ae){if(Me=Ae.getChannel(B),!Me)return-1}),Me&&(se={plugin:Me,setEnabled:function(Ae){Uo(Me)[sf]=!Ae},isEnabled:function(){var Ae=Uo(Me);return!Ae[Vr]&&!Ae[sf]},remove:function(Ae,ct){var O;Ae===void 0&&(Ae=!0);var V=[Me],X=(O={reason:1},O[Pi]=Ae,O);et(V,X,function(H){H&&Z({reason:32,removed:V}),ct&&ct(H)})}}),se}function Fe(){if(!u){var B=(A||[]).slice();xt(B,g)===-1&&B[$e](g),u=Ga(Xm(B),e.cfg,P)}return u}function et(B,se,Me){if(B&&B[pe]>0){var ve=Ga(B,e.cfg,P),Ae=Qu(ve,P);Ae[Zd](function(){var ct=!1,O=[];K(l,function(X,H){jD(X,B)?ct=!0:O[$e](X)}),l=O,q=null,D=null;var V=[];p&&(K(p,function(X,H){var ne=[];K(X,function(Ee){jD(Ee,B)?ct=!0:ne[$e](Ee)}),V[$e](ne)}),p=V),Me&&Me(ct),J()}),Ae[gn](se)}else Me(!1)}function We(){if(n&&n.queue){var B=n.queue.slice(0);n.queue[pe]=0,K(B,function(se){var Me,ve=(Me={},Me[Fn]=E||"InternalMessageId: "+se[Uu],Me[Fu]=j,Me[Oa]=di(new Date),Me.baseType=Lo.dataType,Me.baseData={message:se[Wi]},Me);P.track(ve)})}}function Rt(B,se,Me,ve){var Ae=1,ct=!1,O=null;ve=ve||5e3;function V(){Ae--,ct&&Ae===0&&(O&&O[Mo](),O=null,se&&se(ct),se=null)}if(m&&m[pe]>0){var X=F()[$i](m);X.iterate(function(H){if(H.flush){Ae++;var ne=!1;H.flush(B,function(){ne=!0,V()},Me)||ne||(B&&O==null?O=Wt(function(){O=null,V()},ve):V())}})}return ct=!0,V(),!0}function pr(){var B;Pn(e[Oi](function(se){var Me=se.cfg.enablePerfMgr;if(Me){var ve=se.cfg[Nm];B!==ve&&(ve||(ve=x2),_n(se.cfg,Nm,ve),B=ve,s=null),!a&&!s&&me(ve)&&(s=ve(P,P[Jd]()))}else s=null,B=null}))}function yi(B){var se=Tf(Fe(),P);se[Zd](J),(!P._updateHook||P._updateHook(se,B)!==!0)&&se[gn](B)}function It(B){var se=P[Dt];se?(z(se,2,73,B),J()):xn(B)}function On(B){var se=P[Jd]();se&&se[ka]([B],2)}function Pn(B){x.add(B)}})}return t.__ieDyn=1,t}();function xf(t,e){try{if(t&&t!==""){var r=rn().parse(t);if(r&&r[vE]&&r[vE]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[pe])return r}}catch(n){z(e,1,43,"Cannot parse the response. "+(n[Fn]||te(n)),{response:t})}return null}var eo="",w2="NoResponseBody",zD="&"+w2+"=true",vy="POST",_y=function(){function t(){var e=0,r,n,i,o,a,s,c,u,l,p,m,h,g,E;Ye(t,this,function(_,y){var x=!0;ue(),_[Ro]=function(T,I){i=I,n&&z(i,1,28,"Sender is already initialized"),_.SetConfig(T),n=!0},_._getDbgPlgTargets=function(){return[n,o,s,r]},_.SetConfig=function(T){try{if(a=T.senderOnCompleteCallBack||{},s=!!T.disableCredentials,c=T.fetchCredentials,o=!!T.isOneDs,r=!!T.enableSendPromise,l=!!T.disableXhr,p=!!T.disableBeacon,m=!!T.disableBeaconSync,E=T.timeWrapper,g=!!T.addNoResponse,h=!!T.disableFetchKeepAlive,u={sendPOST:G},o||(x=!1),s){var I=Ln();I&&I.protocol&&I.protocol[Di]()==="file:"&&(x=!1)}return!0}catch{}return!1},_.getSyncFetchPayload=function(){return e},_.getSenderInst=function(T,I){return T&&T[pe]?Q(T,I):null},_.getFallbackInst=function(){return u},_[wa]=function(T,I){ue()};function w(T,I){A(I,200,{},T)}function R(T,I){z(i,2,26,"Failed to send telemetry.",{message:T}),A(I,400,{})}function j(T){R("No endpoint url is provided for the batch",T)}function Q(T,I){for(var $,U=0,P=null,ge=0;P==null&&ge<T[pe];)U=T[ge],!l&&U===1?BE()?P=ye:La()&&(P=G):U===2&&sc(I)&&(!I||!h)?P=ee:U===3&&ko()&&(I?!m:!p)&&(P=q),ge++;return P?($={_transport:U,_isSync:I},$[_E]=P,$):null}function A(T,I,$,U){try{T&&T(I,$,U)}catch{}}function D(T,I){var $=kn(),U=T[Yu];if(!U)return j(I),!0;U=T[Yu]+(g?zD:eo);var P=T[Ra],ge=o?P:new Blob([P],{type:"text/plain;charset=UTF-8"}),be=$.sendBeacon(U,ge);return be}function q(T,I,$){var U=T[Ra];try{if(U)if(D(T,I))w(eo,I);else{var P=a&&a.beaconOnRetry;P&&me(P)?P(T,I,D):(u&&u[_E](T,I,!0),z(i,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(ge){o&&Gr(i,"Failed to send telemetry using sendBeacon API. Ex:"+te(ge)),A(I,o?0:400,{},eo)}}function G(T,I,$){var U,P,ge,be=T[Cm]||{};!$&&r&&(U=br(function(F,Z){P=F,ge=Z})),o&&$&&T.disableXhrSync&&($=!1);var J=T[Yu];if(!J){j(I),P&&P(!1);return}var S=wE(vy,J,x,!0,$,T[tc]);o||S[EE]("Content-type","application/json"),K(qn(be),function(F){S[EE](F,be[F])}),S.onreadystatechange=function(){o||(C(S),S.readyState===4&&P&&P(!0))},S.onload=function(){o&&C(S)};function C(F){var Z=a&&a.xhrOnComplete,Te=Z&&me(Z);if(Te)Z(F,I,T);else{var Fe=Hu(F);A(I,F[Zs],lf(F,o),Fe)}}return S.onerror=function(F){A(I,o?S[Zs]:400,lf(S,o),o?eo:ac(S)),ge&&ge(F)},S.ontimeout=function(){A(I,o?S[Zs]:500,lf(S,o),o?eo:ac(S)),P&&P(!1)},S.send(T[Ra]),U}function ee(T,I,$){var U,P=T[Yu],ge=T[Ra],be=o?ge:new Blob([ge],{type:"application/json"}),J,S,C,F=new Headers,Z=ge[pe],Te=!1,Fe=!1,et=T[Cm]||{},We=(U={method:vy,body:be},U[qE]=!0,U);T.headers&&qn(T.headers)[pe]>0&&(K(qn(et),function(It){F.append(It,et[It])}),We[Cm]=F),c?We.credentials=c:x&&o&&(We.credentials="include"),$&&(We.keepalive=!0,e+=Z,o?T._sendReason===2&&(Te=!0,g&&(P+=zD)):Te=!0);var Rt=new Request(P,We);try{Rt[qE]=!0}catch{}if(!$&&r&&(J=br(function(It,On){S=It,C=On})),!P){j(I),S&&S(!1);return}function pr(It){A(I,o?0:400,{},o?eo:It)}function yi(It,On,Pn){var B=It[Zs],se=a.fetchOnComplete;se&&me(se)?se(It,I,Pn||eo,On):A(I,B,{},Pn||eo)}try{ar(fetch(o?P:Rt,o?We:null),function(It){if($&&(e-=Z,Z=0),!Fe)if(Fe=!0,It.rejected)pr(It.reason&&It.reason[Wi]),C&&C(It.reason);else{var On=It[Qs];try{!o&&!On.ok?(pr(On.statusText),S&&S(!1)):o&&!On.body?(yi(On,null,eo),S&&S(!0)):ar(On.text(),function(Pn){yi(On,T,Pn[Qs]),S&&S(!0)})}catch(Pn){pr(te(Pn)),C&&C(Pn)}}})}catch(It){Fe||(pr(te(It)),C&&C(It))}return Te&&!Fe&&(Fe=!0,A(I,200,{}),S&&S(!0)),o&&!Fe&&T[tc]>0&&E&&E.set(function(){Fe||(Fe=!0,A(I,500,{}),S&&S(!0))},T[tc]),J}function ye(T,I,$){var U=$t(),P=new XDomainRequest,ge=T[Ra];P.onload=function(){var F=Hu(P),Z=a&&a.xdrOnComplete;Z&&me(Z)?Z(P,I,T):A(I,200,{},F)},P.onerror=function(){A(I,400,{},o?eo:uf(P))},P.ontimeout=function(){A(I,500,{})},P.onprogress=function(){};var be=U&&U.location&&U.location[_m]||"",J=T[Yu];if(!J){j(I);return}if(!o&&J.lastIndexOf(be,0)!==0){var S="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";z(i,2,40,". "+S),R(S,I);return}var C=o?J:J[Mi](/^(https?:)/,"");P.open(vy,C),T[tc]&&(P[tc]=T[tc]),P.send(ge),o&&$?E&&E.set(function(){P.send(ge)},0):P.send(ge)}function ue(){e=0,n=!1,r=!1,i=null,o=null,a=null,s=null,c=null,u=null,l=!1,p=!1,m=!1,h=!1,g=!1,E=null}})}return t.__ieDyn=1,t}();var JD="on",qD="attachEvent",$D="addEventListener",WD="detachEvent",KD="removeEventListener",Ey="events",yy="visibilitychange",ig="pagehide";var ZD="unload",eI="beforeunload",tI=Gt("aiEvtPageHide"),Z5=Gt("aiEvtPageShow"),M2=/\.[\.]+/g,R2=/[\.]+$/,A2=1,tg=Fm("events"),k2=/^([^.]*)(?:\.(.+)|)/;function XD(t){return t&&t[Mi]?t[Mi](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,qe):t}function by(t,e){var r;if(e){var n=qe;Oe(e)?(n=qe,K(e,function(o){o=XD(o),o&&(o[0]!=="."&&(o="."+o),n+=o)})):n=XD(e),n&&(n[0]!=="."&&(n="."+n),t=(t||qe)+n)}var i=k2.exec(t||qe)||[];return r={},r[Ki]=i[1],r.ns=(i[2]||qe).replace(M2,".").replace(R2,qe)[wi](".").sort().join("."),r}function nI(t,e,r){r===void 0&&(r=!0);var n=tg.get(t,Ey,{},r),i=n[e];return i||(i=n[e]=[]),i}function rI(t,e,r,n){t&&e&&e[Ki]&&(t[KD]?t[KD](e[Ki],r,n):t[WD]&&t[WD](JD+e[Ki],r))}function F2(t,e,r,n){var i=!1;return t&&e&&e[Ki]&&r&&(t[$D]?(t[$D](e[Ki],r,n),i=!0):t[qD]&&(t[qD](JD+e[Ki],r),i=!0)),i}function QD(t,e,r,n){for(var i=e[pe];i--;){var o=e[i];o&&(!r.ns||r.ns===o.evtName.ns)&&(!n||n(o))&&(rI(t,o.evtName,o[ym],o.capture),e[ui](i,1))}}function L2(t,e,r){if(e[Ki])QD(t,nI(t,e[Ki]),e,r);else{var n=tg.get(t,Ey,{});Ie(n,function(i,o){QD(t,o,e,r)}),qn(n)[pe]===0&&tg.kill(t,Ey)}}function ur(t,e){var r;return e?(Oe(e)?r=[t].concat(e):r=[t,e],r=by("xx",r).ns[wi](".")):r=t,r}function Sr(t,e,r,n,i){var o;i===void 0&&(i=!1);var a=!1;if(t)try{var s=by(e,n);if(a=F2(t,s,r,i),a&&tg.accept(t)){var c=(o={guid:A2++,evtName:s},o[ym]=r,o.capture=i,o);nI(t,s.type)[$e](c)}}catch{}return a}function to(t,e,r,n,i){if(i===void 0&&(i=!1),t)try{var o=by(e,n),a=!1;L2(t,o,function(s){return o.ns&&!r||s[ym]===r?(a=!0,!0):!1}),a||rI(t,o,r,i)}catch{}}function iI(t,e,r){var n=!1,i=$t();i&&(n=Sr(i,t,e,r),n=Sr(i.body,t,e,r)||n);var o=Ot();return o&&(n=Sr(o,t,e,r)||n),n}function oI(t,e,r){var n=$t();n&&(to(n,t,e,r),to(n.body,t,e,r));var i=Ot();i&&to(i,t,e,r)}function ng(t,e,r,n){var i=!1;return e&&t&&t[pe]>0&&K(t,function(o){o&&(!r||xt(r,o)===-1)&&(i=iI(o,e,n)||i)}),i}function aI(t,e,r,n){var i=!1;return e&&t&&Oe(t)&&(i=ng(t,e,r,n),!i&&r&&r[pe]>0&&(i=ng(t,e,null,n))),i}function rg(t,e,r){t&&Oe(t)&&K(t,function(n){n&&oI(n,e,r)})}function Cy(t,e,r){return aI([eI,ZD,ig],t,e,r)}function Sy(t,e){rg([eI,ZD,ig],t,e)}function Nf(t,e,r){function n(a){var s=Ot();t&&s&&s.visibilityState==="hidden"&&t(a)}var i=ur(tI,r),o=ng([ig],t,e,i);return(!e||xt(e,yy)===-1)&&(o=ng([yy],n,e,i)||o),!o&&e&&(o=Nf(t,null,r)),o}function Ty(t,e){var r=ur(tI,e);rg([ig],t,r),rg([yy],null,r)}var sI="_aiHooks",cI=["req","rsp","hkErr","fnErr"];function Ny(t,e){if(t)for(var r=0;r<t[pe]&&!e(t[r],r);r++);}function xy(t,e,r,n,i){i>=0&&i<=2&&Ny(t,function(o,a){var s=o.cbks,c=s[cI[i]];if(c){e.ctx=function(){var p=n[a]=n[a]||{};return p};try{c[ci](e.inst,r)}catch(p){var u=e.err;try{var l=s[cI[2]];l&&(e.err=p,l[ci](e.inst,r))}catch{}finally{e.err=u}}}})}function U2(t){return function(){var e,r=this,n=arguments,i=t.h,o=(e={},e[Fn]=t.n,e.inst=r,e.ctx=null,e.set=u,e),a=[],s=c([o],n);o.evt=yt("event");function c(p,m){return Ny(m,function(h){p[$e](h)}),p}function u(p,m){n=c([],n),n[p]=m,s=c([o],n)}xy(i,o,s,a,0);var l=t.f;if(l)try{o.rslt=l[ci](r,n)}catch(p){throw o.err=p,xy(i,o,s,a,3),p}return xy(i,o,s,a,1),o.rslt}}function Dy(t,e,r,n){var i=null;return t&&(Hn(t,e)?i=t:r&&(i=Dy(XN(t),e,n,!1))),i}function Iy(t,e,r){return t?Df(t[$n],e,r,!1):null}function uI(t,e,r,n){var i=r&&r[sI];if(!i){i={i:0,n:e,f:r,h:[]};var o=U2(i);o[sI]=i,t[e]=o}var a={id:i.i,cbks:n,rm:function(){var s=this.id;Ny(i.h,function(c,u){if(c.id===s)return i.h[ui](u,1),1})}};return i.i++,i.h[$e](a),a}function Df(t,e,r,n,i){if(n===void 0&&(n=!0),t&&e&&r){var o=Dy(t,e,n,i);if(o){var a=o[e];if(typeof a===wu)return uI(o,e,a,r)}}return null}function Ju(t,e,r,n,i){if(t&&e&&r){var o=Dy(t,e,n,i)||t;if(o)return uI(o,e,o[e],r)}return null}var Zu="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",If="sampleRate",Of="ProcessLegacy",og="http.method",mc="https://dc.services.visualstudio.com",no="/v2/track",sn="not_specified",ag="iKey";var pt=lE({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});var Yo="split",Ve="length",Vo="toLowerCase",qa="ingestionendpoint",Bo="toString",$a="push",sg="removeItem",cn="name",Ai="message",Wa="count",cg="preTriggerDate",ug="disabled",lg="interval",Oy="daysOfMonth",dg="date",fg="getUTCDate",gc="stringify",Pf="pathname",Py="correlationHeaderExcludePatterns";var vc="exceptions",fi="parsedStack",Un="properties",Wn="measurements",_c="sizeInBytes",ro="typeName",Ec="severityLevel",pg="problemGroup",hg="isManual",wy="CreateFromInterface",yc="assembly",Ka="fileName",wf="hasFullStack",Mf="level",bc="method",el="line",Cc="duration",My="receivedResponse";function Ry(t,e,r){var n=e[Ve],i=lI(t,e);if(i[Ve]!==n){for(var o=0,a=i;r[a]!==void 0;)o++,a=Ur(i,0,147)+dI(o);i=a}return i}function lI(t,e){var r;return e&&(e=Nt(hn(e)),e[Ve]>150&&(r=Ur(e,0,150),z(t,2,57,"name is too long.  It has been truncated to 150 characters.",{name:e},!0))),r||e}function st(t,e,r){r===void 0&&(r=1024);var n;return e&&(r=r||1024,e=Nt(hn(e)),e[Ve]>r&&(n=Ur(e,0,r),z(t,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:e},!0))),n||e}function jo(t,e){return Fy(t,e,2048,66)}function Rf(t,e){var r;return e&&e[Ve]>32768&&(r=Ur(e,0,32768),z(t,2,56,"message is too long, it has been truncated to 32768 characters.",{message:e},!0)),r||e}function Ay(t,e){var r;if(e){var n=""+e;n[Ve]>32768&&(r=Ur(n,0,32768),z(t,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0))}return r||e}function lr(t,e){if(e){var r={};Ie(e,function(n,i){if(zt(i)&&Qi())try{i=rn()[gc](i)}catch(o){z(t,2,49,"custom property is not valid",{exception:o},!0)}i=st(t,i,8192),n=Ry(t,n,r),r[n]=i}),e=r}return e}function dr(t,e){if(e){var r={};Ie(e,function(n,i){n=Ry(t,n,r),r[n]=i}),e=r}return e}function ky(t,e){return e&&Fy(t,e,128,69)[Bo]()}function Fy(t,e,r,n){var i;return e&&(e=Nt(hn(e)),e[Ve]>r&&(i=Ur(e,0,r),z(t,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:e},!0))),i||e}function dI(t){var e="00"+t;return xi(e,e[Ve]-3)}var fI=Ot()||{},pI=0,G2=[null,null,null,null,null];function Af(t){var e=pI,r=G2,n=r[e];return fI.createElement?r[e]||(n=r[e]=fI.createElement("a")):n={host:hI(t,!0)},n.href=t,e++,e>=r[Ve]&&(e=0),pI=e,n}function Ly(t){var e,r=Af(t);return r&&(e=r.href),e}function Uy(t,e){return t?t.toUpperCase()+" "+e:e}function hI(t,e){var r=mg(t,e)||"";if(r){var n=r.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[Ve]>3&&he(n[2])&&n[2][Ve]>0)return n[2]+(n[3]||"")}return r}function mg(t,e){var r=null;if(t){var n=t.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[Ve]>2&&he(n[2])&&n[2][Ve]>0&&(r=n[2]||"",e&&n[Ve]>2)){var i=(n[1]||"")[Vo](),o=n[3]||"";(i==="http"&&o===":80"||i==="https"&&o===":443")&&(o=""),r+=o}}return r}var H2=[mc+no,"https://breeze.aimon.applicationinsights.io"+no,"https://dc-int.services.visualstudio.com"+no],z2="cid-v1:";function tl(t){return xt(H2,t[Vo]())!==-1}function gg(t,e,r){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t[Py]){for(var n=0;n<t.correlationHeaderExcludePatterns[Ve];n++)if(t[Py][n].test(e))return!1}var i=Af(e).host[Vo]();if(i&&(Lt(i,":443")!==-1||Lt(i,":80")!==-1)&&(i=(mg(e,!0)||"")[Vo]()),(!t||!t.enableCorsCorrelation)&&i&&i!==r)return!1;var o=t&&t.correlationHeaderDomains;if(o){var a;if(K(o,function(u){var l=new RegExp(u.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||l.test(i)}),!a)return!1}var s=t&&t.correlationHeaderExcludedDomains;if(!s||s[Ve]===0)return!0;for(var n=0;n<s[Ve];n++){var c=new RegExp(s[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(i))return!1}return i&&i[Ve]>0}function vg(t){if(t){var e=mI(t,pt[1]);if(e&&e!==z2)return e}}function mI(t,e){if(t)for(var r=t[Yo](","),n=0;n<r[Ve];++n){var i=r[n][Yo]("=");if(i[Ve]===2&&i[0]===e)return i[1]}}function gI(t,e,r,n){var i,o=n,a=n;if(e&&e[Ve]>0){var s=Af(e);if(i=s.host,!o)if(s[Pf]!=null){var c=s.pathname[Ve]===0?"/":s[Pf];c.charAt(0)!=="/"&&(c="/"+c),a=s[Pf],o=st(t,r?r+" "+c:c)}else o=st(t,e)}else i=n,o=n;return{target:i,name:o,data:a}}function nl(){var t=or();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return mn()}function En(t,e){var r=null;return t!==0&&e!==0&&!Y(t)&&!Y(e)&&(r=e-t),r}function Sc(t,e){var r=t||{};return{getName:function(){return r[cn]},setName:function(n){e&&e.setName(n),r[cn]=n},getTraceId:function(){return r.traceID},setTraceId:function(n){e&&e.setTraceId(n),pc(n)&&(r.traceID=n)},getSpanId:function(){return r.parentID},setSpanId:function(n){e&&e.setSpanId(n),hc(n)&&(r.parentID=n)},getTraceFlags:function(){return r.traceFlags},setTraceFlags:function(n){e&&e.setTraceFlags(n),r.traceFlags=n}}}var rl=Ws({LocalStorage:0,SessionStorage:1}),CH=Ws({AI:0,AI_AND_W3C:1,W3C:2}),SH=Ws({Normal:1,Critical:2});var Xa=void 0,Qa=void 0,vI="";function Yy(){return xc()?_g(rl.LocalStorage):null}function _g(t){try{if(Y(qt()))return null;var e=new Date()[Bo](),r=yt(t===rl.LocalStorage?"localStorage":"sessionStorage"),n=vI+e;r.setItem(n,e);var i=r.getItem(n)!==e;if(r[sg](n),!i)return r}catch{}return null}function Vy(){return Ja()?_g(rl.SessionStorage):null}function By(){Xa=!1,Qa=!1}function Tc(t){vI=t||""}function jy(){Xa=xc(!0),Qa=Ja(!0)}function xc(t){return(t||Xa===void 0)&&(Xa=!!_g(rl.LocalStorage)),Xa}function kf(t,e){var r=Yy();if(r!==null)try{return r.getItem(e)}catch(n){Xa=!1,z(t,2,1,"Browser failed read of local storage. "+Qe(n),{exception:te(n)})}return null}function Ff(t,e,r){var n=Yy();if(n!==null)try{return n.setItem(e,r),!0}catch(i){Xa=!1,z(t,2,3,"Browser failed write to local storage. "+Qe(i),{exception:te(i)})}return!1}function Gy(t,e){var r=Yy();if(r!==null)try{return r[sg](e),!0}catch(n){Xa=!1,z(t,2,5,"Browser failed removal of local storage item. "+Qe(n),{exception:te(n)})}return!1}function Ja(t){return(t||Qa===void 0)&&(Qa=!!_g(rl.SessionStorage)),Qa}function il(t,e){var r=Vy();if(r!==null)try{return r.getItem(e)}catch(n){Qa=!1,z(t,2,2,"Browser failed read of session storage. "+Qe(n),{exception:te(n)})}return null}function Lf(t,e,r){var n=Vy();if(n!==null)try{return n.setItem(e,r),!0}catch(i){Qa=!1,z(t,2,4,"Browser failed write to session storage. "+Qe(i),{exception:te(i)})}return!1}function Uf(t,e){var r=Vy();if(r!==null)try{return r[sg](e),!0}catch(n){Qa=!1,z(t,2,6,"Browser failed removal of session storage item. "+Qe(n),{exception:te(n)})}return!1}var q2="appInsightsThrottle",Hy=function(){function t(e,r){var n=this,i,o,a,s,c,u,l,p=!1,m=!1;g(),n._getDbgPlgTargets=function(){return[l]},n.getConfig=function(){return a},n.canThrottle=function(T){var I=ee(T),$=E(T);return x($,i,I)},n.isTriggered=function(T){return ye(T)},n.isReady=function(){return p},n.flush=function(T){try{var I=ue(T);if(I&&I[Ve]>0){var $=I.slice(0);return l[T]=[],K($,function(U){h(U.msgID,U[Ai],U.severity,!1)}),!0}}catch{}return!1},n.flushAll=function(){try{if(l){var T=!0;return Ie(l,function(I){var $=n.flush(parseInt(I));T=T&&$}),T}}catch{}return!1},n.onReadyState=function(T,I){return I===void 0&&(I=!0),p=Y(T)?!0:T,p&&I?n.flushAll():null},n.sendMessage=function(T,I,$){return h(T,I,$,!0)};function h(T,I,$,U){if(p){var P=G(T);if(!P)return;var ge=E(T),be=ee(T),J=x(ge,i,be),S=!1,C=0,F=ye(T);try{J&&!F?(C=Math.min(ge.limit.maxSendNumber,be[Wa]+1),be[Wa]=0,S=!0,c[T]=!0,be[cg]=new Date):(c[T]=J,be[Wa]+=1);var Z=w(T);A(o,Z,be);for(var Te=0;Te<C;Te++)q(T,o,I,$)}catch{}return{isThrottled:S,throttleNum:C}}else if(U){var Fe=ue(T);Fe[$a]({msgID:T,message:I,severity:$})}return null}function g(){o=cr(e),c={},s={},l={},a={},_(109),u=li(r)?r:"",e.addUnloadHook(at(e.config,function(T){var I=T.cfg;i=xc();var $=I.throttleMgrCfg||{};Ie($,function(U,P){_(parseInt(U),P)})}))}function E(T){return a[T]||a[109]}function _(T,I){var $,U;try{var P=I||{},ge={};ge[ug]=!!P[ug];var be=P[lg]||{};m=be?.daysOfMonth&&be?.daysOfMonth[Ve]>0,ge[lg]=y(be);var J={samplingRate:(($=P.limit)===null||$===void 0?void 0:$.samplingRate)||100,maxSendNumber:((U=P.limit)===null||U===void 0?void 0:U.maxSendNumber)||1};ge.limit=J,a[T]=ge}catch{}}function y(T){T=T||{};var I=T?.monthInterval,$=T?.dayInterval;return Y(I)&&Y($)&&(T.monthInterval=3,m||(T[Oy]=[28],m=!0)),T={monthInterval:T?.monthInterval,dayInterval:T?.dayInterval,daysOfMonth:T?.daysOfMonth},T}function x(T,I,$){if(T&&!T[ug]&&I&&li($)){var U=Q(),P=$[dg],ge=T[lg],be=1;if(ge?.monthInterval){var J=(U.getUTCFullYear()-P.getUTCFullYear())*12+U.getUTCMonth()-P.getUTCMonth();be=D(ge.monthInterval,0,J)}var S=1;if(m)S=xt(ge[Oy],U[fg]());else if(ge?.dayInterval){var C=Math.floor((U.getTime()-P.getTime())/864e5);S=D(ge.dayInterval,0,C)}return be>=0&&S>=0}return!1}function w(T,I){var $=li(I)?I:"";return T?q2+$+"-"+T:null}function R(T){try{if(T){var I=new Date;return T.getUTCFullYear()===I.getUTCFullYear()&&T.getUTCMonth()===I.getUTCMonth()&&T[fg]()===I[fg]()}}catch{}return!1}function j(T,I,$){try{var U={date:Q(),count:0};if(T){var P=JSON.parse(T),ge={date:Q(P[dg])||U[dg],count:P[Wa]||U[Wa],preTriggerDate:P.preTriggerDate?Q(P[cg]):void 0};return ge}else return A(I,$,U),U}catch{}return null}function Q(T){try{if(T){var I=new Date(T);if(!isNaN(I.getDate()))return I}else return new Date}catch{}return null}function A(T,I,$){try{return Ff(T,I,Nt(JSON[gc]($)))}catch{}return!1}function D(T,I,$){return T<=0?1:$>=I&&($-I)%T==0?Math.floor(($-I)/T)+1:-1}function q(T,I,$,U){z(I,U||1,T,$)}function G(T){try{var I=E(T);return GE(1e6)<=I.limit.samplingRate}catch{}return!1}function ee(T){try{var I=s[T];if(!I){var $=w(T,u);I=j(kf(o,$),o,$),s[T]=I}return s[T]}catch{}return null}function ye(T){var I=c[T];if(Y(I)){I=!1;var $=ee(T);$&&(I=R($[cg])),c[T]=I}return c[T]}function ue(T){return l=l||{},Y(l[T])&&(l[T]=[]),l[T]}}return t}();var $2=";",W2="=";function Eg(t){if(!t)return{};var e=t[Yo]($2),r=z0(e,function(i,o){var a=o[Yo](W2);if(a[Ve]===2){var s=a[0][Vo](),c=a[1];i[s]=c}return i},{});if(qn(r)[Ve]>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r[qa]=r[qa]||"https://"+n+"dc."+r.endpointsuffix}r[qa]=r[qa]||mc,Wd(r[qa],"/")&&(r[qa]=r[qa].slice(0,-1))}return r}var zy=function(){function t(e,r,n){var i=this,o=this;o.ver=1,o.sampleRate=100,o.tags={},o[cn]=st(e,n)||sn,o.data=r,o.time=di(new Date),o.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return i.sampleRate===100?4:1},tags:1,data:1}}return t}();var pi=function(){function t(e,r,n,i){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var o=this;o.ver=2,o[cn]=st(e,r)||sn,o[Un]=lr(e,n),o[Wn]=dr(e,i)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}();var K2="<no_method>",ol="error",Tr="stack",$y="stackDetails",_I="errorSrc",Wy="message",bI="description";function Ky(t,e){var r=t;return r&&!he(r)&&(JSON&&JSON[gc]?(r=JSON[gc](t),e&&(!r||r==="{}")&&(me(t[Bo])?r=t[Bo]():r=""+t)):r=""+t+" - (Missing JSON.stringify)"),r||""}function CI(t,e){var r=t;return t&&(r&&!he(r)&&(r=t[Wy]||t[bI]||r),r&&!he(r)&&(r=Ky(r,!0)),t.filename&&(r=r+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&Lt(r||"",e)===-1&&(r=e+": "+r),r||""}function X2(t){try{if(zt(t))return"hasFullStack"in t&&"typeName"in t}catch{}return!1}function Q2(t){try{if(zt(t))return"ver"in t&&"exceptions"in t&&"properties"in t}catch{}return!1}function EI(t){return t&&t.src&&he(t.src)&&t.obj&&Oe(t.obj)}function Nc(t){var e=t||"";he(e)||(he(e[Tr])?e=e[Tr]:e=""+e);var r=e[Yo](`
`);return{src:e,obj:r}}function J2(t){for(var e=[],r=t[Yo](`
`),n=0;n<r[Ve];n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),e[$a](i)}return{src:t,obj:e}}function SI(t){var e=null;if(t)try{if(t[Tr])e=Nc(t[Tr]);else if(t[ol]&&t[ol][Tr])e=Nc(t[ol][Tr]);else if(t.exception&&t.exception[Tr])e=Nc(t.exception[Tr]);else if(EI(t))e=t;else if(EI(t[$y]))e=t[$y];else if($t()&&$t().opera&&t[Wy])e=J2(t[Ai]);else if(t.reason&&t.reason[Tr])e=Nc(t.reason[Tr]);else if(he(t))e=Nc(t);else{var r=t[Wy]||t[bI]||"";he(t[_I])&&(r&&(r+=`
`),r+=" from "+t[_I]),r&&(e=Nc(r))}}catch(n){e=Nc(n)}return e||{src:"",obj:null}}function Z2(t){var e="";return t&&(t.obj?K(t.obj,function(r){e+=r+`
`}):e=t.src||""),e}function eF(t){var e,r=t.obj;if(r&&r[Ve]>0){e=[];var n=0,i=0;K(r,function(g){var E=g[Bo]();if(Xy.regex.test(E)){var _=new Xy(E,n++);i+=_[_c],e[$a](_)}});var o=32*1024;if(i>o)for(var a=0,s=e[Ve]-1,c=0,u=a,l=s;a<s;){var p=e[a][_c],m=e[s][_c];if(c+=p+m,c>o){var h=l-u+1;e.splice(u,h);break}u=a,l=s,a++,s--}}return e}function yg(t){var e="";if(t&&(e=t.typeName||t[cn]||"",!e))try{var r=/function (.{1,200})\(/,n=r.exec(t.constructor[Bo]());e=n&&n[Ve]>1?n[1]:""}catch{}return e}function qy(t){if(t)try{if(!he(t)){var e=yg(t),r=Ky(t,!1);return(!r||r==="{}")&&(t[ol]&&(t=t[ol],e=yg(t)),r=Ky(t,!0)),Lt(r,e)!==0&&e!=="String"?e+":"+r:r}}catch{}return""+(t||"")}var Kn=function(){function t(e,r,n,i,o,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var s=this;s.ver=2,Q2(r)?(s[vc]=r[vc]||[],s[Un]=r[Un],s[Wn]=r[Wn],r[Ec]&&(s[Ec]=r[Ec]),r.id&&(s.id=r.id,r[Un].id=r.id),r[pg]&&(s[pg]=r[pg]),Y(r[hg])||(s[hg]=r[hg])):(n||(n={}),a&&(n.id=a),s[vc]=[new yI(e,r,n)],s[Un]=lr(e,n),s[Wn]=dr(e,i),o&&(s[Ec]=o),a&&(s.id=a))}return t.CreateAutoException=function(e,r,n,i,o,a,s,c){var u,l=yg(o||a||e);return u={},u[Ai]=CI(e,l),u.url=r,u.lineNumber=n,u.columnNumber=i,u.error=qy(o||a||e),u.evt=qy(a||e),u[ro]=l,u.stackDetails=SI(s||o||a),u.errorSrc=c,u},t.CreateFromInterface=function(e,r,n,i){var o=r[vc]&&zs(r[vc],function(s){return yI[wy](e,s)}),a=new t(e,Kt(Kt({},r),{exceptions:o}),n,i);return a},t.prototype.toInterface=function(){var e,r=this,n=r.exceptions,i=r.properties,o=r.measurements,a=r.severityLevel,s=r.problemGroup,c=r.id,u=r.isManual,l=n instanceof Array&&zs(n,function(p){return p.toInterface()})||void 0;return e={ver:"4.0"},e[vc]=l,e.severityLevel=a,e.properties=i,e.measurements=o,e.problemGroup=s,e.id=c,e.isManual=u,e},t.CreateSimpleException=function(e,r,n,i,o,a){var s;return{exceptions:[(s={},s[wf]=!0,s.message=e,s.stack=o,s.typeName=r,s)]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=qy,t}();var yI=function(){function t(e,r,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var i=this;if(X2(r))i[ro]=r[ro],i[Ai]=r[Ai],i[Tr]=r[Tr],i[fi]=r[fi]||[],i[wf]=r[wf];else{var o=r,a=o&&o.evt;Gs(o)||(o=o[ol]||a||o),i[ro]=st(e,yg(o))||sn,i[Ai]=Rf(e,CI(r||o,i[ro]))||sn;var s=r[$y]||SI(r);i[fi]=eF(s),Oe(i[fi])&&zs(i[fi],function(c){c[yc]=st(e,c[yc]),c[Ka]=st(e,c[Ka])}),i[Tr]=Ay(e,Z2(s)),i.hasFullStack=Oe(i.parsedStack)&&i.parsedStack[Ve]>0,n&&(n[ro]=n[ro]||i[ro])}}return t.prototype.toInterface=function(){var e,r=this,n=r[fi]instanceof Array&&zs(r[fi],function(o){return o.toInterface()}),i=(e={id:r.id,outerId:r.outerId,typeName:r[ro],message:r[Ai],hasFullStack:r[wf],stack:r[Tr]},e[fi]=n||void 0,e);return i},t.CreateFromInterface=function(e,r){var n=r[fi]instanceof Array&&zs(r[fi],function(o){return Xy[wy](o)})||r[fi],i=new t(e,Kt(Kt({},r),{parsedStack:n}));return i},t}();var Xy=function(){function t(e,r){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n=this;if(n[_c]=0,typeof e=="string"){var i=e;n[Mf]=r,n[bc]=K2,n[yc]=Nt(i),n[Ka]="",n[el]=0;var o=i.match(t.regex);o&&o[Ve]>=5&&(n[bc]=Nt(o[2])||n[bc],n[Ka]=Nt(o[4]),n[el]=parseInt(o[5])||0)}else n[Mf]=e[Mf],n[bc]=e[bc],n[yc]=e[yc],n[Ka]=e[Ka],n[el]=e[el],n[_c]=0;n.sizeInBytes+=n.method[Ve],n.sizeInBytes+=n.fileName[Ve],n.sizeInBytes+=n.assembly[Ve],n[_c]+=t.baseSize,n.sizeInBytes+=n.level.toString()[Ve],n.sizeInBytes+=n.line.toString()[Ve]}return t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){var e=this;return{level:e[Mf],method:e[bc],assembly:e[yc],fileName:e[Ka],line:e[el]}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}();var TI=function(){function t(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return t}();var hi=function(){function t(e,r,n,i,o,a,s,c,u){this.aiDataContract={ver:1,metrics:1,properties:0};var l=this;l.ver=2;var p=new TI;p[Wa]=i>0?i:void 0,p.max=isNaN(a)||a===null?void 0:a,p.min=isNaN(o)||o===null?void 0:o,p[cn]=st(e,r)||sn,p.value=n,p.stdDev=isNaN(s)||s===null?void 0:s,l.metrics=[p],l[Un]=lr(e,c),l[Wn]=dr(e,u)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}();var Yf="";function qr(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=Yf+t%1e3,r=Yf+Math.floor(t/1e3)%60,n=Yf+Math.floor(t/(1e3*60))%60,i=Yf+Math.floor(t/(1e3*60*60))%24,o=Math.floor(t/(1e3*60*60*24));return e=e[Ve]===1?"00"+e:e[Ve]===2?"0"+e:e,r=r[Ve]<2?"0"+r:r,n=n[Ve]<2?"0"+n:n,i=i[Ve]<2?"0"+i:i,(o>0?o+".":Yf)+i+":"+n+":"+r+"."+e}function Qy(t,e,r,n,i){return!i&&he(t)&&(t==="Script error."||t==="Script error")}var xr=function(){function t(e,r,n,i,o,a,s){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=ky(e,s),c.url=jo(e,n),c[cn]=st(e,r)||sn,isNaN(i)||(c[Cc]=qr(i)),c[Un]=lr(e,o),c[Wn]=dr(e,a)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}();var mi=function(){function t(e,r,n,i,o,a,s,c,u,l,p,m){u===void 0&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var h=this;h.ver=2,h.id=r,h[Cc]=qr(o),h.success=a,h.resultCode=s+"",h.type=st(e,u);var g=gI(e,n,c,i);h.data=jo(e,i)||g.data,h.target=st(e,g.target),l&&(h.target="".concat(h.target," | ").concat(l)),h[cn]=st(e,g[cn]),h[Un]=lr(e,p),h[Wn]=dr(e,m)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}();var io=function(){function t(e,r,n,i,o){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,r=r||sn,a[Ai]=Rf(e,r),a[Un]=lr(e,i),a[Wn]=dr(e,o),n&&(a[Ec]=n)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}();var oo=function(){function t(e,r,n,i,o,a,s){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=jo(e,n),c[cn]=st(e,r)||sn,c[Un]=lr(e,o),c[Wn]=dr(e,a),s&&(c.domProcessing=s.domProcessing,c[Cc]=s[Cc],c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c[My]=s[My],c.sentRequest=s.sentRequest)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}();var Go=function(){function t(e,r){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=r}return t}();function es(t){var e="ai."+t+".";return function(r){return e+r}}var Vf=es("application"),yn=es("device"),bg=es("location"),al=es("operation"),Jy=es("session"),Za=es("user"),Dc=es("cloud"),Bf=es("internal"),jf=function(t){Nn(e,t);function e(){return t.call(this)||this}return e}(PE({applicationVersion:Vf("ver"),applicationBuild:Vf("build"),applicationTypeId:Vf("typeId"),applicationId:Vf("applicationId"),applicationLayer:Vf("layer"),deviceId:yn("id"),deviceIp:yn("ip"),deviceLanguage:yn("language"),deviceLocale:yn("locale"),deviceModel:yn("model"),deviceFriendlyName:yn("friendlyName"),deviceNetwork:yn("network"),deviceNetworkName:yn("networkName"),deviceOEMName:yn("oemName"),deviceOS:yn("os"),deviceOSVersion:yn("osVersion"),deviceRoleInstance:yn("roleInstance"),deviceRoleName:yn("roleName"),deviceScreenResolution:yn("screenResolution"),deviceType:yn("type"),deviceMachineName:yn("machineName"),deviceVMName:yn("vmName"),deviceBrowser:yn("browser"),deviceBrowserVersion:yn("browserVersion"),locationIp:bg("ip"),locationCountry:bg("country"),locationProvince:bg("province"),locationCity:bg("city"),operationId:al("id"),operationName:al("name"),operationParentId:al("parentId"),operationRootId:al("rootId"),operationSyntheticSource:al("syntheticSource"),operationCorrelationVector:al("correlationVector"),sessionId:Jy("id"),sessionIsFirst:Jy("isFirst"),sessionIsNew:Jy("isNew"),userAccountAcquisitionDate:Za("accountAcquisitionDate"),userAccountId:Za("accountId"),userAgent:Za("userAgent"),userId:Za("id"),userStoreRegion:Za("storeRegion"),userAuthUserId:Za("authUserId"),userAnonymousUserAcquisitionDate:Za("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Za("authUserAcquisitionDate"),cloudName:Dc("name"),cloudRole:Dc("role"),cloudRoleVer:Dc("roleVer"),cloudRoleInstance:Dc("roleInstance"),cloudEnvironment:Dc("environment"),cloudLocation:Dc("location"),cloudDeploymentUnit:Dc("deploymentUnit"),internalNodeName:Bf("nodeName"),internalSdkVersion:Bf("sdkVersion"),internalAgentVersion:Bf("agentVersion"),internalSnippet:Bf("snippet"),internalSdkSrc:Bf("sdkSrc")}));function gi(t,e,r,n,i,o){var a;r=st(n,r)||sn,(Y(t)||Y(e)||Y(r))&&xn("Input doesn't contain all required fields");var s="";t[ag]&&(s=t[ag],delete t[ag]);var c=(a={},a[cn]=r,a.time=di(new Date),a.iKey=s,a.ext=o||{},a.tags=[],a.data={},a.baseType=e,a.baseData=t,a);return Y(i)||Ie(i,function(u,l){c.data[u]=l}),c}var tF=function(){function t(){}return t.create=gi,t}();var Xn={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},bt=new jf;function Ic(t){var e=null;if(me(Event))e=new Event(t);else{var r=Ot();r&&r.createEvent&&(e=r.createEvent("Event"),e.initEvent(t,!0,!0))}return e}function xI(t,e){to(t,null,null,e)}function Zy(t){var e=Ot(),r=kn(),n=!1,i=[],o=1;r&&!Y(r.onLine)&&!r.onLine&&(o=2);var a=0,s=m(),c=ur(Gt("OfflineListener"),t);try{if(l($t())&&(n=!0),e){var u=e.body||e;u.ononline&&l(u)&&(n=!0)}}catch{n=!1}function l(w){var R=!1;return w&&(R=Sr(w,"online",E,c),R&&Sr(w,"offline",_,c)),R}function p(){return s}function m(){return!(a===2||o===2)}function h(){var w=m();s!==w&&(s=w,K(i,function(R){var j={isOnline:s,rState:o,uState:a};try{R(j)}catch{}}))}function g(w){a=w,h()}function E(){o=1,h()}function _(){o=2,h()}function y(){var w=$t();if(w&&n){if(xI(w,c),e){var R=e.body||e;rt(R.ononline)||xI(R,c)}n=!1}}function x(w){return i[$a](w),{rm:function(){var R=i.indexOf(w);if(R>-1)return i.splice(R,1)}}}return{isOnline:p,isListening:function(){return n},unload:y,addListener:x,setOnlineState:g}}var ts="AppInsightsPropertiesPlugin",Cg="AppInsightsChannelPlugin",Sg="ApplicationInsightsAnalytics";var Gf="toString",Tg="isStorageUseDisabled",Oc="_addHook",Dn="core",Ho="dataType",ns="envelopeType",Nr="diagLog",rs="track",sl="trackPageView",Hf="trackPreviousPageVisit",zo="sendPageViewInternal",qo="startTime",Pc="properties",$r="duration",zf="sendPageViewPerformanceInternal",cl="populatePageViewPerformanceEvent",is="href",eb="sendExceptionInternal",xg="exception",ul="error",Ng="_onerror",Dg="errorSrc",Ig="lineNumber",Og="columnNumber",tb="message",Pg="CreateAutoException",qf="addTelemetryInitializer",NI="overridePageViewDuration",nb="autoTrackPageVisitTime",rb="isBrowserLinkTrackingEnabled",os="length",ib="enableAutoRouteTracking",ob="enableUnhandledPromiseRejectionTracking",wg="autoUnhandledPromiseInstrumented",$f="getEntriesByType",Mg="isPerformanceTimingSupported",Rg="getPerformanceTiming",ll="navigationStart",Wf="shouldCollectDuration",Ag="isPerformanceTimingDataReady",dl="responseStart",DI="requestStart",Kf="loadEventEnd",kg="responseEnd",Xf="connectEnd",ab="pageVisitStartTime";var II=function(){function t(e,r,n,i){Ye(t,this,function(o){var a=null,s=[],c=!1,u=!1,l;n&&(l=n.logger);function p(g){n&&n.flush(g,function(){})}function m(){a||(a=Wt(function(){a=null;var g=s.slice(0),E=!1;s=[],K(g,function(_){_()?E=!0:s.push(_)}),s[os]>0&&m(),E&&p(!0)},100))}function h(g){s.push(g),m()}o[sl]=function(g,E){var _=g.name;if(Y(_)||typeof _!="string"){var y=Ot();_=g.name=y&&y.title||""}var x=g.uri;if(Y(x)||typeof x!="string"){var w=Ln();x=g.uri=w&&w[is]||""}if(!u){var R=or(),j=R&&R[$f]&&R[$f]("navigation");if(j&&j[0]&&!rt(R.timeOrigin)){var Q=j[0].loadEventStart;g[qo]=new Date(R.timeOrigin+Q)}else{var A=(E||g[Pc]||{})[$r]||0;g[qo]=new Date(new Date().getTime()-A)}u=!0}if(!i[Mg]()){e[zo](g,E),p(!0),Zh()||z(l,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var D=!1,q,G=i[Rg]()[ll];G>0&&(q=En(G,+new Date),i[Wf](q)||(q=void 0));var ee;!Y(E)&&!Y(E[$r])&&(ee=E[$r]),(r||!isNaN(ee))&&(isNaN(ee)&&(E||(E={}),E[$r]=q),e[zo](g,E),p(!0),D=!0);var ye=6e4;E||(E={}),h(function(){var ue=!1;try{if(i[Ag]()){ue=!0;var T={name:_,uri:x};i[cl](T),!T.isValid&&!D?(E[$r]=q,e[zo](g,E)):(D||(E[$r]=T.durationMs,e[zo](g,E)),c||(e[zf](T,E),c=!0))}else G>0&&En(G,+new Date)>ye&&(ue=!0,D||(E[$r]=ye,e[zo](g,E)))}catch(I){z(l,1,38,"trackPageView failed on page load calculation: "+Qe(I),{exception:te(I)})}return ue})},o.teardown=function(g,E){if(a){a.cancel(),a=null;var _=s.slice(0),y=!1;s=[],K(_,function(x){x()&&(y=!0)})}}})}return t.__ieDyn=1,t}();var nF=36e5,OI=["googlebot","adsbot-google","apis-google","mediapartners-google"];function wI(){var t=or();return t&&!!t.timing}function rF(){var t=or();return t&&t.getEntriesByType&&t.getEntriesByType("navigation")[os]>0}function iF(){var t=or(),e=t?t.timing:0;return e&&e.domainLookupStart>0&&e[ll]>0&&e[dl]>0&&e[DI]>0&&e[Kf]>0&&e[kg]>0&&e[Xf]>0&&e.domLoading>0}function PI(){return wI()?or().timing:null}function oF(){return rF()?or()[$f]("navigation")[0]:null}function aF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=kn()||{},n=r.userAgent,i=!1;if(n)for(var o=0;o<OI[os];o++)i=i||Lt(n.toLowerCase(),OI[o])!==-1;if(i)return!1;for(var o=0;o<t[os];o++)if(t[o]<0||t[o]>=nF)return!1;return!0}var MI=function(){function t(e){var r=cr(e);Ye(t,this,function(n){n[cl]=function(i){i.isValid=!1;var o=oF(),a=PI(),s=0,c=0,u=0,l=0,p=0;(o||a)&&(o?(s=o[$r],c=o[qo]===0?o[Xf]:En(o[qo],o[Xf]),u=En(o.requestStart,o[dl]),l=En(o[dl],o[kg]),p=En(o.responseEnd,o[Kf])):(s=En(a[ll],a[Kf]),c=En(a[ll],a[Xf]),u=En(a.requestStart,a[dl]),l=En(a[dl],a[kg]),p=En(a.responseEnd,a[Kf])),s===0?z(r,2,10,"error calculating page view performance.",{total:s,network:c,request:u,response:l,dom:p}):n[Wf](s,c,u,l,p)?s<Math.floor(c)+Math.floor(u)+Math.floor(l)+Math.floor(p)?z(r,2,8,"client performance math error.",{total:s,network:c,request:u,response:l,dom:p}):(i.durationMs=s,i.perfTotal=i[$r]=qr(s),i.networkConnect=qr(c),i.sentRequest=qr(u),i.receivedResponse=qr(l),i.domProcessing=qr(p),i.isValid=!0):z(r,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:s,network:c,request:u,response:l,dom:p}))},n[Rg]=PI,n[Mg]=wI,n[Ag]=iF,n[Wf]=aF})}return t.__ieDyn=1,t}();var RI=function(){function t(e,r){var n="prevPageVisitData";Ye(t,this,function(i){i[Hf]=function(s,c){try{var u=o(s,c);u&&r(u.pageName,u.pageUrl,u.pageVisitTime)}catch(l){Gr(e,"Auto track page visit time failed, metric will not be collected: "+te(l))}};function o(s,c){var u=null;try{if(u=a(),Ja()){il(e,n)!=null&&xn("Cannot call startPageVisit consecutively without first calling stopPageVisit");var l=rn().stringify(new sF(s,c));Lf(e,n,l)}}catch(p){Gr(e,"Call to restart failed: "+te(p)),u=null}return u}function a(){var s=null;try{if(Ja()){var c=mn(),u=il(e,n);u&&Qi()&&(s=rn().parse(u),s.pageVisitTime=c-s[ab],Uf(e,n))}}catch(l){Gr(e,"Stop page visit timer failed: "+te(l)),s=null}return s}Be(i,"_logger",{g:function(){return e}}),Be(i,"pageVisitTimeTrackingHandler",{g:function(){return r}})})}return t.__ieDyn=1,t}();var sF=function(){function t(e,r){this[ab]=mn(),this.pageName=e,this.pageUrl=r}return t}();var sb=function(){function t(e,r){var n=this,i={};n.start=function(o){typeof i[o]<"u"&&z(e,2,62,"start was called more than once for this event without calling stop.",{name:o,key:o},!0),i[o]=+new Date},n.stop=function(o,a,s,c){var u=i[o];if(isNaN(u))z(e,2,63,"stop was called without a corresponding start.",{name:o,key:o},!0);else{var l=+new Date,p=En(u,l);n.action(o,a,p,s,c)}delete i[o],i[o]=void 0}}return t}();var fr,cF="event";function Qf(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e)}function uF(t){if(t&&t.reason){var e=t.reason;return!he(e)&&me(e[Gf])?e[Gf]():te(e)}return t||""}var AI=6e4,lF=Fr((fr={sessionRenewalMs:Gm(kI,30*60*1e3),sessionExpirationMs:Gm(kI,24*60*60*1e3),disableExceptionTracking:Yt()},fr[nb]=Yt(),fr[NI]=Yt(),fr[ob]=Yt(),fr[wg]=!1,fr.samplingPercentage=Ya(dF,100),fr[Tg]=Yt(),fr[rb]=Yt(),fr[ib]=Yt(),fr.namePrefix=$E(),fr.enableDebug=Yt(),fr.disableFlushOnBeforeUnload=Yt(),fr.disableFlushOnUnload=Yt(!1,"disableFlushOnBeforeUnload"),fr.expCfg=sr({inclScripts:!1,expLog:void 0,maxLogs:50}),fr));function kI(t,e){return t=t||e,t<AI&&(t=AI),+t}function dF(t){return!isNaN(t)&&t>0&&t<=100}function fF(t){rt(t[Tg])||(t[Tg]?By():jy())}var Fg=function(t){Nn(e,t);function e(){var r=t.call(this)||this;r.identifier=Sg,r.priority=180,r.autoRoutePVDelay=500;var n,i,o,a,s,c,u,l,p,m,h,g,E,_,y,x,w,R=0,j,Q,A;return Ye(e,r,function(D,q){var G=q[Oc];J(),D.getCookieMgr=function(){return fc(D[Dn])},D.processTelemetry=function(S,C){D.processNext(S,C)},D.trackEvent=function(S,C){try{var F=gi(S,pi[Ho],pi[ns],D[Nr](),C);D[Dn][rs](F)}catch(Z){be(2,39,"trackTrace failed, trace will not be collected: "+Qe(Z),{exception:te(Z)})}},D.startTrackEvent=function(S){try{n.start(S)}catch(C){be(1,29,"startTrackEvent failed, event will not be collected: "+Qe(C),{exception:te(C)})}},D.stopTrackEvent=function(S,C,F){try{n.stop(S,void 0,C,F)}catch(Z){be(1,30,"stopTrackEvent failed, event will not be collected: "+Qe(Z),{exception:te(Z)})}},D.trackTrace=function(S,C){try{var F=gi(S,io[Ho],io[ns],D[Nr](),C);D[Dn][rs](F)}catch(Z){be(2,39,"trackTrace failed, trace will not be collected: "+Qe(Z),{exception:te(Z)})}},D.trackMetric=function(S,C){try{var F=gi(S,hi[Ho],hi[ns],D[Nr](),C);D[Dn][rs](F)}catch(Z){be(1,36,"trackMetric failed, metric will not be collected: "+Qe(Z),{exception:te(Z)})}},D[sl]=function(S,C){try{var F=S||{};o[sl](F,Kt(Kt(Kt({},F.properties),F.measurements),C)),x&&s[Hf](F.name,F.uri)}catch(Z){be(1,37,"trackPageView failed, page view will not be collected: "+Qe(Z),{exception:te(Z)})}},D[zo]=function(S,C,F){var Z=Ot();if(Z&&(S.refUri=S.refUri===void 0?Z.referrer:S.refUri),Y(S[qo])){var Te=(C||S[Pc]||{})[$r]||0;S[qo]=new Date(new Date().getTime()-Te)}var Fe=gi(S,xr[Ho],xr[ns],D[Nr](),C,F);D[Dn][rs](Fe),R=0},D[zf]=function(S,C,F){var Z=gi(S,oo[Ho],oo[ns],D[Nr](),C,F);D[Dn][rs](Z)},D.trackPageViewPerformance=function(S,C){var F=S||{};try{a[cl](F),D[zf](F,C)}catch(Z){be(1,37,"trackPageViewPerformance failed, page view will not be collected: "+Qe(Z),{exception:te(Z)})}},D.startTrackPage=function(S){try{if(typeof S!="string"){var C=Ot();S=C&&C.title||""}i.start(S)}catch(F){be(1,31,"startTrackPage failed, page view may not be collected: "+Qe(F),{exception:te(F)})}},D.stopTrackPage=function(S,C,F,Z){try{if(typeof S!="string"){var Te=Ot();S=Te&&Te.title||""}if(typeof C!="string"){var Fe=Ln();C=Fe&&Fe[is]||""}i.stop(S,C,F,Z),x&&s[Hf](S,C)}catch(et){be(1,32,"stopTrackPage failed, page view will not be collected: "+Qe(et),{exception:te(et)})}},D[eb]=function(S,C,F){var Z=S&&(S[xg]||S[ul])||Gs(S)&&S||{name:S&&typeof S,message:S||sn};S=S||{};var Te=new Kn(D[Nr](),Z,S[Pc]||C,S.measurements,S.severityLevel,S.id).toInterface(),Fe=Ot();if(Fe&&w?.inclScripts){var et=Km(Fe);Te[Pc].exceptionScripts=JSON.stringify(et)}if(w?.expLog){var We=w.expLog();We&&We.logs&&Oe(We.logs)&&(Te[Pc].exceptionLog=We.logs.slice(0,w.maxLogs).join(`
`))}var Rt=gi(Te,Kn[Ho],Kn[ns],D[Nr](),C,F);D[Dn][rs](Rt)},D.trackException=function(S,C){S&&!S[xg]&&S[ul]&&(S[xg]=S[ul]);try{D[eb](S,C)}catch(F){be(1,35,"trackException failed, exception will not be collected: "+Qe(F),{exception:te(F)})}},D[Ng]=function(S){var C=S&&S[ul],F=S&&S.evt;try{if(!F){var Z=$t();Z&&(F=Z[cF])}var Te=S&&S.url||(Ot()||{}).URL,Fe=S[Dg]||"window.onerror@"+Te+":"+(S[Ig]||0)+":"+(S[Og]||0),et={errorSrc:Fe,url:Te,lineNumber:S[Ig]||0,columnNumber:S[Og]||0,message:S[tb]};Qy(S.message,S.url,S.lineNumber,S.columnNumber,S[ul])?T(Kn[Pg]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",Te,S[Ig]||0,S[Og]||0,C,F,null,Fe),et):(S[Dg]||(S[Dg]=Fe),D.trackException({exception:S,severityLevel:3},et))}catch(Rt){var We=C?C.name+", "+C[tb]:"null";be(1,11,"_onError threw exception while logging error, error will not be collected: "+Qe(Rt),{exception:te(Rt),errorString:We})}},D[qf]=function(S){if(D[Dn])return D[Dn][qf](S);c||(c=[]),c.push(S)},D.initialize=function(S,C,F,Z){if(!D.isInitialized()){Y(C)&&xn("Error initializing"),q.initialize(S,C,F,Z);try{A=ur(Gt(D.identifier),C.evtNamespace&&C.evtNamespace()),c&&(K(c,function(Te){C[qf](Te)}),c=null),ee(S),a=new MI(D[Dn]),o=new II(D,y.overridePageViewDuration,D[Dn],a),s=new RI(D[Nr](),function(Te,Fe,et){return ye(Te,Fe,et)}),n=new sb(D[Nr](),"trackEvent"),n.action=function(Te,Fe,et,We,Rt){We||(We={}),Rt||(Rt={}),We.duration=et[Gf](),D.trackEvent({name:Te,properties:We,measurements:Rt})},i=new sb(D[Nr](),"trackPageView"),i.action=function(Te,Fe,et,We,Rt){Y(We)&&(We={}),We.duration=et[Gf]();var pr={name:Te,uri:Fe,properties:We,measurements:Rt};D[zo](pr,We)},Na()&&(I(),$())}catch(Te){throw D.setInitialized(!1),Te}}},D._doTeardown=function(S,C){o&&o.teardown(S,C),to(window,null,null,A),J()};function ee(S){var C=D.identifier,F=D[Dn];D[Oc](at(S,function(){var Z=an(null,S,F);y=Z.getExtCfg(C,lF),w=y.expCfg,x=y[nb],S.storagePrefix&&Tc(S.storagePrefix),fF(y),u=y[rb],ue()}))}function ye(S,C,F){var Z={PageName:S,PageUrl:C};D.trackMetric({name:"PageVisitTime",average:F,max:F,min:F,sampleCount:1},Z)}function ue(){if(!l&&u){var S=["/browserLinkSignalR/","/__browserLink/"],C=function(F){if(u&&F.baseType===mi[Ho]){var Z=F.baseData;if(Z){for(var Te=0;Te<S[os];Te++)if(Z.target&&Lt(Z.target,S[Te])>=0)return!1}}return!0};D[Oc](D[qf](C)),l=!0}}function T(S,C){var F=gi(S,Kn[Ho],Kn[ns],D[Nr](),C);D[Dn][rs](F)}function I(){var S=$t(),C=Ln(!0);D[Oc](at(y,function(){h=y.disableExceptionTracking,!h&&!g&&!y.autoExceptionInstrumented&&(G(Ju(S,"onerror",{ns:A,rsp:function(F,Z,Te,Fe,et,We){!h&&F.rslt!==!0&&D[Ng](Kn[Pg](Z,Te,Fe,et,We,F.evt))}},!1)),g=!0)})),ge(S,C)}function $(){var S=$t(),C=Ln(!0);D[Oc](at(y,function(){if(p=y[ib]===!0,S&&p&&!m&&G0()){var F=Jh();me(F.pushState)&&me(F.replaceState)&&typeof Event!==$s&&P(S,F,C)}}))}function U(){var S=null;if(D[Dn]&&D[Dn].getTraceCtx&&(S=D[Dn].getTraceCtx(!1)),!S){var C=D[Dn].getPlugin(ts);if(C){var F=C.plugin.context;F&&(S=Sc(F.telemetryTrace))}}return S}function P(S,C,F){if(m)return;var Z=y.namePrefix||"";function Te(){p&&Qf(S,Ic(Z+"locationchange"))}function Fe(){if(Q?(j=Q,Q=F&&F[is]||""):Q=F&&F[is]||"",p){var et=U();if(et){et.setTraceId(Hr());var We="_unknown_";F&&F.pathname&&(We=F.pathname+(F.hash||"")),et.setName(st(D[Nr](),We))}Wt((function(Rt){D[sl]({refUri:Rt,properties:{duration:0}})}).bind(D,j),D.autoRoutePVDelay)}}G(Ju(C,"pushState",{ns:A,rsp:function(){p&&(Qf(S,Ic(Z+"pushState")),Qf(S,Ic(Z+"locationchange")))}},!0)),G(Ju(C,"replaceState",{ns:A,rsp:function(){p&&(Qf(S,Ic(Z+"replaceState")),Qf(S,Ic(Z+"locationchange")))}},!0)),Sr(S,Z+"popstate",Te,A),Sr(S,Z+"locationchange",Fe,A),m=!0}function ge(S,C){D[Oc](at(y,function(){E=y[ob]===!0,g=g||y[wg],E&&!_&&(G(Ju(S,"onunhandledrejection",{ns:A,rsp:function(F,Z){E&&F.rslt!==!0&&D[Ng](Kn[Pg](uF(Z),C?C[is]:"",0,0,Z,F.evt))}},!1)),y[wg]=_=!0)}))}function be(S,C,F,Z,Te){D[Nr]().throwInternal(S,C,F,Z,Te)}function J(){n=null,i=null,o=null,a=null,s=null,c=null,u=!1,l=!1,p=!1,m=!1,h=!1,g=!1,E=!1,_=!1,x=!1,R=0;var S=Ln(!0);j=S&&S[is]||"",Q=null,A=null,y=null,Be(D,"config",{g:function(){return y}})}Be(D,"_pageViewManager",{g:function(){return o}}),Be(D,"_pageViewPerformanceManager",{g:function(){return a}}),Be(D,"_pageVisitTimeManager",{g:function(){return s}}),Be(D,"_evtNamespace",{g:function(){return"."+A}})}),r}return e.Version="3.3.2",e}(zr);var Jf="featureOptIn",cb="onCfgChangeReceive",ub="nonOverrideConfigs",lb="scheduleFetchTimeout";function db(t,e,r,n){try{var i=r>n;i&&(t=null);var o=r==0?PN({},t):t;return o&&e&&!i&&Ie(o,function(a){var s=e[a];s&&(zt(o[a])&&zt(s)?o[a]=db(o[a],s,++r,n):delete o[a])}),o}catch{}return t}var fl="featureOptIn.",FI=".mode",LI=".onCfg",UI=".offCfg";function pF(t,e,r){var n;if(!e||!e.enabled)return null;var i=(e[Jf]||{})[t]||{mode:1},o=i.mode,a=i.onCfg,s=i.offCfg,c=(r||{})[t]||{mode:2},u=c.mode,l=c.onCfg,p=c.offCfg,m=!!c.blockCdnCfg,h=fl+t+FI,g=fl+t+LI,E=fl+t+UI,_=u,y=l,x=p;return m||(o===4||o===5?(_=o==4?3:2,y=a||l,x=s||p):o===2||u===2?(_=2,y=l||a,x=p||s):o===3?(_=3,y=l||a,x=p||s):o===1&&u===1&&(_=1)),n={},n[h]=_,n[g]=y,n[E]=x,n}function YI(t,e){try{if(!t||!t.enabled)return null;if(!t[Jf])return t.config;var r=t[Jf],n=t.config||{};return Ie(r,function(i){var o=pF(i,t,e.config[Jf]);Y(o)||(Ie(o,function(a,s){X0(n,a,s)}),hF(i,o,n))}),n}catch{}return null}function hF(t,e,r){var n=e[fl+t+FI],i=e[fl+t+LI],o=e[fl+t+UI],a=null;n===3&&(a=i),n===2&&(a=o),a&&Ie(a,function(s,c){X0(r,s,c)})}var Zf,mF="ai_cfgsync",VI="GET",gF=18e5,pl=void 0,vF={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},_F=Fr((Zf={syncMode:1,blkCdnCfg:pl,customEvtName:pl,cfgUrl:pl,overrideSyncFn:pl,overrideFetchFn:pl},Zf[cb]=pl,Zf[lb]=gF,Zf[ub]=vF,Zf)),fb=function(t){Nn(e,t);function e(){var r=t.call(this)||this;r.priority=198,r.identifier="AppInsightsCfgSyncPlugin";var n,i,o,a,s,c,u,l,p,m,h,g,E,_,y,x,w=!1;return Ye(e,r,function(R,j){Q(),R.initialize=function(J,S,C,F){j.initialize(J,S,C,F),a=ur(Gt(R.identifier),S.evtNamespace&&S.evtNamespace()),A(J)},R.getCfg=function(){return i},R.pause=function(){w=!0,be()},R.resume=function(){w=!1,ge()},R.setCfg=function(J){return D(J)},R.sync=function(J){return G(J)},R.updateEventListenerName=function(J){return ee(J)},R._doTeardown=function(J,S){q(),be(),Q()},R._getDbgPlgTargets=function(){return[l,u,o,p,E]};function Q(){i=null,o=null,a=null,s=null,u=null,l=null,E=null,c=null,m=null,h=null,p=null,y=null,x=null,g=null}function A(J){var S=R.identifier,C=R.core;R._addHook(at(J,function(){var F=an(null,J,C);n=F.getExtCfg(S,_F);var Z=p;p=!!n.blkCdnCfg,!Y(Z)&&Z!==p&&(!p&&s?_&&_(s,I,l):be()),Y(u)&&(u=n.syncMode===2),Y(l)&&(l=n.syncMode===1);var Te=n.customEvtName||mF;o!==Te&&(u?ee(Te):(q(),o=Te)),Y(s)&&(s=n.cfgUrl),s||(i=J,l&&G())})),x=n.overrideSyncFn,y=n.overrideFetchFn,g=n[cb],E=n[ub],m=n[lb],_=ye(),h=0,s&&!p&&_&&_(s,I,l)}function D(J,S){if(J){if(i=J,S&&!w)return G();if(u&&!w)return R.core.updateCfg(J),!0}return!1}function q(){try{var J=qt();J&&to(J,null,null,a)}catch{}}function G(J){try{return x&&me(x)?x(i,J):jE(o,i,J)}catch{}return!1}function ee(J){try{return q(),J&&(o=J,U()),!0}catch{}return!1}function ye(){var J=y;return Y(J)&&(sc()?J=ue:La()&&(J=T)),J}function ue(J,S,C){var F=qt(),Z=F&&F.fetch||null;if(J&&Z&&me(Z))try{var Te={method:VI},Fe=new Request(J,Te);ar(fetch(Fe),function(et){var We=et.value;et.rejected?$(S,400):We.ok?ar(We.text(),function(Rt){$(S,We.status,Rt.value,C)}):$(S,We.status,null,C)})}catch{}}function T(J,S,C){try{var F=new XMLHttpRequest;F.open(VI,J),F.onreadystatechange=function(){F.readyState===XMLHttpRequest.DONE&&$(S,F.status,F.responseText,C)},F.onerror=function(){$(S,400)},F.ontimeout=function(){$(S,400)},F.send()}catch{}}function I(J,S,C){try{if(J>=200&&J<400&&S){h=0;var F=rn();if(F){var Z=F.parse(S),Te=YI(Z,R.core),Fe=Te&&nn(Te)&&P(Te);Fe&&D(Fe,C)}}else h++;h<3&&ge()}catch{}}function $(J,S,C,F){try{J(S,C,F)}catch{}}function U(){if(u){var J=qt();if(J)try{Sr(J,o,function(S){var C=S&&S.detail;if(g&&C)g(C);else{var F=C&&C.cfg,Z=F&&nn(F)&&P(F);Z&&D(Z)}},a,!0)}catch{}}}function P(J,S){var C=null;try{J&&(C=db(J,E,0,5))}catch{}return C}function ge(){!c&&m&&(c=Wt(function(){c=null,_(s,I,l)},m),c.unref())}function be(){c&&c.cancel(),c=null,h=0}R.processTelemetry=function(J,S){R.processNext(J,S)}}),r}return e.__ieDyn=1,e}(zr);var as="duration";var un="tags",Lg="deviceType",Yn="data",ao="name",wc="traceID",Xe="length",ss="stringify",cs="measurements",vi="dataType",us="envelopeType",$o="toString",hl="_get",Wo="enqueue",Ko="count",Ug="eventsLimitInMem",_i="push",ml="item",ep="emitLineDelimitedJson",ls="clear",tp="createNew",gl="markAsSent",Mc="clearSent",np="bufferOverride",Yg="BUFFER_KEY",Xo="SENT_BUFFER_KEY",ds="concat",vl="MAX_BUFFER_SIZE",_l="triggerSend",Vn="diagLog",Vg="initialize",El="_sender",Bg="customHeaders",pb="maxBatchSizeInBytes",jg="onunloadDisableBeacon",Gg="isBeaconApiDisabled",hb="alwaysUseXhrOverride",Hg="disableXhr",mb="enableSessionStorageBuffer",Qo="_buffer",gb="onunloadDisableFetch",vb="disableSendBeaconSplit",_b="instrumentationKey",Eb="enableSendPromise",rp="getSenderInst",yb="unloadTransports",bb="convertUndefined",Cb="maxBatchInterval",yl="serialize",fs="_onError",zg="_onPartialSuccess",ip="_onSuccess",qg="itemsReceived",$g="itemsAccepted",Wg="oriPayload",Kg="baseType",bl="sampleRate",Sb="eventsSendRequest",Xg="getSamplingScore",BI="getHashCodeScore";var Tb="baseType",At="baseData",In="properties",jI="true";function Xt(t,e,r){return vt(t,e,r,Ta)}function EF(t,e,r){var n=r[un]=r[un]||{},i=e.ext=e.ext||{},o=e[un]=e[un]||[],a=i.user;a&&(Xt(n,bt.userAuthUserId,a.authId),Xt(n,bt.userId,a.id||a.localId));var s=i.app;s&&Xt(n,bt.sessionId,s.sesId);var c=i.device;c&&(Xt(n,bt.deviceId,c.id||c.localId),Xt(n,bt[Lg],c.deviceClass),Xt(n,bt.deviceIp,c.ip),Xt(n,bt.deviceModel,c.model),Xt(n,bt[Lg],c[Lg]));var u=e.ext.web;if(u){Xt(n,bt.deviceLanguage,u.browserLang),Xt(n,bt.deviceBrowserVersion,u.browserVer),Xt(n,bt.deviceBrowser,u.browser);var l=r[Yn]=r[Yn]||{},p=l[At]=l[At]||{},m=p[In]=p[In]||{};Xt(m,"domain",u.domain),Xt(m,"isManual",u.isManual?jI:null),Xt(m,"screenRes",u.screenRes),Xt(m,"userConsent",u.userConsent?jI:null)}var h=i.os;h&&(Xt(n,bt.deviceOS,h[ao]),Xt(n,bt.deviceOSVersion,h.osVer));var g=i.trace;g&&(Xt(n,bt.operationParentId,g.parentID),Xt(n,bt.operationName,st(t,g[ao])),Xt(n,bt.operationId,g[wc]));for(var E={},_=o[Xe]-1;_>=0;_--){var y=o[_];Ie(y,function(w,R){E[w]=R}),o.splice(_,1)}Ie(o,function(w,R){E[w]=R});var x=Kt(Kt({},n),E);x[bt.internalSdkVersion]||(x[bt.internalSdkVersion]=st(t,"javascript:".concat(yF.Version),64)),r[un]=Rm(x)}function ps(t,e,r){Y(t)||Ie(t,function(n,i){Si(i)?r[n]=i:he(i)?e[n]=i:Qi()&&(e[n]=rn()[ss](i))})}function Rc(t,e){Y(t)||Ie(t,function(r,n){t[r]=n||e})}function Ac(t,e,r,n){var i=new zy(t,n,e);Xt(i,"sampleRate",r[If]),(r[At]||{}).startTime&&(i.time=di(r[At].startTime)),i.iKey=r.iKey;var o=r.iKey.replace(/-/g,"");return i[ao]=i[ao].replace("{0}",o),EF(t,r,i),r[un]=r[un]||[],Rm(i)}function kc(t,e){Y(e[At])&&z(t,1,46,"telemetryItem.baseData cannot be null.")}var yF={Version:"3.3.2"};function GI(t,e,r){kc(t,e);var n=e[At][cs]||{},i=e[At][In]||{};ps(e[Yn],i,n),Y(r)||Rc(i,r);var o=e[At];if(Y(o))return Gr(t,"Invalid input for dependency data"),null;var a=o[In]&&o[In][og]?o[In][og]:"GET",s=new mi(t,o.id,o.target,o[ao],o[as],o.success,o.responseCode,a,o.type,o.correlationContext,i,n),c=new Go(mi[vi],s);return Ac(t,mi[us],e,c)}function xb(t,e,r){kc(t,e);var n={},i={};e[Tb]!==pi[vi]&&(n.baseTypeSource=e[Tb]),e[Tb]===pi[vi]?(n=e[At][In]||{},i=e[At][cs]||{}):e[At]&&ps(e[At],n,i),ps(e[Yn],n,i),Y(r)||Rc(n,r);var o=e[At][ao],a=new pi(t,o,n,i),s=new Go(pi[vi],a);return Ac(t,pi[us],e,s)}function HI(t,e,r){kc(t,e);var n=e[At][cs]||{},i=e[At][In]||{};ps(e[Yn],i,n),Y(r)||Rc(i,r);var o=e[At],a=Kn.CreateFromInterface(t,o,i,n),s=new Go(Kn[vi],a);return Ac(t,Kn[us],e,s)}function zI(t,e,r){kc(t,e);var n=e[At],i=n[In]||{},o=n[cs]||{};ps(e[Yn],i,o),Y(r)||Rc(i,r);var a=new hi(t,n[ao],n.average,n.sampleCount,n.min,n.max,n.stdDev,i,o),s=new Go(hi[vi],a);return Ac(t,hi[us],e,s)}function qI(t,e,r){kc(t,e);var n,i=e[At];!Y(i)&&!Y(i[In])&&!Y(i[In][as])?(n=i[In][as],delete i[In][as]):!Y(e[Yn])&&!Y(e[Yn][as])&&(n=e[Yn][as],delete e[Yn][as]);var o=e[At],a;((e.ext||{}).trace||{})[wc]&&(a=e.ext.trace[wc]);var s=o.id||a,c=o[ao],u=o.uri,l=o[In]||{},p=o[cs]||{};if(Y(o.refUri)||(l.refUri=o.refUri),Y(o.pageType)||(l.pageType=o.pageType),Y(o.isLoggedIn)||(l.isLoggedIn=o.isLoggedIn[$o]()),!Y(o[In])){var m=o[In];Ie(m,function(E,_){l[E]=_})}ps(e[Yn],l,p),Y(r)||Rc(l,r);var h=new xr(t,c,u,n,l,p,s),g=new Go(xr[vi],h);return Ac(t,xr[us],e,g)}function $I(t,e,r){kc(t,e);var n=e[At],i=n[ao],o=n.uri||n.url,a=n[In]||{},s=n[cs]||{};ps(e[Yn],a,s),Y(r)||Rc(a,r);var c=new oo(t,i,o,void 0,a,s,n),u=new Go(oo[vi],c);return Ac(t,oo[us],e,u)}function WI(t,e,r){kc(t,e);var n=e[At].message,i=e[At].severityLevel,o=e[At][In]||{},a=e[At][cs]||{};ps(e[Yn],o,a),Y(r)||Rc(o,r);var s=new io(t,n,i,o,a),c=new Go(io[vi],s);return Ac(t,io[us],e,c)}var KI=function(){function t(e,r){var n=[],i=!1,o=r.maxRetryCnt;this[hl]=function(){return n},this._set=function(a){return n=a,n},Ye(t,this,function(a){a[Wo]=function(s){if(a[Ko]()>=r[Ug]){i||(z(e,2,105,"Maximum in-memory buffer size reached: "+a[Ko](),!0),i=!0);return}s.cnt=s.cnt||0,!(!Y(o)&&s.cnt>o)&&n[_i](s)},a[Ko]=function(){return n[Xe]},a.size=function(){for(var s=n[Xe],c=0;c<n[Xe];c++)s+=n[c].item[Xe];return r[ep]||(s+=2),s},a[ls]=function(){n=[],i=!1},a.getItems=function(){return n.slice(0)},a.batchPayloads=function(s){if(s&&s[Xe]>0){var c=[];K(s,function(l){c[_i](l[ml])});var u=r[ep]?c.join(`
`):"["+c.join(",")+"]";return u}return null},a[tp]=function(s,c,u){var l=n.slice(0);s=s||e,c=c||{};var p=u?new Nb(s,c):new Qg(s,c);return K(l,function(m){p[Wo](m)}),p}})}return t.__ieDyn=1,t}(),Qg=function(t){Nn(e,t);function e(r,n){var i=t.call(this,r,n)||this;return Ye(e,i,function(o,a){o[gl]=function(s){a[ls]()},o[Mc]=function(s){}}),i}return e.__ieDyn=1,e}(KI);var bF=["AI_buffer","AI_sentBuffer"],Nb=function(t){Nn(e,t);function e(n,i){var o=t.call(this,n,i)||this,a=!1,s=i?.namePrefix,c=i[np]||{getItem:il,setItem:Lf},u=c.getItem,l=c.setItem,p=i.maxRetryCnt;return Ye(e,o,function(m,h){var g=R(e[Yg]),E=R(e[Xo]),_=A(),y=E[ds](_),x=m._set(g[ds](y));x[Xe]>e[vl]&&(x[Xe]=e[vl]),Q(e[Xo],[]),Q(e[Yg],x),m[Wo]=function(q){if(m[Ko]()>=e[vl]){a||(z(n,2,67,"Maximum buffer size reached: "+m[Ko](),!0),a=!0);return}q.cnt=q.cnt||0,!(!Y(p)&&q.cnt>p)&&(h[Wo](q),Q(e.BUFFER_KEY,m[hl]()))},m[ls]=function(){h[ls](),Q(e.BUFFER_KEY,m[hl]()),Q(e[Xo],[]),a=!1},m[gl]=function(q){Q(e[Yg],m._set(w(q,m[hl]())));var G=R(e[Xo]);G instanceof Array&&q instanceof Array&&(G=G[ds](q),G[Xe]>e[vl]&&(z(n,1,67,"Sent buffer reached its maximum size: "+G[Xe],!0),G[Xe]=e[vl]),Q(e[Xo],G))},m[Mc]=function(q){var G=R(e[Xo]);G=w(q,G),Q(e[Xo],G)},m[tp]=function(q,G,ee){ee=!!ee;var ye=m[hl]().slice(0),ue=R(e[Xo]).slice(0);q=q||n,G=G||{},m[ls]();var T=ee?new e(q,G):new Qg(q,G);return K(ye,function(I){T[Wo](I)}),ee&&T[gl](ue),T};function w(q,G){var ee=[],ye=[];return K(q,function(ue){ye[_i](ue[ml])}),K(G,function(ue){!me(ue)&&xt(ye,ue[ml])===-1&&ee[_i](ue)}),ee}function R(q){var G=q;return G=s?s+"_"+G:G,j(G)}function j(q){try{var G=u(n,q);if(G){var ee=rn().parse(G);if(he(ee)&&(ee=rn().parse(ee)),ee&&Oe(ee))return ee}}catch(ye){z(n,1,42," storage key: "+q+", "+Qe(ye),{exception:te(ye)})}return[]}function Q(q,G){var ee=q;try{ee=s?s+"_"+ee:ee;var ye=JSON[ss](G);l(n,ee,ye)}catch(ue){l(n,ee,JSON[ss]([])),z(n,2,41," storage key: "+ee+", "+Qe(ue)+". Buffer cleared",{exception:te(ue)})}}function A(){var q=[];try{return K(bF,function(G){var ee=D(G);if(q=q[ds](ee),s){var ye=s+"_"+G,ue=D(ye);q=q[ds](ue)}}),q}catch(G){z(n,2,41,"Transfer events from previous buffers: "+Qe(G)+". previous Buffer items can not be removed",{exception:te(G)})}return[]}function D(q){try{var G=j(q),ee=[];return K(G,function(ye){var ue={item:ye,cnt:0};ee[_i](ue)}),Uf(n,q),ee}catch{}return[]}}),o}var r;return r=e,e.VERSION="_1",e.BUFFER_KEY="AI_buffer"+r.VERSION,e.SENT_BUFFER_KEY="AI_sentBuffer"+r.VERSION,e.MAX_BUFFER_SIZE=2e3,e}(KI);var XI=function(){function t(e){Ye(t,this,function(r){r[yl]=function(a){var s=n(a,"root");try{return rn()[ss](s)}catch(c){z(e,1,48,c&&me(c[$o])?c[$o]():"Error serializing object",null,!0)}};function n(a,s){var c="__aiCircularRefCheck",u={};if(!a)return z(e,1,48,"cannot serialize object because it is null or undefined",{name:s},!0),u;if(a[c])return z(e,2,50,"Circular reference detected while serializing object",{name:s},!0),u;if(!a.aiDataContract){if(s==="measurements")u=o(a,"number",s);else if(s==="properties")u=o(a,"string",s);else if(s==="tags")u=o(a,"string",s);else if(Oe(a))u=i(a,s);else{z(e,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:s},!0);try{rn()[ss](a),u=a}catch(l){z(e,1,48,l&&me(l[$o])?l[$o]():"Error serializing object",null,!0)}}return u}return a[c]=!0,Ie(a.aiDataContract,function(l,p){var m=me(p)?p()&1:p&1,h=me(p)?p()&4:p&4,g=p&2,E=a[l]!==void 0,_=zt(a[l])&&a[l]!==null;if(m&&!E&&!g)z(e,1,24,"Missing required field specification. The field is required but not present on source",{field:l,name:s});else if(!h){var y=void 0;_?g?y=i(a[l],l):y=n(a[l],l):y=a[l],y!==void 0&&(u[l]=y)}}),delete a[c],u}function i(a,s){var c;if(a)if(!Oe(a))z(e,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:s},!0);else{c=[];for(var u=0;u<a[Xe];u++){var l=a[u],p=n(l,s+"["+u+"]");c[_i](p)}}return c}function o(a,s,c){var u;return a&&(u={},Ie(a,function(l,p){if(s==="string")p===void 0?u[l]="undefined":p===null?u[l]="null":p[$o]?u[l]=p[$o]():u[l]="invalid field: toString() is not defined.";else if(s==="number")if(p===void 0)u[l]="undefined";else if(p===null)u[l]="null";else{var m=parseFloat(p);u[l]=m}else u[l]="invalid field: "+c+" is of unknown type.",z(e,1,u[l],null,!0)})),u}})}return t.__ieDyn=1,t}();var CF=8,QI=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var r=this.getHashCode(e)/t.INT_MAX_VALUE;return r*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e[Xe]<CF;)e=e[ds](e);for(var r=5381,n=0;n<e[Xe];++n)r=(r<<5)+r+e.charCodeAt(n),r=r&r;return Math.abs(r)},t.INT_MAX_VALUE=2147483647,t}();var JI=function(){function t(){var e=this,r=new QI,n=new jf;e[Xg]=function(i){var o=0;return i[un]&&i[un][n.userId]?o=r.getHashCodeScore(i[un][n.userId]):i.ext&&i.ext.user&&i.ext.user.id?o=r[BI](i.ext.user.id):i[un]&&i[un][n.operationId]?o=r.getHashCodeScore(i[un][n.operationId]):i.ext&&i.ext.telemetryTrace&&i.ext.telemetryTrace[wc]?o=r.getHashCodeScore(i.ext.telemetryTrace[wc]):o=Math.random()*100,o}}return t}();var ZI=function(){function t(e,r){this.INT_MAX_VALUE=2147483647;var n=r||cr(null);(e>100||e<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[bl]=e,this.samplingScoreGenerator=new JI}return t.prototype.isSampledIn=function(e){var r=this[bl],n=!1;return r==null||r>=100||e.baseType===hi[vi]?!0:(n=this.samplingScoreGenerator[Xg](e)<r,n)},t}();var Mt,Jo,so=void 0,e1="",SF=65e3;function t1(t){try{return t.responseText}catch{}return null}function TF(t){return t&&t.sendPOST}var n1=Fr((Mt={endpointUrl:Ya(Ta,mc+no)},Mt[ep]=Yt(),Mt[Cb]=15e3,Mt[pb]=102400,Mt.disableTelemetry=Yt(),Mt[mb]=Yt(!0),Mt.isRetryDisabled=Yt(),Mt[Gg]=Yt(!0),Mt[vb]=Yt(!0),Mt[Hg]=Yt(),Mt[gb]=Yt(),Mt[jg]=Yt(),Mt[_b]=so,Mt.namePrefix=so,Mt.samplingPercentage=Ya(xF,100),Mt[Bg]=so,Mt[bb]=so,Mt[Ug]=1e4,Mt[np]=!1,Mt.httpXHROverride={isVal:TF,v:so},Mt[hb]=Yt(),Mt.transports=so,Mt.retryCodes=so,Mt.maxRetryCnt={isVal:Si,v:10},Mt));function xF(t){return!isNaN(t)&&t>0&&t<=100}var NF=(Jo={},Jo[pi.dataType]=xb,Jo[io.dataType]=WI,Jo[xr.dataType]=qI,Jo[oo.dataType]=$I,Jo[Kn.dataType]=HI,Jo[hi.dataType]=zI,Jo[mi.dataType]=GI,Jo),Db=function(t){Nn(e,t);function e(){var r=t.call(this)||this;r.priority=1001,r.identifier=Cg;var n,i,o,a,s,c,u,l,p=0,m,h,g,E,_,y,x,w,R,j,Q,A,D,q,G,ee,ye,ue,T,I,$,U,P,ge,be,J,S;return Ye(e,r,function(C,F){Ss(),C.pause=function(){ht(),a=!0},C.resume=function(){a&&(a=!1,i=null,O(),nt())},C.flush=function(N,L,de){if(N===void 0&&(N=!0),!a){ht();try{return C[_l](N,null,de||1)}catch(fe){z(C[Vn](),1,22,"flush failed, telemetry will not be collected: "+Qe(fe),{exception:te(fe)})}}},C.onunloadFlush=function(){if(!a)if(x||I)try{return C[_l](!0,H,2)}catch(N){z(C[Vn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Qe(N),{exception:te(N)})}else C.flush(!1)},C.addHeader=function(N,L){l[N]=L},C[Vg]=function(N,L,de,fe){C.isInitialized()&&z(C[Vn](),1,28,"Sender is already initialized"),F[Vg](N,L,de,fe);var Ge=C.identifier;c=new XI(L.logger),n=0,i=null,o=0,C[El]=null,u=0;var Le=C[Vn]();g=ur(Gt("Sender"),L.evtNamespace&&L.evtNamespace()),h=Zy(g),C._addHook(at(N,function(Ze){var Ft=Ze.cfg;Ft.storagePrefix&&Tc(Ft.storagePrefix);var Jr=an(null,Ft,L),tt=Jr.getExtCfg(Ge,n1);Be(C,"_senderConfig",{g:function(){return tt}}),L.activeStatus()===Ni.PENDING?C.pause():L.activeStatus()===Ni.ACTIVE&&C.resume(),_!==tt.endpointUrl&&(E=_=tt.endpointUrl),j&&j!==tt[Bg]&&K(j,function(wn){delete l[wn.header]}),y=tt[pb],x=(tt[jg]===!1||tt[Gg]===!1)&&ko(),w=tt[jg]===!1&&ko(),R=tt[Gg]===!1&&ko(),I=tt[hb],$=!!tt[Hg],S=tt.retryCodes;var Ov=tt[np],zc=!!tt[mb]&&(!!Ov||Ja()),eC=tt.namePrefix,H1=zc!==ee||zc&&ue!==eC||zc&&ye!==Ov;if(C[Qo]){if(H1)try{C._buffer=C._buffer[tp](Le,tt,zc)}catch(wn){z(C[Vn](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Qe(wn),{exception:te(wn)})}O()}else C[Qo]=zc?new Nb(Le,tt):new Qg(Le,tt);ue=eC,ee=zc,ye=Ov,U=!tt[gb]&&sc(!0),be=!!tt[vb],C._sample=new ZI(tt.samplingPercentage,Le),A=tt[_b],Jn(A,Ft)||z(Le,1,100,"Invalid Instrumentation key "+A),j=tt[Bg],he(E)&&!tl(E)&&j&&j[Xe]>0?K(j,function(wn){r.addHeader(wn.header,wn.value)}):j=null,T=tt[Eb];var tC=Te();J?J.SetConfig(tC):(J=new _y,J[Vg](tC,Le));var Dp=tt.httpXHROverride,Ip=null,zl=null,z1=km([3,1,2],tt.transports);Ip=J&&J[rp](z1,!1);var Pv=J&&J.getFallbackInst();P=function(wn,Ts){return ve(Pv,wn,Ts)},ge=function(wn,Ts){return ve(Pv,wn,Ts,!1)},Ip=I?Dp:Ip||Dp||Pv,C[El]=function(wn,Ts){return ve(Ip,wn,Ts)},U&&(m=Pe);var wv=km([3,1],tt[yb]);U||(wv=wv.filter(function(wn){return wn!==2})),zl=J&&J[rp](wv,!0),zl=I?Dp:zl||Dp,(I||tt[yb]||!m)&&zl&&(m=function(wn,Ts){return ve(zl,wn,Ts)}),m||(m=P),Q=tt.disableTelemetry,D=tt[bb]||so,q=tt.isRetryDisabled,G=tt[Cb]}))},C.processTelemetry=function(N,L){var de;L=C._getTelCtx(L);var fe=L[Vn]();try{var Ge=yi(N,fe);if(!Ge)return;var Le=It(N,fe);if(!Le)return;var Ze=c[yl](Le),Ft=C[Qo];O(Ze);var Jr=(de={},de[ml]=Ze,de.cnt=0,de);Ft[Wo](Jr),nt()}catch(tt){z(fe,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Qe(tt),{exception:te(tt)})}C.processNext(N,L)},C.isCompletelyIdle=function(){return!a&&p===0&&C._buffer[Ko]()===0},C._xhrReadyStateChange=function(N,L,de){if(!Ee(L))return Fe(N,L,de)},C[_l]=function(N,L,de){N===void 0&&(N=!0);var fe;if(!a)try{var Ge=C[Qo];if(Q)Ge[ls]();else{if(Ge[Ko]()>0){var Le=Ge.getItems();Or(de||0,N),L?fe=L.call(C,Le,N):fe=C[El](Le,N)}o=+new Date}ht()}catch(Ft){var Ze=df();(!Ze||Ze>9)&&z(C[Vn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Qe(Ft),{exception:te(Ft)})}return fe},C.getOfflineSupport=function(){var N;return N={getUrl:function(){return E},createPayload:B},N[yl]=On,N.batch=Pn,N.shouldProcess=function(L){return!!yi(L)},N},C._doTeardown=function(N,L){C.onunloadFlush(),Fo(h,!1),Ss()},C[fs]=function(N,L,de){if(!Ee(N))return et(N,L,de)},C[zg]=function(N,L){if(!Ee(N))return We(N,L)},C[ip]=function(N,L){if(!Ee(N))return Rt(N,L)},C._xdrOnLoad=function(N,L){if(!Ee(L))return Z(N,L)};function Z(N,L){var de=t1(N);if(N&&(de+""=="200"||de===""))n=0,C[ip](L,0);else{var fe=xf(de);fe&&fe[qg]&&fe[qg]>fe[$g]&&!q?C[zg](L,fe):C[fs](L,uf(N))}}function Te(){var N;try{var L={xdrOnComplete:function(fe,Ge,Le){var Ze=pr(Le);if(Ze)return Z(fe,Ze)},fetchOnComplete:function(fe,Ge,Le,Ze){var Ft=pr(Ze);if(Ft)return V(fe.status,Ft,fe.url,Ft[Xe],fe.statusText,Le||"")},xhrOnComplete:function(fe,Ge,Le){var Ze=pr(Le);if(Ze)return Fe(fe,Ze,Ze[Xe])},beaconOnRetry:function(fe,Ge,Le){return ne(fe,Ge,Le)}},de=(N={},N[Eb]=T,N.isOneDs=!1,N.disableCredentials=!1,N[Hg]=$,N.disableBeacon=!R,N.disableBeaconSync=!w,N.senderOnCompleteCallBack=L,N);return de}catch{}return null}function Fe(N,L,de){N.readyState===4&&V(N.status,L,N.responseURL,de,ac(N),t1(N)||N.response)}function et(N,L,de){z(C[Vn](),2,26,"Failed to send telemetry.",{message:L}),C._buffer&&C._buffer[Mc](N)}function We(N,L){for(var de=[],fe=[],Ge=L.errors.reverse(),Le=0,Ze=Ge;Le<Ze.length;Le++){var Ft=Ze[Le],Jr=N.splice(Ft.index,1)[0];kt(Ft.statusCode)?fe[_i](Jr):de[_i](Jr)}N[Xe]>0&&C[ip](N,L[$g]),de[Xe]>0&&C[fs](de,ac(null,["partial success",L[$g],"of",L.itemsReceived].join(" "))),fe[Xe]>0&&(Ke(fe),z(C[Vn](),2,40,"Partial success. Delivered: "+N[Xe]+", Failed: "+de[Xe]+". Will retry to send "+fe[Xe]+" our of "+L[qg]+" items"))}function Rt(N,L){C._buffer&&C._buffer[Mc](N)}function pr(N){try{if(N){var L=N,de=L[Wg];return de&&de[Xe]?de:null}}catch{}return null}function yi(N,L){if(Q)return!1;if(!N)return L&&z(L,1,7,"Cannot send empty telemetry"),!1;if(N.baseData&&!N[Kg])return L&&z(L,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(N[Kg]||(N[Kg]="EventData"),!C[El])return L&&z(L,1,28,"Sender was not initialized"),!1;if(se(N))N[If]=C._sample[bl];else return L&&z(L,2,33,"Telemetry item was sampled out and not sent",{SampleRate:C._sample[bl]}),!1;return!0}function It(N,L){var de=N.iKey||A,fe=e.constructEnvelope(N,de,L,D);if(!fe){z(L,1,47,"Unable to create an AppInsights envelope");return}var Ge=!1;if(N[un]&&N[un][Of]&&(K(N[un][Of],function(Le){try{Le&&Le(fe)===!1&&(Ge=!0,Gr(L,"Telemetry processor check returns false"))}catch(Ze){z(L,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Qe(Ze),{exception:te(Ze)},!0)}}),delete N[un][Of]),!Ge)return fe}function On(N){var L=e1,de=C[Vn]();try{var fe=yi(N,de),Ge=null;fe&&(Ge=It(N,de)),Ge&&(L=c[yl](Ge))}catch{}return L}function Pn(N){var L=e1;return N&&N[Xe]&&(L="["+N.join(",")+"]"),L}function B(N){var L,de=ct();return L={urlString:E},L[Yn]=N,L.headers=de,L}function se(N){return C._sample.isSampledIn(N)}function Me(N,L,de,fe){L===200&&N?C._onSuccess(N,N[Xe]):fe&&C[fs](N,fe)}function ve(N,L,de,fe){fe===void 0&&(fe=!0);var Ge=function(Ft,Jr,tt){return Me(L,Ft,Jr,tt)},Le=Ae(L),Ze=N&&N.sendPOST;return Ze&&Le?(fe&&C._buffer[gl](L),Ze(Le,Ge,!de)):null}function Ae(N){var L;if(Oe(N)&&N[Xe]>0){var de=C[Qo].batchPayloads(N),fe=ct(),Ge=(L={},L[Yn]=de,L.urlString=E,L.headers=fe,L.disableXhrSync=$,L.disableFetchKeepAlive=!U,L[Wg]=N,L);return Ge}return null}function ct(){try{var N=l||{};return tl(E)&&(N[pt[6]]=pt[7]),N}catch{}return null}function O(N){var L=N?N[Xe]:0;return C[Qo].size()+L>y?((!h||h.isOnline())&&C[_l](!0,null,10),!0):!1}function V(N,L,de,fe,Ge,Le){var Ze=null;if(C._appId||(Ze=xf(Le),Ze&&Ze.appId&&(C._appId=Ze.appId)),(N<200||N>=300)&&N!==0){if((N===301||N===307||N===308)&&!X(de)){C[fs](L,Ge);return}if(h&&!h.isOnline()){if(!q){var Ft=10;Ke(L,Ft),z(C[Vn](),2,40,". Offline - Response Code: ".concat(N,". Offline status: ").concat(!h.isOnline(),". Will retry to send ").concat(L.length," items."))}return}!q&&kt(N)?(Ke(L),z(C[Vn](),2,40,". Response code "+N+". Will retry to send "+L[Xe]+" items.")):C[fs](L,Ge)}else X(de),N===206?(Ze||(Ze=xf(Le)),Ze&&!q?C[zg](L,Ze):C[fs](L,Ge)):(n=0,C[ip](L,fe))}function X(N){return u>=10?!1:!Y(N)&&N!==""&&N!==E?(E=N,++u,!0):!1}function H(N,L){if(m)m(N,!1);else{var de=J&&J[rp]([3],!0);return ve(de,N,L)}}function ne(N,L,de){var fe=N,Ge=fe&&fe[Wg];if(be)ge&&ge(Ge,!0),z(C[Vn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Le=[],Ze=0;Ze<Ge[Xe];Ze++){var Ft=Ge[Ze],Jr=[Ft],tt=Ae(Jr);de(tt,L)?C._onSuccess(Jr,Jr[Xe]):Le[_i](Ft)}Le[Xe]>0&&(ge&&ge(Le,!0),z(C[Vn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Ee(N){try{if(N&&N[Xe])return he(N[0])}catch{}return null}function Pe(N,L){var de=null;if(Oe(N)){for(var fe=N[Xe],Ge=0;Ge<N[Xe];Ge++)fe+=N[Ge].item[Xe];var Le=J.getSyncFetchPayload();Le+fe<=SF?de=2:ko()?de=3:(de=1,z(C[Vn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ze=J&&J[rp]([de],!0);return ve(Ze,N,L)}return null}function Ke(N,L){if(L===void 0&&(L=1),!(!N||N[Xe]===0)){var de=C[Qo];de[Mc](N),n++;for(var fe=0,Ge=N;fe<Ge.length;fe++){var Le=Ge[fe];Le.cnt=Le.cnt||0,Le.cnt++,de[Wo](Le)}ke(L),nt()}}function ke(N){var L=10,de;if(n<=1)de=L;else{var fe=(Math.pow(2,n)-1)/2,Ge=Math.floor(Math.random()*fe*L)+1;Ge=N*Ge,de=Math.max(Math.min(Ge,3600),L)}var Le=mn()+de*1e3;i=Le}function nt(){if(!s&&!a){var N=i?Math.max(0,i-mn()):0,L=Math.max(G,N);s=Wt(function(){s=null,C[_l](!0,null,1)},L)}}function ht(){s&&s.cancel(),s=null,i=null}function kt(N){return Y(S)?N===401||N===408||N===429||N===500||N===502||N===503||N===504:S[Xe]&&S.indexOf(N)>-1}function Qr(){var N="getNotifyMgr";return C.core[N]?C.core[N]():C.core._notificationManager}function Or(N,L){var de=Qr();if(de&&de[Sb])try{de[Sb](N,L)}catch(fe){z(C[Vn](),1,74,"send request notification failed: "+Qe(fe),{exception:te(fe)})}}function Jn(N,L){var de=L.disableInstrumentationKeyValidation,fe=Y(de)?!1:de;if(fe)return!0;var Ge="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Le=new RegExp(Ge);return Le.test(N)}function Ss(){C[El]=null,C[Qo]=null,C._appId=null,C._sample=null,l={},h=null,n=0,i=null,o=null,a=!1,s=null,c=null,u=0,p=0,m=null,g=null,E=null,_=null,y=0,x=!1,j=null,Q=!1,A=null,D=so,q=!1,ee=null,ue=so,$=!1,U=!1,be=!1,P=null,ge=null,J=null,Be(C,"_senderConfig",{g:function(){return Am({},n1)}})}}),r}return e.constructEnvelope=function(r,n,i,o){var a;n!==r.iKey&&!Y(n)?a=Kt(Kt({},r),{iKey:n}):a=r;var s=NF[a.baseType]||xb;return s(i,a,o)},e}(zr);var Ib="duration",Zo="properties";var Wr="requestUrl",Cl="inst",ea="length",ki="traceID",co="spanID",Dr="traceFlags",Sl="context",hs="aborted",Tl="traceId",xl="spanId",op="_addHook",Ei="core",Jg="includeCorrelationHeaders",ap="getAbsoluteUrl",ms="headers",Ir="requestHeaders",Zg="setRequestHeader",Ob="trackDependencyDataInternal",ta="startTime",Fc="toLowerCase",ev="enableRequestHeaderTracking",Pb="enableAjaxErrorStatusText",wb="enableAjaxPerfTracking",Mb="maxAjaxCallsPerView",Rb="excludeRequestFromAutoTrackingPatterns",Ab="addRequestContext",tv="disableAjaxTracking",kb="ajaxPerfLookupDelay",Fb="disableFetchTracking",Lb="enableResponseHeaderTracking",Kr="status",na="statusText",gs="headerMap",sp="openDone",cp="sendDone",ra="requestSentTime",up="abortDone",lp="getTraceId",dp="getTraceFlags",uo="method",fp="errorStatusText",nv="stateChangeAttached",Ub="responseText",Lc="responseFinishedTime",pp="CreateTrackItem",rv="response",Yb="getAllResponseHeaders",hp="getPartAProps",Nl="perfMark",vs="name",mp="perfTiming",Dl="exception",Vb="ajaxDiagnosticsMessage",gp="correlationContext",iv="ajaxTotalDuration",ov="eventTraceCtx";function r1(t,e,r){var n=0,i=t[e],o=t[r];return i&&o&&(n=En(i,o)),n}function Uc(t,e,r,n,i){var o=0,a=r1(r,n,i);return a&&(o=_s(t,e,qr(a))),o}function _s(t,e,r){var n="ajaxPerf",i=0;if(t&&e&&r){var o=t[n]=t[n]||{};o[e]=r,i=1}return i}function DF(t,e){var r=t[mp],n=e[Zo]||{},i=0,o="name",a="Start",s="End",c="domainLookup",u="connect",l="redirect",p="request",m="response",h="startTime",g=c+a,E=c+s,_=u+a,y=u+s,x=p+a,w=p+s,R=m+a,j=m+s,Q=l+a,A=l=s,D="transferSize",q="encodedBodySize",G="decodedBodySize",ee="serverTiming";if(r){i|=Uc(n,l,r,Q,A),i|=Uc(n,c,r,g,E),i|=Uc(n,u,r,_,y),i|=Uc(n,p,r,x,w),i|=Uc(n,m,r,R,j),i|=Uc(n,"networkConnect",r,h,y),i|=Uc(n,"sentRequest",r,x,j);var ye=r[Ib];ye||(ye=r1(r,h,j)||0),i|=_s(n,Ib,ye),i|=_s(n,"perfTotal",ye);var ue=r[ee];if(ue){var T={};K(ue,function(I,$){var U=ic(I[o]||""+$),P=T[U]||{};Ie(I,function(ge,be){(ge!==o&&he(be)||Si(be))&&(P[ge]&&(be=P[ge]+";"+be),(be||!he(be))&&(P[ge]=be))}),T[U]=P}),i|=_s(n,ee,T)}i|=_s(n,D,r[D]),i|=_s(n,q,r[q]),i|=_s(n,G,r[G])}else t[Nl]&&(i|=_s(n,"missing",t.perfAttempts));i&&(e[Zo]=n)}var IF=function(){function t(){var e=this;e[sp]=!1,e.setRequestHeaderDone=!1,e[cp]=!1,e[up]=!1,e[nv]=!1}return t}();var Bb=function(){function t(e,r,n,i){var o,a=this,s=n,c="responseText";a[Nl]=null,a.completed=!1,a.requestHeadersSize=null,a[Ir]=null,a.responseReceivingDuration=null,a.callbackDuration=null,a[iv]=null,a[hs]=0,a.pageUrl=null,a[Wr]=null,a.requestSize=0,a[uo]=null,a[Kr]=null,a[ra]=null,a.responseStartedTime=null,a[Lc]=null,a.callbackFinishedTime=null,a.endTime=null,a.xhrMonitoringState=new IF,a.clientFailure=0,a[ki]=e,a[co]=r,a[Dr]=i?.getTraceFlags(),i?a[ov]=(o={},o[Tl]=i[lp](),o[xl]=i.getSpanId(),o[Dr]=i[dp](),o):a[ov]=null,Ye(t,a,function(u){u.getAbsoluteUrl=function(){return u[Wr]?Ly(u[Wr]):null},u.getPathName=function(){return u[Wr]?jo(s,Uy(u[uo],u[Wr])):null},u[pp]=function(l,p,m){var h;if(u.ajaxTotalDuration=Math.round(En(u.requestSentTime,u.responseFinishedTime)*1e3)/1e3,u[iv]<0)return null;var g=(h={id:"|"+u[ki]+"."+u[co],target:u[ap]()},h[vs]=u.getPathName(),h.type=l,h[ta]=null,h.duration=u[iv],h.success=+u[Kr]>=200&&+u[Kr]<400,h.responseCode=+u[Kr],h[Zo]={HttpMethod:u[uo]},h),E=g[Zo];if(u[hs]&&(E[hs]=!0),u[ra]&&(g[ta]=new Date,g[ta].setTime(u[ra])),DF(u,g),p&&qn(u.requestHeaders)[ea]>0&&(E[Ir]=u[Ir]),m){var _=m();if(_){var y=_[gp];if(y&&(g.correlationContext=y),_[gs]&&qn(_.headerMap)[ea]>0&&(E.responseHeaders=_[gs]),u[fp])if(u[Kr]>=400){var x=_.type;(x===""||x==="text")&&(E.responseText=_.responseText?_[na]+" - "+_[c]:_[na]),x==="json"&&(E.responseText=_.response?_[na]+" - "+JSON.stringify(_[rv]):_[na])}else u[Kr]===0&&(E.responseText=_[na]||"")}}return g},u[hp]=function(){var l,p=null,m=u[ov];if(m&&(m[Tl]||m[xl])){p={};var h=p[Xn.TraceExt]=(l={},l[ki]=m[Tl],l.parentID=m[xl],l);Y(m[Dr])||(h[Dr]=m[Dr])}return p}})}return t.__ieDyn=1,t}();var Ht;var Ep="diagLog",Es="_ajaxData",Yc="fetch",vp="Failed to monitor XMLHttpRequest",l1=", monitoring data for this ajax call ",Il=l1+"may be incorrect.",i1=l1+"won't be sent.",o1="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",a1="Failed to add custom defined request context as configured call back may missing a null check.",s1="Failed to calculate the duration of the ",c1=0;function OF(){var t=qt();return!t||Y(t.Request)||Y(t.Request[$n])||Y(t[Yc])?null:t[Yc]}function PF(t,e){var r,n,i=!1;if(La()){var o=XMLHttpRequest[$n];i=!Y(o)&&!Y(o.open)&&!Y(o.send)&&!Y(o.abort)}var a=df();if(a&&a<9&&(i=!1),i)try{var s=new XMLHttpRequest,c={xh:[],i:(r={},r[e]={},r)};s[Es]=c;var u=XMLHttpRequest[$n].open;XMLHttpRequest[$n].open=u}catch(l){i=!1,yp(t,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",(n={},n[Dl]=te(l),n))}return i}var Pl=function(t,e){return t&&e&&t[Es]?(t[Es].i||{})[e]:null},wF=function(t,e,r){if(t){var n=(t[Es]||{}).xh;n&&n.push({n:e,v:r})}},jb=function(t,e){var r=!1;if(t){var n=(t[Es]||{}).xh;n&&K(n,function(i){if(i.n===e)return r=!0,-1})}return r};function sv(t,e){var r="";try{var n=Pl(t,e);n&&n[Wr]&&(r+="(url: '"+n[Wr]+"')")}catch{}return r}function yp(t,e,r,n,i){z(t[Ep](),1,e,r,n,i)}function ia(t,e,r,n,i){z(t[Ep](),2,e,r,n,i)}function _p(t,e,r){return function(n){var i;yp(t,e,r,(i={ajaxDiagnosticsMessage:sv(n[Cl],t._ajaxDataId)},i[Dl]=te(n.err),i))}}function Ol(t,e){return t&&e?Lt(t,e):-1}function u1(t,e,r){var n={id:e,fn:r};return t.push(n),{remove:function(){K(t,function(i,o){if(i.id===n.id)return t.splice(o,1),-1})}}}function d1(t,e,r,n){var i=!0;return K(e,function(o,a){try{o.fn.call(null,r)===!1&&(i=!1)}catch(s){z(t&&t.logger,1,64,"Dependency "+n+" [#"+a+"] failed: "+Qe(s),{exception:te(s)},!0)}}),i}function MF(t,e,r,n,i,o){var a,s=t[ea];if(s>0){var c=(a={},a[Ei]=e,a.xhr=n,a.input=i,a.init=o,a.traceId=r[ki],a.spanId=r[co],a.traceFlags=r[Dr],a.context=r[Sl]||{},a.aborted=!!r[hs],a);d1(e,t,c,"listener"),r[ki]=c[Tl],r[co]=c[xl],r[Dr]=c[Dr],r[Sl]=c[Sl]}}var av="*.blob.core.",f1=Lr([av+"windows.net",av+"chinacloudapi.cn",av+"cloudapi.de",av+"usgovcloudapi.net"]),RF=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],AF=Lr((Ht={},Ht[Mb]=500,Ht[tv]=!1,Ht[Fb]=!1,Ht[Rb]=void 0,Ht.disableCorrelationHeaders=!1,Ht.distributedTracingMode=1,Ht.correlationHeaderExcludedDomains=f1,Ht.correlationHeaderDomains=void 0,Ht.correlationHeaderExcludePatterns=void 0,Ht.appId=void 0,Ht.enableCorsCorrelation=!1,Ht[ev]=!1,Ht[Lb]=!1,Ht[Pb]=!1,Ht[wb]=!1,Ht.maxAjaxPerfLookupAttempts=3,Ht[kb]=25,Ht.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],Ht[Ab]=void 0,Ht.addIntEndpoints=!0,Ht)),Gb=function(t){Nn(e,t);function e(){var r=t.call(this)||this;r.identifier=e.identifier,r.priority=120;var n,i,o,a,s,c,u,l,p,m,h,g,E,_,y,x,w,R,j,Q,A,D,q,G,ee,ye,ue,T,I,$;return Ye(e,r,function(U,P){var ge=P[op];be(),U.initialize=function(O,V,X,H){U.isInitialized()||(P.initialize(O,V,X,H),Q=ur(Gt("ajax"),V&&V.evtNamespace&&V.evtNamespace()),J(O),Te(),F(),S())},U._doTeardown=function(){be()},U.trackDependencyData=function(O,V){ct(G,U[Ei],null,O,V)},U[Jg]=function(O,V,X,H){var ne=U._currentWindowHost||o;if(MF(q,U[Ei],O,H,V,X),V||V===""){if(gg(a,O[ap](),ne)){X||(X={});var Ee=new Headers(X[ms]||(V instanceof Request?V[ms]||{}:{}));if(m){var Pe="|"+O[ki]+"."+O[co];Ee.set(pt[3],Pe),s&&(O[Ir][pt[3]]=Pe)}var Ke=I||l&&l.appId();if(Ke&&(Ee.set(pt[0],pt[2]+Ke),s&&(O[Ir][pt[0]]=pt[2]+Ke)),p){var ke=O[Dr];Y(ke)&&(ke=1);var nt=Sf(Cf(O[ki],O[co],ke));Ee.set(pt[4],nt),s&&(O[Ir][pt[4]]=nt)}X[ms]=Ee}return X}else if(H){if(gg(a,O[ap](),ne)){if(m)if(jb(H,pt[3]))ia(U,71,"Unable to set ["+pt[3]+"] as it has already been set by another instance");else{var Pe="|"+O[ki]+"."+O[co];H[Zg](pt[3],Pe),s&&(O[Ir][pt[3]]=Pe)}var Ke=I||l&&l.appId();if(Ke&&(jb(H,pt[0])?ia(U,71,"Unable to set ["+pt[0]+"] as it has already been set by another instance"):(H[Zg](pt[0],pt[2]+Ke),s&&(O[Ir][pt[0]]=pt[2]+Ke))),p){var ke=O[Dr];if(Y(ke)&&(ke=1),jb(H,pt[4]))ia(U,71,"Unable to set ["+pt[4]+"] as it has already been set by another instance");else{var nt=Sf(Cf(O[ki],O[co],ke));H[Zg](pt[4],nt),s&&(O[Ir][pt[4]]=nt)}}}return H}},U[Ob]=function(O,V,X){if(E===-1||u<E){(T===2||T===1)&&typeof O.id=="string"&&O.id[O.id[ea]-1]!=="."&&(O.id+="."),Y(O[ta])&&(O[ta]=new Date);var H=gi(O,mi.dataType,mi.envelopeType,U[Ep](),V,X);U[Ei].track(H)}else u===E&&yp(U,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++u},U.addDependencyListener=function(O){return u1(q,D++,O)},U.addDependencyInitializer=function(O){return u1(G,D++,O)};function be(){var O=Ln();n=!1,i=!1,$=!1,o=O&&O.host&&O.host[Fc](),a=null,s=!1,c=!1,u=0,l=null,p=!1,m=!1,h=null,g=!1,E=0,_=!1,y={},x=!1,w=!1,R=null,j=null,Q=null,D=0,q=[],G=[],A=Gt("ajaxData"),U._ajaxDataId=A,ee=null,ye=1,ue=1,T=1,I=null}function J(O){U[op](at(O,function(V){var X=V.cfg,H=an(null,X,U[Ei]);a=H.getExtCfg(e.identifier,AF),T=a.distributedTracingMode,s=a[ev],c=a[Pb],g=a[wb],E=a[Mb],R=[].concat(a[Rb]||[],a.addIntEndpoints!==!1?RF:[]),j=a[Ab],m=T===0||T===1,p=T===1||T===2,g&&(h=A),x=!!a[tv],ye=a.maxAjaxPerfLookupAttempts,ue=a[kb],ee=a.ignoreHeaders,I=a.appId}))}function S(){var O=U[Ei].getPlugin(ts);O&&(l=O.plugin[Sl])}function C(O){var V=!0;return(O||ee)&&K(ee,function(X){if(X[Fc]()===O[Fc]())return V=!1,-1}),V}function F(){var O=OF();if(O){var V=qt(),X=O.polyfill;U[op](at(a,function(){w=!!a[Fb],_=a[Lb],!w&&!n?(ge(Df(V,Yc,{ns:Q,req:function(H,ne,Ee){var Pe;if(!w&&n&&!Fe(null,ne,Ee)&&!(X&&i)){var Ke=H.ctx();Pe=se(ne,Ee);var ke=U[Jg](Pe,ne,Ee);ke!==Ee&&H.set(1,ke),Ke.data=Pe}},rsp:function(H,ne){if(!w){var Ee=H.ctx().data;Ee&&(H.rslt=H.rslt.then(function(Pe){return ve(H,(Pe||{})[Kr],ne,Pe,Ee,function(){var Ke,ke=(Ke={statusText:(Pe||{})[na]},Ke[gs]=null,Ke[gp]=Ae(Pe),Ke);if(_&&Pe){var nt={};Pe.headers.forEach(function(ht,kt){C(kt)&&(nt[kt]=ht)}),ke[gs]=nt}return ke}),Pe}).catch(function(Pe){throw ve(H,0,ne,null,Ee,null,{error:Pe.message||te(Pe)}),Pe}))}},hkErr:_p(U,15,"Failed to monitor Window.fetch"+Il)},!0,Zh())),n=!0):X&&!$&&(ge(Df(V,Yc,{ns:Q,req:function(H,ne,Ee){Fe(null,ne,Ee)}})),$=!0)})),X&&(V[Yc].polyfill=X)}}function Z(O,V,X){ge(Iy(O,V,X))}function Te(){PF(U,A)&&U[op](at(a,function(){x=!!a[tv],s=a[ev],!x&&!i&&(Z(XMLHttpRequest,"open",{ns:Q,req:function(O,V,X,H){if(!x){var ne=O[Cl],Ee=Pl(ne,A);!Fe(ne,X)&&et(ne,Ee,!0)&&((!Ee||!Ee.xhrMonitoringState[sp])&&(Ee=Rt(ne,V,X,H)),pr(ne,Ee))}},hkErr:_p(U,15,vp+".open"+Il)}),Z(XMLHttpRequest,"send",{ns:Q,req:function(O,V){if(!x){var X=O[Cl],H=Pl(X,A);et(X,H)&&!H.xhrMonitoringState[cp]&&(Pn("xhr",H),H[ra]=nl(),U[Jg](H,void 0,void 0,X),H.xhrMonitoringState[cp]=!0)}},hkErr:_p(U,17,vp+Il)}),Z(XMLHttpRequest,"abort",{ns:Q,req:function(O){if(!x){var V=O[Cl],X=Pl(V,A);et(V,X)&&!X.xhrMonitoringState[up]&&(X[hs]=1,X.xhrMonitoringState[up]=!0)}},hkErr:_p(U,13,vp+".abort"+Il)}),Z(XMLHttpRequest,"setRequestHeader",{ns:Q,req:function(O,V,X){if(!x){var H=O[Cl],ne=Pl(H,A);ne&&et(H,ne)&&(wF(H,V,X),s&&C(V)&&ne&&(ne[Ir][V]=X))}},hkErr:_p(U,71,vp+".setRequestHeader"+Il)}),i=!0)}))}function Fe(O,V,X){var H=!1,ne=((he(V)?V:(V||{}).url||"")||"")[Fc]();if(K(R,function(Ke){var ke=Ke;he(Ke)&&(ke=new RegExp(Ke)),H||(H=ke.test(ne))}),H)return H;var Ee=Ol(ne,"?"),Pe=Ol(ne,"#");return(Ee===-1||Pe!==-1&&Pe<Ee)&&(Ee=Pe),Ee!==-1&&(ne=ne.substring(0,Ee)),Y(O)?Y(V)||(H=(typeof V=="object"?V[Zu]===!0:!1)||(X?X[Zu]===!0:!1)):H=O[Zu]===!0||ne[Zu]===!0,!H&&ne&&tl(ne)&&(H=!0),H?y[ne]||(y[ne]=1):y[ne]&&(H=!0),H}function et(O,V,X){var H=!0,ne=i;return Y(O)||(H=X===!0||!Y(V)),ne&&H}function We(){var O=null;return U[Ei]&&U[Ei].getTraceCtx&&(O=U[Ei].getTraceCtx(!1)),!O&&l&&l.telemetryTrace&&(O=Sc(l.telemetryTrace)),O}function Rt(O,V,X,H){var ne,Ee=We(),Pe=Ee&&Ee[lp]()||Hr(),Ke=xi(Hr(),0,16),ke=O[Es]=O[Es]||{xh:[],i:{}},nt=ke.i=ke.i||{},ht=nt[A]=nt[A]||new Bb(Pe,Ke,U[Ep](),(ne=U.core)===null||ne===void 0?void 0:ne.getTraceCtx());return ht[Dr]=Ee&&Ee[dp](),ht[uo]=V,ht[Wr]=X,ht.xhrMonitoringState[sp]=!0,ht[Ir]={},ht.async=H,ht[fp]=c,ht}function pr(O,V){V.xhrMonitoringState[nv]=Sr(O,"readystatechange",function(){var X;try{O&&O.readyState===4&&et(O,V)&&It(O)}catch(ne){var H=te(ne);(!H||Ol(H[Fc](),"c00c023f")===-1)&&yp(U,16,vp+" 'readystatechange' event handler"+Il,(X={},X[Vb]=sv(O,A),X[Dl]=H,X))}},Q)}function yi(O){try{var V=O.responseType;if(V===""||V==="text")return O[Ub]}catch{}return null}function It(O){var V=Pl(O,A);V[Lc]=nl(),V[Kr]=O[Kr];function X(H,ne){var Ee=ne||{};Ee.ajaxDiagnosticsMessage=sv(O,A),H&&(Ee.exception=te(H)),ia(U,14,s1+"ajax call"+i1,Ee)}B("xmlhttprequest",V,function(){try{var H=V[pp]("Ajax",s,function(){var ke,nt=(ke={statusText:O[na]},ke[gs]=null,ke[gp]=On(O),ke.type=O.responseType,ke[Ub]=yi(O),ke.response=O[rv],ke);if(_){var ht=O[Yb]();if(ht){var kt=Nt(ht).split(/[\r\n]+/),Qr={};K(kt,function(Or){var Jn=Or.split(": "),Ss=Jn.shift(),N=Jn.join(": ");C(Ss)&&(Qr[Ss]=N)}),nt[gs]=Qr}}return nt}),ne=void 0;try{j&&(ne=j({status:O[Kr],xhr:O}))}catch{ia(U,104,a1)}if(H){ne!==void 0&&(H[Zo]=Kt(Kt({},H.properties),ne));var Ee=V[hp]();ct(G,U[Ei],V,H,null,Ee)}else X(null,{requestSentTime:V[ra],responseFinishedTime:V[Lc]})}finally{try{var Pe=O[Es]||{i:{}},Ke=Pe.i||{};Ke[A]&&(Ke[A]=null)}catch{}}},function(H){X(H,null)})}function On(O){var V;try{var X=O[Yb]();if(X!==null){var H=Ol(X[Fc](),pt[8]);if(H!==-1){var ne=O.getResponseHeader(pt[0]);return vg(ne)}}}catch(Ee){ia(U,18,o1,(V={},V[Vb]=sv(O,A),V[Dl]=te(Ee),V))}}function Pn(O,V){if(V[Wr]&&h&&g){var X=or();if(X&&me(X.mark)){c1++;var H=h+O+"#"+c1;X.mark(H);var ne=X.getEntriesByName(H);ne&&ne[ea]===1&&(V[Nl]=ne[0])}}}function B(O,V,X,H){var ne=V[Nl],Ee=or(),Pe=ye,Ke=ue,ke=V[Wr],nt=0;(function ht(){try{if(Ee&&ne){nt++;for(var kt=null,Qr=Ee.getEntries(),Or=Qr[ea]-1;Or>=0;Or--){var Jn=Qr[Or];if(Jn){if(Jn.entryType==="resource")Jn.initiatorType===O&&(Ol(Jn[vs],ke)!==-1||Ol(ke,Jn[vs])!==-1)&&(kt=Jn);else if(Jn.entryType==="mark"&&Jn[vs]===ne[vs]){V[mp]=kt;break}if(Jn[ta]<ne[ta]-1e3)break}}}!ne||V[mp]||nt>=Pe||V.async===!1?(ne&&me(Ee.clearMarks)&&Ee.clearMarks(ne[vs]),V.perfAttempts=nt,X()):Wt(ht,Ke)}catch(Ss){H(Ss)}})()}function se(O,V){var X,H=We(),ne=H&&H[lp]()||Hr(),Ee=xi(Hr(),0,16),Pe=new Bb(ne,Ee,U[Ep](),(X=U.core)===null||X===void 0?void 0:X.getTraceCtx());Pe[Dr]=H&&H[dp](),Pe[ra]=nl(),Pe[fp]=c;var Ke;if(O instanceof Request?Ke=(O||{}).url||"":Ke=O,Ke===""){var ke=Ln();ke&&ke.href&&(Ke=K0(ke.href,"#")[0])}Pe[Wr]=Ke;var nt="GET";V&&V[uo]?nt=V[uo]:O&&O instanceof Request&&(nt=O[uo]),Pe[uo]=nt;var ht={};if(s){var kt=new Headers((V?V[ms]:0)||(O instanceof Request?O[ms]||{}:{}));kt.forEach(function(Qr,Or){C(Or)&&(ht[Or]=Qr)})}return Pe[Ir]=ht,Pn(Yc,Pe),Pe}function Me(O){var V="";try{Y(O)||(typeof O=="string"?V+="(url: '".concat(O,"')"):V+="(url: '".concat(O.url,"')"))}catch(X){yp(U,15,"Failed to grab failed fetch diagnostics message",{exception:te(X)})}return V}function ve(O,V,X,H,ne,Ee,Pe){if(!ne)return;function Ke(ke,nt,ht){var kt=ht||{};kt.fetchDiagnosticsMessage=Me(X),nt&&(kt.exception=te(nt)),ia(U,ke,s1+"fetch call"+i1,kt)}ne[Lc]=nl(),ne[Kr]=V,B(Yc,ne,function(){var ke=ne[pp]("Fetch",s,Ee),nt;try{j&&(nt=j({status:V,request:X,response:H}))}catch{ia(U,104,a1)}if(ke){nt!==void 0&&(ke[Zo]=Kt(Kt({},ke.properties),nt));var ht=ne[hp]();ct(G,U[Ei],ne,ke,null,ht)}else Ke(14,null,{requestSentTime:ne[ra],responseFinishedTime:ne[Lc]})},function(ke){Ke(18,ke,null)})}function Ae(O){var V;if(O&&O[ms])try{var X=O[ms].get(pt[0]);return vg(X)}catch(H){ia(U,18,o1,(V={fetchDiagnosticsMessage:Me(O)},V[Dl]=te(H),V))}}function ct(O,V,X,H,ne,Ee){var Pe,Ke=!0,ke=O[ea];if(ke>0){var nt=(Pe={item:H},Pe[Zo]=ne,Pe.sysProperties=Ee,Pe.context=X?X[Sl]:null,Pe.aborted=X?!!X[hs]:!1,Pe);Ke=d1(V,O,nt,"initializer")}Ke&&U[Ob](H,ne,Ee)}}),r}return e.prototype.processTelemetry=function(r,n){this.processNext(r,n)},e.prototype.addDependencyInitializer=function(r){return null},e.identifier="AjaxDependencyPlugin",e}(zr);var p1=function(){function t(){}return t}();var h1=function(){function t(){this.id="browser",this.deviceClass="Browser"}return t}();var kF="3.3.2",m1=function(){function t(e,r){var n=this,i=at(e,function(){var o=e.sdkExtension;n.sdkVersion=(o?o+"_":"")+"javascript:"+kF});r&&r.add(i)}return t}();var g1=function(){function t(){}return t}();var wl="sessionManager",Vc="update",Ml="isUserCookieSet",Rl="isNewUser",cv="getTraceCtx",bp="telemetryTrace",uv="applySessionContext",lv="applyApplicationContext",dv="applyDeviceContext",fv="applyOperationContext",pv="applyUserContext",hv="applyOperatingSystemContxt",mv="applyLocationContext",gv="applyInternalContext",lo="accountId",Al="getSessionId",kl="namePrefix",v1="sessionCookiePostfix",vv="userCookiePostfix",Bc="idLength",Fl="getNewId",jc="length",ys="automaticSession",bs="authenticatedId",Ll="acquisitionDate",Cp="renewalDate",Gc="join",Ul="cookieSeparator",_v="authUserCookieName";var FF="ai_session",LF=864e5,UF=18e5,YF=6e4,Hb=function(){function t(){}return t}();var _1=function(){function t(e,r,n){var i=this,o,a,s=cr(r),c=fc(r),u,l;Ye(t,i,function(p){e||(e={});var m=at(e,function(x){u=e.sessionExpirationMs||LF,l=e.sessionRenewalMs||UF;var w=e.sessionCookiePostfix||e[kl]||"";o=FF+w});n&&n.add(m),p[ys]=new Hb,p[Vc]=function(){var x=mn(),w=!1,R=p[ys];if(R.id||(w=!h(R,x)),!w&&u>0){var j=x-R[Ll],Q=x-R[Cp];w=j<0||Q<0,w=w||j>u,w=w||Q>l}w?E(x):(!a||x-a>YF)&&_(R,x)},p.backup=function(){var x=p[ys];y(x.id,x[Ll],x[Cp])};function h(x,w){var R=!1,j=c.get(o);if(j&&me(j.split))R=g(x,j);else{var Q=kf(s,o);Q&&(R=g(x,Q))}return R||!!x.id}function g(x,w){var R=!1,j=", session will be reset",Q=w.split("|");if(Q[jc]>=2)try{var A=+Q[1]||0,D=+Q[2]||0;isNaN(A)||A<=0?z(s,2,27,"AI session acquisition date is 0"+j):isNaN(D)||D<=0?z(s,2,27,"AI session renewal date is 0"+j):Q[0]&&(x.id=Q[0],x[Ll]=A,x[Cp]=D,R=!0)}catch(q){z(s,1,9,"Error parsing ai_session value ["+(w||"")+"]"+j+" - "+Qe(q),{exception:te(q)})}return R}function E(x){var w=e[Fl]||uc;p.automaticSession.id=w(e[Bc]||22),p[ys][Ll]=x,_(p[ys],x),xc()||z(s,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}function _(x,w){var R=x[Ll];x[Cp]=w;var j=l,Q=R+u-w,A=[x.id,R,w],D=0;Q<j?D=Q/1e3:D=j/1e3;var q=e.cookieDomain||null;c.set(o,A[Gc]("|"),u>0?D:null,q),a=w}function y(x,w,R){Ff(s,o,[x,w,R][Gc]("|"))}})}return t.__ieDyn=1,t}();var E1=function(){function t(e,r,n,i){var o=this;o.traceID=e||Hr(),o.parentID=r;var a=Ln();!n&&a&&a.pathname&&(n=a.pathname),o.name=st(i,n)}return t}();function y1(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/))}var b1=function(){function t(e,r,n){this.isNewUser=!1,this.isUserCookieSet=!1;var i=cr(r),o=fc(r),a;Ye(t,this,function(s){Be(s,"config",{g:function(){return e}});var c=at(e,function(){var m=e[vv]||"";a=t.userCookieName+m;var h=o.get(a);if(h){s[Rl]=!1;var g=h.split(t[Ul]);g[jc]>0&&(s.id=g[0],s[Ml]=!!s.id)}if(!s.id){s.id=u();var E=l(s.id);p(E[Gc](t[Ul]));var _=(e[kl]||"")+"ai_session";Gy(i,_)}s[lo]=e[lo]||void 0;var y=o.get(t[_v]);if(y){y=decodeURI(y);var x=y.split(t[Ul]);x[0]&&(s[bs]=x[0]),x[jc]>1&&x[1]&&(s[lo]=x[1])}});n&&n.add(c);function u(){var m=e||{},h=m[Fl]||uc,g=h(m[Bc]?e[Bc]:22);return g}function l(m){var h=di(new Date);s.accountAcquisitionDate=h,s[Rl]=!0;var g=[m,h];return g}function p(m){var h=31536e3;s[Ml]=o.set(a,m,h)}s.setAuthenticatedUserContext=function(m,h,g){g===void 0&&(g=!1);var E=!y1(m)||h&&!y1(h);if(E){z(i,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}s[bs]=m;var _=s[bs];h&&(s[lo]=h,_=[s[bs],s.accountId][Gc](t[Ul])),g&&o.set(t[_v],encodeURI(_))},s.clearAuthenticatedUserContext=function(){s[bs]=null,s[lo]=null,o.del(t[_v])},s[Vc]=function(m){if(s.id!==m||!s[Ml]){var h=m||u(),g=l(h);p(g[Gc](t[Ul]))}}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t}();var Ev="ext",yv="tags";function Yl(t,e){t&&t[e]&&qn(t[e])[jc]===0&&delete t[e]}function C1(){return null}var S1=function(){function t(e,r,n,i){var o=this,a=e.logger;Ye(t,this,function(s){if(s.appId=C1,s[Al]=C1,s.application=new p1,s.internal=new m1(r,i),Na()){s[wl]=new _1(r,e,i),s.device=new h1,s.location=new g1,s.user=new b1(r,e,i);var c=void 0,u=void 0,l;n&&(c=n.getTraceId(),u=n.getSpanId(),l=n.getName()),s[bp]=new E1(c,u,l,a),s.session=new Hb}s[Al]=function(){var p=s.session,m=null;if(p&&he(p.id))m=p.id;else{var h=(s[wl]||{})[ys];m=h&&he(h.id)?h.id:null}return m},s[uv]=function(p,m){vt(_n(p.ext,Xn.AppExt),"sesId",s[Al](),he)},s[hv]=function(p,m){vt(p.ext,Xn.OSExt,s.os)},s[lv]=function(p,m){var h=s.application;if(h){var g=_n(p,yv);vt(g,bt.applicationVersion,h.ver,he),vt(g,bt.applicationBuild,h.build,he)}},s[dv]=function(p,m){var h=s.device;if(h){var g=_n(_n(p,Ev),Xn.DeviceExt);vt(g,"localId",h.id,he),vt(g,"ip",h.ip,he),vt(g,"model",h.model,he),vt(g,"deviceClass",h.deviceClass,he)}},s[gv]=function(p,m){var h=s.internal;if(h){var g=_n(p,yv);vt(g,bt.internalAgentVersion,h.agentVersion,he),vt(g,bt.internalSdkVersion,st(a,h.sdkVersion,64),he),(p.baseType===Lo.dataType||p.baseType===xr.dataType)&&(vt(g,bt.internalSnippet,h.snippetVer,he),vt(g,bt.internalSdkSrc,h.sdkSrc,he))}},s[mv]=function(p,m){var h=o.location;h&&vt(_n(p,yv,[]),bt.locationIp,h.ip,he)},s[fv]=function(p,m){var h=s[bp];if(h){var g=_n(_n(p,Ev),Xn.TraceExt,{traceID:void 0,parentID:void 0});vt(g,"traceID",h.traceID,he,Y),vt(g,"name",h.name,he,Y),vt(g,"parentID",h.parentID,he,Y)}},s.applyWebContext=function(p,m){var h=o.web;h&&vt(_n(p,Ev),Xn.WebExt,h)},s[pv]=function(p,m){var h=s.user;if(h){var g=_n(p,yv,[]);vt(g,bt.userAccountId,h[lo],he);var E=_n(_n(p,Ev),Xn.UserExt);vt(E,"id",h.id,he),vt(E,"authId",h[bs],he)}},s.cleanUp=function(p,m){var h=p.ext;h&&(Yl(h,Xn.DeviceExt),Yl(h,Xn.UserExt),Yl(h,Xn.WebExt),Yl(h,Xn.OSExt),Yl(h,Xn.AppExt),Yl(h,Xn.TraceExt))}})}return t.__ieDyn=1,t}();var Qn,zb,Vl=null,VF=Fr((Qn={},Qn[lo]=Vl,Qn.sessionRenewalMs=30*60*1e3,Qn.samplingPercentage=100,Qn.sessionExpirationMs=24*60*60*1e3,Qn.cookieDomain=Vl,Qn.sdkExtension=Vl,Qn.isBrowserLinkTrackingEnabled=!1,Qn.appId=Vl,Qn[Al]=Vl,Qn[kl]=zb,Qn[v1]=zb,Qn[vv]=zb,Qn[Bc]=22,Qn[Fl]=Vl,Qn)),BF=function(t){Nn(e,t);function e(){var r=t.call(this)||this;r.priority=110,r.identifier=ts;var n,i,o,a,s;return Ye(e,r,function(c,u){l(),Be(c,"context",{g:function(){return a}}),c.initialize=function(h,g,E,_){u.initialize(h,g,E,_),p(h)},c.processTelemetry=function(h,g){if(!Y(h)){g=c._getTelCtx(g),h.name===xr.envelopeType&&g.diagLog().resetInternalMessageCount();var E=a||{};E.session&&typeof a.session.id!="string"&&E[wl]&&E[wl][Vc]();var _=E.user;if(_&&!_[Ml]&&_[Vc](E.user.id),m(h,g),_&&_[Rl]&&(_[Rl]=!1,!s)){var y=new Lo(72,(kn()||{}).userAgent||"");JE(g.diagLog(),1,y)}c.processNext(h,g)}},c._doTeardown=function(h,g){var E=(h||{}).core();if(E&&E[cv]){var _=E[cv](!1);_===i&&E.setTraceCtx(o)}l()};function l(){n=null,i=null,o=null,a=null,s=!0}function p(h){var g=c.identifier,E=c.core;c._addHook(at(h,function(){var _=an(null,h,E);h.storagePrefix&&Tc(h.storagePrefix),s=h.disableUserInitMessage!==!1,n=_.getExtCfg(g,VF),c._extConfig=n})),o=E[cv](!1),a=new S1(E,n,o,c._unloadHooks),i=Sc(c.context[bp],o),E.setTraceCtx(i),c.context.appId=function(){var _=E.getPlugin(Cg);return _?_.plugin._appId:null}}function m(h,g){_n(h,"tags",[]),_n(h,"ext",{});var E=c.context;E[uv](h,g),E[lv](h,g),E[dv](h,g),E[fv](h,g),E[pv](h,g),E[hv](h,g),E.applyWebContext(h,g),E[mv](h,g),E[gv](h,g),E.cleanUp(h,g)}}),r}return e.__ieDyn=1,e}(zr),qb=BF;var T1="AuthenticatedUserContext",Bl="track";var bv="snippet",x1="getCookieMgr",N1="startTrackPage",D1="stopTrackPage",Cv="flush",I1="startTrackEvent",O1="stopTrackEvent",$b="addTelemetryInitializer",d7=$b+"s",Wb="pollInternalLogs",Sv="getPlugin",Tv="evtNamespace",P1=Bl+"Event",w1=Bl+"Trace",M1=Bl+"Metric",R1=Bl+"PageView",A1=Bl+"Exception",k1=Bl+"DependencyData",F1="set"+T1,L1="clear"+T1,U1="https://js.monitor.azure.com/scripts/b/ai.config.1.cfg.json";var xv="version",Cs="queue",Sp="connectionString",jl="instrumentationKey",Kb="instrumentationkey",Hc="userOverrideEndpointUrl",Tp="endpointUrl",Xb="ingestionendpoint",Gl="onunloadFlush",Xr="context",Qb="addHousekeepingBeforeUnload",Nv="sendMessage",Y1="updateSnippetDefinitions";var fo,xp,Hl,Jb,Np,V1=[bv,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],B1="iKeyUsage",j1="CdnUsage",G1="SdkLoaderVer",Dv=void 0,jF={samplingRate:100,maxSendNumber:1},GF={monthInterval:3,daysOfMonth:[28]},Iv={disabled:!0,limit:sr(jF),interval:sr(GF)},HF=(fo={},fo[Sp]=Dv,fo[Tp]=Dv,fo[jl]=Dv,fo[Hc]=Dv,fo.diagnosticLogInterval=Ya(zF,1e4),fo.featureOptIn=(xp={},xp[B1]={mode:3},xp[j1]={mode:2},xp[G1]={mode:2},xp),fo.throttleMgrCfg=sr((Hl={},Hl[109]=sr(Iv),Hl[106]=sr(Iv),Hl[111]=sr(Iv),Hl[110]=sr(Iv),Hl)),fo.extensionConfig=sr((Jb={},Jb.AppInsightsCfgSyncPlugin=sr({cfgUrl:U1,syncMode:2}),Jb)),fo);function zF(t){return t&&t>0}var Zb=function(){function t(e){var r=this,n,i,o,a,s,c,u,l,p,m,h,g,E,_;Ye(t,this,function(y){R(),Be(y,"config",{g:function(){return l}}),K(["pluginVersionStringArr","pluginVersionString"],function(A){Be(y,A,{g:function(){return u?u[A]:null}})}),a=""+(e.sv||e[xv]||""),e[Cs]=e[Cs]||[],e[xv]=e[xv]||2;var x=on(e.config||{},HF);l=x.cfg,p=new Fg,Be(y,"appInsights",{g:function(){return p}}),i=new qb,n=new Gb,o=new Db,u=new gy,Be(y,"core",{g:function(){return u}}),Q(at(x,function(){var A=l[Sp];function D(){return Vu(function(ue,T){ar(A,function(I){var $=I&&I.value,U=null;!I.rejected&&$&&(l[Sp]=$,U=Eg($)),ue(U)})})}if(Hi(A)){var q=Vu(function(ue,T){D().then(function(I){var $=l[jl];$=I&&I[Kb]||$,ue($)}).catch(function(I){ue(null)})}),G=l[Hc];Y(G)&&(G=Vu(function(ue,T){D().then(function(I){var $=l[Tp],U=I&&I[Xb];$=U?U+no:$,ue($)}).catch(function(I){ue(null)})})),l[jl]=q,l[Tp]=G}if(he(A)){var ee=Eg(A),ye=ee[Xb];l.endpointUrl=l[Hc]?l[Hc]:ye+no,l[jl]=ee[Kb]||l[jl]}l.endpointUrl=l[Hc]?l[Hc]:l[Tp]})),y[bv]=e,y[Cv]=function(A,D){A===void 0&&(A=!0);var q;return ja(u,function(){return"AISKU.flush"},function(){A&&!D&&(q=br(function(ye){D=ye}));var G=1,ee=function(){G--,G===0&&D()};K(u.getChannels(),function(ye){ye&&(G++,ye[Cv](A,ee))}),ee()},null,A),q},y[Gl]=function(A){A===void 0&&(A=!0),K(u.getChannels(),function(D){D[Gl]?D[Gl]():D[Cv](A)})},y.loadAppInsights=function(A,D,q){A===void 0&&(A=!1),A&&NN("Legacy Mode is no longer supported");function G(ee){if(ee){var ye="";Y(a)||(ye+=a),y[Xr]&&y[Xr].internal&&(y[Xr].internal.snippetVer=ye||"-"),Ie(y,function(ue,T){he(ue)&&!me(T)&&ue&&ue[0]!=="_"&&xt(V1,ue)===-1&&ee[ue]!==T&&(ee[ue]=T)})}}return ja(y.core,function(){return"AISKU.loadAppInsights"},function(){u.initialize(l,[o,i,n,p,m],D,q),Be(y,"context",{g:function(){return i[Xr]}}),h||(h=new Hy(u));var ee=qF();ee&&y[Xr]&&(y[Xr].internal.sdkSrc=ee),G(y[bv]),y.emptyQueue(),y[Wb](),y[Qb](y),Q(at(x,function(){var ye=!1;l.throttleMgrCfg[109]&&(ye=!l.throttleMgrCfg[109].disabled),!h.isReady()&&l.extensionConfig&&l.extensionConfig[m.identifier]&&ye&&h.onReadyState(!0);var ue;!g&&!l[Sp]&&cf(B1,l)&&(ue=h[Nv](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),g=!0),!E&&y[Xr].internal.sdkSrc&&y[Xr].internal.sdkSrc.indexOf("az416426")!=-1&&cf(j1,l)&&(ue=h[Nv](110,"See Cdn support notice at aka.ms/JsActiveCdn"),E=!0),!_&&parseInt(a)<6&&cf(G1,l)&&(ue=h[Nv](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),_=!0)}))}),y},y[Y1]=function(A){OE(A,y,function(D){return D&&xt(V1,D)===-1})},y.emptyQueue=function(){try{if(Oe(y.snippet[Cs])){for(var A=y.snippet[Cs].length,D=0;D<A;D++){var q=y.snippet[Cs][D];q()}y.snippet[Cs]=void 0,delete y.snippet[Cs]}}catch(ee){var G={};ee&&me(ee.toString)&&(G.exception=ee.toString())}},y[Qb]=function(A){if(Na()||qd()){var D=function(){if(A[Gl](!1),me(y.core[Sv])){var G=r.core[Sv](ts);if(G){var ee=G.plugin;ee&&ee[Xr]&&ee[Xr]._sessionManager&&ee[Xr]._sessionManager.backup()}}},q=!1;c||(c=ur(s,u[Tv]&&u[Tv]())),Q(at(l,function(G){var ee=G.cfg,ye=A.appInsights,ue=an(null,ee,ye.core),T=ue.getExtCfg(ye.identifier||Sg);j();var I=ee.disablePageUnloadEvents;T.disableFlushOnBeforeUnload||(Cy(D,I,c)&&(q=!0),Nf(D,I,c)&&(q=!0),!q&&!VE()&&z(u.logger,1,19,"Could not add handler for beforeunload and pagehide")),!q&&!T.disableFlushOnUnload&&Nf(D,I,c)}))}},y.getSender=function(){return o},y.unload=function(A,D,q){var G=!1,ee;A&&!D&&(ee=br(function(ue){D=ue}));function ye(ue){G||(G=!0,R(),D&&D(ue))}return y[Gl](A),j(),u.unload&&u.unload(A,ye,q),ee},Fa(y,p,[x1,P1,R1,"trackPageViewPerformance",A1,"_onerror",w1,M1,N1,D1,I1,O1]),Fa(y,w,[k1,"addDependencyListener","addDependencyInitializer"]),Fa(y,u,[$b,Wb,"stopPollingInternalLogs",Sv,"addPlugin",Tv,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),Fa(y,function(){var A=i[Xr];return A?A.user:null},[F1,L1]);function w(){return n}function R(){s=Gt("AISKU"),c=null,n=null,i=null,o=null,a=null,h=null,g=!1,E=!1,_=!1,m=new fb}function j(){c&&(Sy(null,c),Ty(null,c))}function Q(A){u.addUnloadHook(A)}})}return t.prototype.addDependencyInitializer=function(e){return null},t}();function qF(){if(Np)return Np;var t=null,e=!1,r=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(t=n.src)}catch{}if(t){try{var i=t.toLowerCase();if(i){var o="";K(r,function(a,s){if(Lt(i,a)!==-1)return o="cdn"+(s+1),Lt(i,"/scripts/")===-1&&(Lt(i,"/next/")!==-1?o+="-next":Lt(i,"/beta/")!==-1&&(o+="-beta")),Np=o+(e?".mod":""),-1})}}catch{}Np=t}return Np}var $F=new Zb({config:{instrumentationKey:"3b05012b-6086-4850-8239-73e0f9ecb33c"}});$F.loadAppInsights();LS(rN,tN).catch(t=>console.error(t));

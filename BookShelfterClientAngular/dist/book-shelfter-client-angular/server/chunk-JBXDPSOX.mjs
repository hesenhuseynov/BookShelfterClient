import './polyfills.server.mjs';
import{a as Ft,b as oe,c as cn,d as dn,e as un,f as mn,g as pn,h as gn,i as fn,j as vn,m as _n,q as ce,r as Ze,t as M,u as ee,v as bn,w as V}from"./chunk-XKWWWWYZ.mjs";import{$a as m,Ab as le,Bb as C,Cb as Ot,Cc as Fe,Db as _e,Eb as on,Fa as Gi,Fb as q,G as Ui,Ga as ii,Gb as J,Ha as Z,Hb as St,Hc as hn,I as ge,Ib as ft,Ic as ri,J as We,Jc as Tt,Ka as c,Kc as Vt,L as se,La as p,Lc as ai,M as B,Ma as qi,N as Ee,Na as Wi,Oa as $i,Ob as rn,P as ue,Pa as Ki,Qa as mt,R as T,Rb as It,S as he,Sa as Qi,Ta as me,Ua as X,Ub as an,W as _,X as De,Xb as Pt,Y as U,Ya as h,Z as wt,_ as ti,_a as fe,ab as pt,bb as G,c as Ni,ca as ct,cb as xe,cc as ni,da as b,db as a,dc as Ke,ea as y,eb as s,ec as Me,f as pe,fa as Ce,fb as f,g as je,gb as gt,gc as sn,ha as dt,hb as ht,hc as oi,i as Bi,ib as Zi,ja as ze,jb as I,k as Ri,ka as ut,kb as Yi,kc as vt,lb as v,ma as $e,mb as g,n as z,nb as ve,ob as Xi,pb as Ji,qa as Li,qb as en,ra as Hi,rb as Ue,sb as l,t as ji,tb as k,tc as Et,ub as x,uc as A,v as zi,vb as tn,vc as F,wb as nn,wc as ln,xb as P,xc as Dt,yb as E,yc as Qe,zb as D,zc as O}from"./chunk-LTPKZCHS.mjs";import{a as R,b as Q}from"./chunk-5XUXGTUW.mjs";var Le=class extends Error{};Le.prototype.name="InvalidTokenError";function Go(i){return decodeURIComponent(atob(i).replace(/(.)/g,(e,o)=>{let t=o.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}function qo(i){let e=i.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Go(e)}catch{return atob(e)}}function At(i,e){if(typeof i!="string")throw new Le("Invalid token specified: must be a string");e||(e={});let o=e.header===!0?0:1,t=i.split(".")[o];if(typeof t!="string")throw new Le(`Invalid token specified: missing part #${o+1}`);let n;try{n=qo(t)}catch(r){throw new Le(`Invalid token specified: invalid base64 for part #${o+1} (${r.message})`)}try{return JSON.parse(n)}catch(r){throw new Le(`Invalid token specified: invalid json for part #${o+1} (${r.message})`)}}var te=(()=>{let e=class e{constructor(t){this.http=t,this.apiUrl="http://localhost:5287/api/books"}getBooks(t=1,n=8){let r=new Ft().set("PageNumber",t.toString()).set("PageSize",n.toString());return this.http.get(this.apiUrl,{params:r})}searchBooks(t){return this.http.get(`${this.apiUrl}/search`,{params:new Ft().set("keyword",t)}).pipe(z(n=>n.books))}getFeaturedBooks(){return this.http.get(`${this.apiUrl}/featured`).pipe(z(t=>t.books))}getNewArrivals(){return this.http.get(`${this.apiUrl}/new-arrivals`).pipe(z(t=>t.books))}getMostViewedBooks(){return this.http.get(`${this.apiUrl}/most-viewed`).pipe(z(t=>t.books))}getBookById(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(z(n=>n.book))}getBookDetails(t){return this.http.get(`${this.apiUrl}/${t}/details`).pipe(z(n=>n.book))}getRelatedBooks(t){return this.http.get(`${this.apiUrl}/related/${t}`).pipe(z(n=>n.bookDtos))}getBooksByCategoryId(t,n,r){let d=`http://localhost:5287/api/Category/${t}/books`,u=new Ft().set("PageNumber",n.toString()).set("PageSize",r.toString());return this.http.get(d,{params:u}).pipe(z(w=>({totalProductCount:w.totalProductCount,books:w.booksDto})))}addBooks(t){return this.http.post(this.apiUrl,t)}updateBook(t){return this.http.put(`${this.apiUrl}/updateBook`,t)}uploadBookImage(t){return this.http.post(`${this.apiUrl}/uploadBookImage`,t)}deleteBook(t){return this.http.delete(`${this.apiUrl}/${t}`)}};e.\u0275fac=function(n){return new(n||e)(T(oe))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var W=(()=>{let e=class e{constructor(t,n){this.http=t,this.bookService=n,this.baseUrl="http://localhost:5287/api/Basket",this.basketSubject=new je(null),this.basket$=this.basketSubject.asObservable(),this.basketItemCount=new je(0),this.basketTotalPrice=new je(0),this.basketItemCount$=this.basketItemCount.asObservable(),this.basketTotalPrice$=this.basketTotalPrice.asObservable()}loadBasket(t){this.http.get(`${this.baseUrl}/${t}`).pipe(z(n=>!n||!n.basketItems?this.createBasket(t):this.mapBasketResponse(n,t)),ge(n=>{this.basketSubject.next(n),this.updateBasketInfo(n)})).subscribe()}createBasket(t){return{id:t,userId:t,items:[],total:0}}addItemToBasket(t,n,r){debugger;return this.bookService.getBookById(t.toString()).pipe(Ui(d=>{let u=this.basketSubject.value;u||(u=this.createBasket(r),this.basketSubject.next(u));let w=u.items.find(ie=>ie.bookId===t);return w?(w.quantity+=n,w.totalPrice=w.quantity*w.price):u.items.push({bookId:t,productName:d.bookName,quantity:n,price:d.price,totalPrice:d.price*n,imageUrls:d.imageUrls||[]}),this.updateBasketInfo(u),this.http.post(`${this.baseUrl}/add-item`,{bookId:t,quantity:n,userId:r})}),ge(()=>{this.loadBasket(r)}))}removeItemFromBasket(t,n){return this.http.delete(`${this.baseUrl}/remove-item`,{body:{bookId:t,userId:n}}).pipe(ge(()=>this.loadBasket(n)))}clearBasket(t){return this.http.post(`${this.baseUrl}/clear`,{}).pipe(ge(()=>{this.resetBasket(),this.updateBasketInfoFromServer(t)}))}getBasket(t){return this.http.get(`${this.baseUrl}/${t}`).pipe(z(n=>this.mapBasketResponse(n,t)),ge(n=>this.updateBasketInfo(n)))}mapBasketResponse(t,n){return{id:n,userId:n,items:t.basketItems.map(r=>this.mapBasketItem(r)),total:t.basketItems.reduce((r,d)=>r+d.unitPrice*d.quantity,0)}}mapBasketItem(t){return{bookId:t.bookId,productName:t.book.bookName,quantity:t.quantity,price:t.unitPrice,totalPrice:t.unitPrice*t.quantity,imageUrls:t.book.imageUrls||[]}}updateBasketInfo(t){let n=t.items||[],r=n.reduce((u,w)=>u+w.quantity,0),d=n.reduce((u,w)=>u+w.price*w.quantity,0);this.basketItemCount.next(r),this.basketTotalPrice.next(d)}updateBasketInfoFromServer(t){this.getBasket(t).subscribe(n=>{this.basketSubject.next(n),this.updateBasketInfo(n)})}resetBasket(){let t={id:"",userId:"",items:[],total:0};this.basketSubject.next(t),this.updateBasketInfo(t)}};e.\u0275fac=function(n){return new(n||e)(T(oe),T(te))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var N=(()=>{let e=class e{constructor(t,n,r,d){this.http=t,this.platformId=n,this.basketService=r,this.router=d,this.isLoggedInSubject=new je(!1),this.isLoggedIn$=this.isLoggedInSubject.asObservable(),this.apiUrl="http://localhost:5287/api/Auth";let u=this.getUserName();if(this.currentUserSubject=new je(u),this.currentUser$=this.currentUserSubject.asObservable(),Fe(this.platformId)){let w=this.getToken()}}login(t,n){return this.http.post(`${this.apiUrl}/login`,{userName:t,password:n}).pipe(ge(r=>{if(Fe(this.platformId)&&r.token.accessToken){localStorage.setItem("accessToken",r.token.accessToken),localStorage.setItem("refreshToken",r.token.refreshToken),this.currentUserSubject.next(this.getUserName());let d=this.getUserId();d&&this.basketService.loadBasket(d),this.router.navigate(["/home"])}}))}googleLogin(t){return this.http.post("http://localhost:5287/api/Auth/google-login",{idToken:t})}getUserName(){if(Fe(this.platformId)){let t=localStorage.getItem("accessToken");if(t)return At(t).unique_name||null}return null}getUserRole(){let t=this.getToken();return t&&At(t).role||null}logout(){Fe(this.platformId)&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),this.isLoggedInSubject.next(!1),this.currentUserSubject.next(null),this.basketService.resetBasket())}checkLoginStatus(){Fe(this.platformId)&&localStorage.getItem("accessToken")&&this.isLoggedInSubject.next(!0)}register(t){return this.http.post(`${this.apiUrl}/register`,t)}confirmEmail(t,n){return this.http.post(`${this.apiUrl}/confirmemail`,{token:t,email:n})}saveToken(t){Fe(this.platformId)&&localStorage.setItem("accessToken",t)}getToken(){return Fe(this.platformId)?localStorage.getItem("accessToken"):null}getUserId(){let t=this.getToken();return t?At(t).nameid:null}getUserId$(){return new Ni(t=>{let n=this.getUserId();t.next(n),t.complete()})}};e.\u0275fac=function(n){return new(n||e)(T(oe),T(Li),T(W),T(M))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var yn=["toast-component",""];function Wo(i,e){if(i&1){let o=I();a(0,"button",5),v("click",function(){b(o);let n=g();return y(n.remove())}),a(1,"span",6),l(2,"\xD7"),s()()}}function $o(i,e){if(i&1&&(gt(0),l(1),ht()),i&2){let o=g(2);c(),x("[",o.duplicatesCount+1,"]")}}function Ko(i,e){if(i&1&&(a(0,"div"),l(1),h(2,$o,2,1,"ng-container",4),s()),i&2){let o=g();xe(o.options.titleClass),fe("aria-label",o.title),c(),x(" ",o.title," "),c(),m("ngIf",o.duplicatesCount)}}function Qo(i,e){if(i&1&&f(0,"div",7),i&2){let o=g();xe(o.options.messageClass),m("innerHTML",o.message,ii)}}function Zo(i,e){if(i&1&&(a(0,"div",8),l(1),s()),i&2){let o=g();xe(o.options.messageClass),fe("aria-label",o.message),c(),x(" ",o.message," ")}}function Yo(i,e){if(i&1&&(a(0,"div"),f(1,"div",9),s()),i&2){let o=g();c(),pt("width",o.width()+"%")}}function Xo(i,e){if(i&1){let o=I();a(0,"button",5),v("click",function(){b(o);let n=g();return y(n.remove())}),a(1,"span",6),l(2,"\xD7"),s()()}}function Jo(i,e){if(i&1&&(gt(0),l(1),ht()),i&2){let o=g(2);c(),x("[",o.duplicatesCount+1,"]")}}function er(i,e){if(i&1&&(a(0,"div"),l(1),h(2,Jo,2,1,"ng-container",4),s()),i&2){let o=g();xe(o.options.titleClass),fe("aria-label",o.title),c(),x(" ",o.title," "),c(),m("ngIf",o.duplicatesCount)}}function tr(i,e){if(i&1&&f(0,"div",7),i&2){let o=g();xe(o.options.messageClass),m("innerHTML",o.message,ii)}}function ir(i,e){if(i&1&&(a(0,"div",8),l(1),s()),i&2){let o=g();xe(o.options.messageClass),fe("aria-label",o.message),c(),x(" ",o.message," ")}}function nr(i,e){if(i&1&&(a(0,"div"),f(1,"div",9),s()),i&2){let o=g();c(),pt("width",o.width()+"%")}}var si=class{_attachedHost;component;viewContainerRef;injector;constructor(e,o){this.component=e,this.injector=o}attach(e,o){return this._attachedHost=e,e.attach(this,o)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},li=class{_attachedPortal;_disposeFn;attach(e,o){return this._attachedPortal=e,this.attachComponentPortal(e,o)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},ci=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new pe;_activate=new pe;_manualClose=new pe;_resetTimeout=new pe;_countDuplicate=new pe;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,o){e&&this._resetTimeout.next(),o&&this._countDuplicate.next(++this.duplicatesCount)}},Xe=class{toastId;config;message;title;toastType;toastRef;_onTap=new pe;_onAction=new pe;constructor(e,o,t,n,r,d){this.toastId=e,this.config=o,this.message=t,this.title=n,this.toastType=r,this.toastRef=d,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},Cn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},xn=new ue("ToastConfig"),di=class extends li{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,o,t){super(),this._hostDomElement=e,this._componentFactoryResolver=o,this._appRef=t}attachComponentPortal(e,o){let t=this._componentFactoryResolver.resolveComponentFactory(e.component),n;return n=t.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),o?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},or=(()=>{class i{_document=he(vt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let o=this._document.createElement("div");o.classList.add("overlay-container"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),this._containerElement=o}static \u0275fac=function(t){return new(t||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ui=class{_portalHost;constructor(e){this._portalHost=e}attach(e,o=!0){return this._portalHost.attach(e,o)}detach(){return this._portalHost.detach()}},rr=(()=>{class i{_overlayContainer=he(or);_componentFactoryResolver=he($i);_appRef=he(It);_document=he(vt);_paneElements=new Map;create(o,t){return this._createOverlayRef(this.getPaneElement(o,t))}getPaneElement(o="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[o]||(this._paneElements.get(t)[o]=this._createPaneElement(o,t)),this._paneElements.get(t)[o]}_createPaneElement(o,t){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(o),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(o){return new di(o,this._componentFactoryResolver,this._appRef)}_createOverlayRef(o){return new ui(this._createPortalHost(o))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ae=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(o,t,n,r,d){this.overlay=t,this._injector=n,this.sanitizer=r,this.ngZone=d,this.toastrConfig=R(R({},o.default),o.config),o.config.iconClasses&&(this.toastrConfig.iconClasses=R(R({},o.default.iconClasses),o.config.iconClasses))}show(o,t,n={},r=""){return this._preBuildNotification(r,o,t,this.applyConfig(n))}success(o,t,n={}){let r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,o,t,this.applyConfig(n))}error(o,t,n={}){let r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,o,t,this.applyConfig(n))}info(o,t,n={}){let r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,o,t,this.applyConfig(n))}warning(o,t,n={}){let r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,o,t,this.applyConfig(n))}clear(o){for(let t of this.toasts)if(o!==void 0){if(t.toastId===o){t.toastRef.manualClose();return}}else t.toastRef.manualClose()}remove(o){let t=this._findToast(o);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(o="",t="",n,r){let{includeTitleDuplicates:d}=this.toastrConfig;for(let u of this.toasts){let w=d&&u.title===o;if((!d||w)&&u.message===t)return u.toastRef.onDuplicate(n,r),u}return null}applyConfig(o={}){return R(R({},this.toastrConfig),o)}_findToast(o){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===o)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(o,t,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(o,t,n,r)):this._buildNotification(o,t,n,r)}_buildNotification(o,t,n,r){if(!r.toastComponent)throw new Error("toastComponent required");let d=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&d!==null)return d;this.previousToastMessage=t;let u=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(u=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let w=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let ie=t;t&&r.enableHtml&&(ie=this.sanitizer.sanitize(Gi.HTML,t));let ne=new ci(w),qe=new Xe(this.index,r,ie,n,o,ne),Uo=[{provide:Xe,useValue:qe}],Lo=dt.create({providers:Uo,parent:this._injector}),Ho=new si(r.toastComponent,Lo),Ai=w.attach(Ho,r.newestOnTop);ne.componentInstance=Ai.instance;let ei={toastId:this.index,title:n||"",message:t||"",toastRef:ne,onShown:ne.afterActivate(),onHidden:ne.afterClosed(),onTap:qe.onTap(),onAction:qe.onAction(),portal:Ai};return u||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ei.toastRef.activate()})),this.toasts.push(ei),ei}static \u0275fac=function(t){return new(t||i)(T(xn),T(rr),T(dt),T(pn),T(ut))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ar=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=me(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(o,t,n){this.toastrService=o,this.toastPackage=t,this.ngZone=n,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=me({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(o=>Q(R({},o),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let o=new Date().getTime(),t=this.hideTime-o;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(o=>Q(R({},o),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(o=>Q(R({},o),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(o,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(o),t)):this.timeout=setTimeout(()=>o(),t)}outsideInterval(o,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(o),t)):this.intervalId=setInterval(()=>o(),t)}runInsideAngular(o){this.ngZone?this.ngZone.run(()=>o()):o()}static \u0275fac=function(t){return new(t||i)(p(ae),p(Xe),p(ut))};static \u0275cmp=_({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,n){t&1&&v("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),t&2&&(Yi("@flyInOut",n._state),xe(n.toastClasses),pt("display",n.displayStyle))},standalone:!0,features:[C],attrs:yn,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,n){t&1&&h(0,Wo,3,0,"button",0)(1,Ko,3,5,"div",1)(2,Qo,1,3,"div",2)(3,Zo,2,4,"div",3)(4,Yo,2,2,"div",4),t&2&&(m("ngIf",n.options.closeButton),c(),m("ngIf",n.title),c(),m("ngIf",n.message&&n.options.enableHtml),c(),m("ngIf",n.message&&!n.options.enableHtml),c(),m("ngIf",n.options.progressBar))},dependencies:[F],encapsulation:2,data:{animation:[hn("flyInOut",[Vt("inactive",Tt({opacity:0})),Vt("active",Tt({opacity:1})),Vt("removed",Tt({opacity:0})),ai("inactive => active",ri("{{ easeTime }}ms {{ easing }}")),ai("active => removed",ri("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return i})(),sr=Q(R({},Cn),{toastComponent:ar}),mi=(i={})=>wt([{provide:xn,useValue:{default:sr,config:i}}]),Mn=(()=>{class i{static forRoot(o={}){return{ngModule:i,providers:[mi(o)]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=De({type:i});static \u0275inj=Ee({})}return i})();var lr=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=me(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=me("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(o,t,n){this.toastrService=o,this.toastPackage=t,this.appRef=n,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let o=new Date().getTime(),t=this.hideTime-o;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(t){return new(t||i)(p(ae),p(Xe),p(It))};static \u0275cmp=_({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,n){t&1&&v("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),t&2&&(xe(n.toastClasses),pt("display",n.displayStyle))},standalone:!0,features:[C],attrs:yn,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,n){t&1&&h(0,Xo,3,0,"button",0)(1,er,3,5,"div",1)(2,tr,1,3,"div",2)(3,ir,2,4,"div",3)(4,nr,2,2,"div",4),t&2&&(m("ngIf",n.options.closeButton),c(),m("ngIf",n.title),c(),m("ngIf",n.message&&n.options.enableHtml),c(),m("ngIf",n.message&&!n.options.enableHtml),c(),m("ngIf",n.options.progressBar))},dependencies:[F],encapsulation:2,changeDetection:0})}return i})(),Ks=Q(R({},Cn),{toastComponent:lr});var cr=()=>["/books"];function dr(i,e){i&1&&(a(0,"li",9)(1,"a",13),l(2,"User Panel"),s()())}function ur(i,e){i&1&&(a(0,"li",9)(1,"a",14),l(2,"Admin Panel"),s()())}function mr(i,e){if(i&1&&(a(0,"li",9)(1,"a",11),l(2),s()()),i&2){let o=g();c(2),x("Salam, ",o.userName,"")}}function pr(i,e){if(i&1){let o=I();a(0,"li",9)(1,"button",15),v("click",function(){b(o);let n=g();return y(n.logout())}),l(2,"\xC7\u0131x\u0131\u015F "),s()()}}var kn=(()=>{let e=class e{constructor(t,n,r){this.authService=t,this.router=n,this.toastr=r,this.userName=null,this.isAdmin=!1,this.isUser=!1}ngOnInit(){this.authService.currentUser$.subscribe(t=>{this.userName=t;let n=this.authService.getUserRole();this.isAdmin=n==="Admin",this.isUser=n==="User"})}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.userName=null,window.location.reload()}};e.\u0275fac=function(n){return new(n||e)(p(N),p(M),p(ae))},e.\u0275cmp=_({type:e,selectors:[["app-navbar"]],standalone:!0,features:[C],decls:26,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","/",1,"navbar-brand","brand-logo"],[1,"support-info"],[1,"fas","fa-headset"],["href","tel:+012025550181",1,"support-number"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto","navbar-links"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],["href","#",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/user-panel/dashboard",1,"nav-link"],["id","admin-panel","routerLink","/admin-panel/dashboard",1,"nav-link",2,"cursor","pointer"],[1,"btn","btn-link","nav-link",3,"click"]],template:function(n,r){n&1&&(a(0,"nav",0)(1,"a",1),l(2,"BakuKitabEvi"),s(),a(3,"div",2),f(4,"i",3),a(5,"span"),l(6,"Texniki d\u0259st\u0259k 24/7"),s(),a(7,"a",4),l(8,"+994-55-285-92-63"),s()(),a(9,"button",5),f(10,"span",6),s(),a(11,"div",7)(12,"ul",8)(13,"li",9)(14,"a",10),l(15,"K\u0130TABLAR"),s()(),a(16,"li",9)(17,"a",11),l(18,"BLOQ"),s()(),a(19,"li",9)(20,"a",11),l(21,"\u018FLAQ\u018F "),s()(),h(22,dr,3,0,"li",12)(23,ur,3,0,"li",12)(24,mr,3,1,"li",12)(25,pr,3,0,"li",12),s()()()),n&2&&(c(14),m("routerLink",Ot(5,cr)),c(8),m("ngIf",r.isUser),c(),m("ngIf",r.isAdmin),c(),m("ngIf",r.userName),c(),m("ngIf",r.userName))},dependencies:[O,F,V,ee],styles:['body[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]{font-family:Montserrat,Varela,Poppins,sans-serif;font-optical-sizing:auto;font-style:normal;-webkit-font-smoothing:antialiased;font-weight:490}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:16px;transition:background-color .3s ease-in-out,color .3s ease-in-out;position:relative;padding-bottom:15px;font-size:17px;color:#797c93;line-height:38px;text-transform:capitalize;font-weight:600;font-family:Montserrat,sans-serif}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#f8f9fa}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:23px;color:#6aa846;font-weight:700;text-decoration:none;margin-left:17px;margin-top:5px;line-height:1.2;letter-spacing:.3px}.support-info[_ngcontent-%COMP%]{display:flex;align-items:center;color:#6aa846;margin-top:5px;margin-left:32px}.support-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-right:5px}.support-number[_ngcontent-%COMP%]{margin-left:10px;color:#333;text-decoration:none}.navbar-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:31px;font-size:17px;font-weight:400}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{list-style:none}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:340px;font-size:18px;display:block;color:#78827b;line-height:1.5;letter-spacing:.5px;padding:10px 15px;position:relative}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#738a67}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;bottom:0;height:1.4px;background-color:#419fa5;transition:width .2s ease-in-out,left .2s ease-in-out;width:0;max-width:80%}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:80%;left:10%}.navbar-collapse[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.navbar-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1px;font-weight:400;margin-right:55px}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:5px 10px;font-size:16px;color:#333}.navbar-links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#228cb6}.navbar-toggler[_ngcontent-%COMP%]{margin-left:auto}#admin-panel[_ngcontent-%COMP%]{background-color:#1363b967;color:#000}']});let i=e;return i})();var wn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-footer"]],standalone:!0,features:[C],decls:55,vars:0,consts:[[1,"bg-dark","text-white","pt-3","pb-3",2,"font-family","'Montserrat', sans-serif","width","90%","margin","0 auto"],[1,"container","text-center","text-md-left"],[1,"row","text-center","text-md-left"],[1,"col-md-3","col-lg-3","col-xl-3","mx-auto","mt-3"],[1,"text-uppercase","mb-3","font-weight-bold"],[1,"col-md-2","col-lg-2","col-xl-2","mx-auto","mt-3"],["href","#",1,"text-white"],[1,"col-md-3","col-lg-2","col-xl-2","mx-auto","mt-3"],[1,"col-md-4","col-lg-3","col-xl-3","mx-auto","mt-3"],[1,"fas","fa-home","mr-3"],[1,"fas","fa-phone","mr-3"],[1,"mb-3",2,"border-color","rgba(255, 255, 255, 0.1)"],[1,"row","align-items-center"],[1,"col-md-7","col-lg-8"],[1,"text-center","text-md-left"],[1,"col-md-5","col-lg-4"],[1,"text-center","text-md-right"],[1,"list-unstyled","list-inline"],[1,"list-inline-item"],["href","#",1,"text-white",2,"font-size","23px"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-linkedin-in"]],template:function(n,r){n&1&&(a(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),l(5,"Haqq\u0131m\u0131zda"),s(),a(6,"p"),l(7," BakuKitabEvi, Az\u0259rbaycanda \u0259n geni\u015F kitab kolleksiyas\u0131n\u0131 t\u0259qdim edir. Keyfiyy\u0259tli kitablar v\u0259 etibarl\u0131 al\u0131\u015F-veri\u015F t\u0259cr\xFCb\u0259si il\u0259 oxucular\u0131m\u0131za xidm\u0259t g\xF6st\u0259ririk. "),s()(),a(8,"div",5)(9,"h5",4),l(10,"\u018Flaq\u0259"),s(),a(11,"p")(12,"a",6),l(13,"\u018Flaq\u0259 Formu"),s()(),a(14,"p")(15,"a",6),l(16,"Tez-tez Veril\u0259n Suallar"),s()()(),a(17,"div",7)(18,"h5",4),l(19,"Tez Ba\u011Flant\u0131lar"),s(),a(20,"p")(21,"a",6),l(22,"Hesab\u0131m"),s()(),a(23,"p")(24,"a",6),l(25,"Sifari\u015F Tarixi"),s()()(),a(26,"div",8)(27,"h5",4),l(28,"\u018Flaq\u0259 M\u0259lumatlar\u0131"),s(),a(29,"p"),f(30,"i",9),l(31," Bak\u0131, Az\u0259rbaycan"),s(),a(32,"p"),f(33,"i",10),l(34," +994 55 285 92 63"),s()()(),f(35,"hr",11),a(36,"div",12)(37,"div",13)(38,"p",14),l(39,"\xA9 2024 Copyright: "),a(40,"a",6)(41,"strong"),l(42,"Hasan Huseynov"),s()()()(),a(43,"div",15)(44,"div",16)(45,"ul",17)(46,"li",18)(47,"a",19),f(48,"i",20),s()(),a(49,"li",18)(50,"a",19),f(51,"i",21),s()(),a(52,"li",18)(53,"a",19),f(54,"i",22),s()()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;padding-top:20px;padding-bottom:20px;width:100%;margin:0 auto;font-family:Montserrat,sans-serif}h5[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:19px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#fff;text-decoration:none}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d1d1d1;text-decoration:underline}footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#ffffff1a}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin-right:15px}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b0b0b0}"]});let i=e;return i})();var et=(()=>{let e=class e{constructor(t){this.http=t,this.apiUrl="http://localhost:5287/api/Category/GetAll"}getCategories(){return this.http.get(`${this.apiUrl}`).pipe(z(t=>t.category))}};e.\u0275fac=function(n){return new(n||e)(T(oe))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var gr=i=>["/categories",i,"books"];function hr(i,e){if(i&1&&(a(0,"li")(1,"a",3),l(2),s()()),i&2){let o=e.$implicit;c(),m("routerLink",_e(2,gr,o.categoryId)),c(),k(o.categoryName)}}var Nt=(()=>{let e=class e{constructor(t,n){this.categoryService=t,this.router=n,this.categories=[]}ngOnInit(){this.categoryService.getCategories().subscribe(t=>{this.categories=t})}};e.\u0275fac=function(n){return new(n||e)(p(et),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-category-list"]],standalone:!0,features:[C],decls:3,vars:1,consts:[[1,"category-menu"],[1,"category-list"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"ul",1),h(2,hr,3,4,"li",2),s()()),n&2&&(c(2),m("ngForOf",r.categories))},dependencies:[O,A,V,ee],styles:[".container[_ngcontent-%COMP%]{max-width:300px;margin-right:20px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#333}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;font-family:Montserrat,sans-serif}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#6aa846;font-weight:700;text-decoration:none;padding:10px 15px;display:block;transition:background-color .3s ease,color .3s ease}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#0084ff}.container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}.content[_ngcontent-%COMP%]{margin-left:120px}.category-menu[_ngcontent-%COMP%]{position:relative;width:250px;background-color:#fff;border:1px solid #ddd;border-radius:4px;overflow:hidden}.category-btn[_ngcontent-%COMP%]{width:100%;background-color:#f8f8f8;color:#333;font-weight:700;text-align:left;padding:10px 15px;border:none;display:flex;align-items:center;cursor:pointer}.category-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.category-list[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:500;list-style:none;margin:0;padding:0}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:1px solid #ddd}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 15px;color:#333;text-decoration:none;transition:background-color .3s ease,color .3s ease}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#007bff}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #ddd}@media (max-width: 768px){.container[_ngcontent-%COMP%]{max-width:100%;margin-right:0}.content[_ngcontent-%COMP%]{margin-left:0}}"]});let i=e;return i})();var An=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(p(mt),p($e))},e.\u0275dir=U({type:e});let i=e;return i})(),Wt=(()=>{let e=class e extends An{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ce(e)))(r||e)}})(),e.\u0275dir=U({type:e,features:[X]});let i=e;return i})(),rt=new ue("");var fr={provide:rt,useExisting:se(()=>H),multi:!0};function vr(){let i=oi()?oi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var _r=new ue(""),H=(()=>{let e=class e extends An{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vr())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(p(mt),p($e),p(_r,8))},e.\u0275dir=U({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&v("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[le([fr]),X]});let i=e;return i})();function Ve(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Nn(i){return i!=null&&typeof i.length=="number"}var Ne=new ue(""),$t=new ue(""),br=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,de=class{static min(e){return Bn(e)}static max(e){return Rn(e)}static required(e){return jn(e)}static requiredTrue(e){return yr(e)}static email(e){return Cr(e)}static minLength(e){return zn(e)}static maxLength(e){return xr(e)}static pattern(e){return Mr(e)}static nullValidator(e){return Rt(e)}static compose(e){return Wn(e)}static composeAsync(e){return $n(e)}};function Bn(i){return e=>{if(Ve(e.value)||Ve(i))return null;let o=parseFloat(e.value);return!isNaN(o)&&o<i?{min:{min:i,actual:e.value}}:null}}function Rn(i){return e=>{if(Ve(e.value)||Ve(i))return null;let o=parseFloat(e.value);return!isNaN(o)&&o>i?{max:{max:i,actual:e.value}}:null}}function jn(i){return Ve(i.value)?{required:!0}:null}function yr(i){return i.value===!0?null:{required:!0}}function Cr(i){return Ve(i.value)||br.test(i.value)?null:{email:!0}}function zn(i){return e=>Ve(e.value)||!Nn(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function xr(i){return e=>Nn(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function Mr(i){if(!i)return Rt;let e,o;return typeof i=="string"?(o="",i.charAt(0)!=="^"&&(o+="^"),o+=i,i.charAt(i.length-1)!=="$"&&(o+="$"),e=new RegExp(o)):(o=i.toString(),e=i),t=>{if(Ve(t.value))return null;let n=t.value;return e.test(n)?null:{pattern:{requiredPattern:o,actualValue:n}}}}function Rt(i){return null}function Un(i){return i!=null}function Ln(i){return rn(i)?Bi(i):i}function Hn(i){let e={};return i.forEach(o=>{e=o!=null?R(R({},e),o):e}),Object.keys(e).length===0?null:e}function Gn(i,e){return e.map(o=>o(i))}function kr(i){return!i.validate}function qn(i){return i.map(e=>kr(e)?e:o=>e.validate(o))}function Wn(i){if(!i)return null;let e=i.filter(Un);return e.length==0?null:function(o){return Hn(Gn(o,e))}}function bi(i){return i!=null?Wn(qn(i)):null}function $n(i){if(!i)return null;let e=i.filter(Un);return e.length==0?null:function(o){let t=Gn(o,e).map(Ln);return ji(t).pipe(z(Hn))}}function yi(i){return i!=null?$n(qn(i)):null}function On(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Kn(i){return i._rawValidators}function Qn(i){return i._rawAsyncValidators}function gi(i){return i?Array.isArray(i)?i:[i]:[]}function jt(i,e){return Array.isArray(i)?i.includes(e):i===e}function Sn(i,e){let o=gi(e);return gi(i).forEach(n=>{jt(o,n)||o.push(n)}),o}function In(i,e){return gi(e).filter(o=>!jt(i,o))}var zt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,o){return this.control?this.control.hasError(e,o):!1}getError(e,o){return this.control?this.control.getError(e,o):null}},we=class extends zt{get formDirective(){return null}get path(){return null}},He=class extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ut=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},wr={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yl=Q(R({},wr),{"[class.ng-submitted]":"isSubmitted"}),K=(()=>{let e=class e extends Ut{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(p(He,2))},e.\u0275dir=U({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&G("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[X]});let i=e;return i})(),be=(()=>{let e=class e extends Ut{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(p(we,10))},e.\u0275dir=U({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&G("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[X]});let i=e;return i})();var _t="VALID",Bt="INVALID",tt="PENDING",bt="DISABLED",Ae=class{},Lt=class extends Ae{constructor(e,o){super(),this.value=e,this.source=o}},Ct=class extends Ae{constructor(e,o){super(),this.pristine=e,this.source=o}},xt=class extends Ae{constructor(e,o){super(),this.touched=e,this.source=o}},it=class extends Ae{constructor(e,o){super(),this.status=e,this.source=o}},hi=class extends Ae{constructor(e){super(),this.source=e}},fi=class extends Ae{constructor(e){super(),this.source=e}};function Ci(i){return(Kt(i)?i.validators:i)||null}function Or(i){return Array.isArray(i)?bi(i):i||null}function xi(i,e){return(Kt(e)?e.asyncValidators:i)||null}function Sr(i){return Array.isArray(i)?yi(i):i||null}function Kt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Zn(i,e,o){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new We(1e3,"");if(!t[o])throw new We(1001,"")}function Yn(i,e,o){i._forEachChild((t,n)=>{if(o[n]===void 0)throw new We(1002,"")})}var nt=class{constructor(e,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ke(()=>this.statusReactive()),this.statusReactive=me(void 0),this._pristine=Ke(()=>this.pristineReactive()),this.pristineReactive=me(!0),this._touched=Ke(()=>this.touchedReactive()),this.touchedReactive=me(!1),this._events=new pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Me(this.statusReactive)}set status(e){Me(()=>this.statusReactive.set(e))}get valid(){return this.status===_t}get invalid(){return this.status===Bt}get pending(){return this.status==tt}get disabled(){return this.status===bt}get enabled(){return this.status!==bt}get pristine(){return Me(this.pristineReactive)}set pristine(e){Me(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Me(this.touchedReactive)}set touched(e){Me(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Sn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(In(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(In(e,this._rawAsyncValidators))}hasValidator(e){return jt(this._rawValidators,e)}hasAsyncValidator(e){return jt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let o=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Q(R({},e),{sourceControl:t})),o&&e.emitEvent!==!1&&this._events.next(new xt(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(o=>o.markAllAsTouched(e))}markAsUntouched(e={}){let o=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),o&&e.emitEvent!==!1&&this._events.next(new xt(!1,t))}markAsDirty(e={}){let o=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Q(R({},e),{sourceControl:t})),o&&e.emitEvent!==!1&&this._events.next(new Ct(!1,t))}markAsPristine(e={}){let o=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&e.emitEvent!==!1&&this._events.next(new Ct(!0,t))}markAsPending(e={}){this.status=tt;let o=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new it(this.status,o)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Q(R({},e),{sourceControl:o}))}disable(e={}){let o=this._parentMarkedDirty(e.onlySelf);this.status=bt,this.errors=null,this._forEachChild(n=>{n.disable(Q(R({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lt(this.value,t)),this._events.next(new it(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Q(R({},e),{skipPristineCheck:o}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let o=this._parentMarkedDirty(e.onlySelf);this.status=_t,this._forEachChild(t=>{t.enable(Q(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Q(R({},e),{skipPristineCheck:o}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,o){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},o),this._parent._updateTouched({},o))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_t||this.status===tt)&&this._runAsyncValidator(t,e.emitEvent)}let o=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lt(this.value,o)),this._events.next(new it(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Q(R({},e),{sourceControl:o}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bt:_t}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,o){if(this.asyncValidator){this.status=tt,this._hasOwnPendingAsyncValidator={emitEvent:o!==!1};let t=Ln(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:o,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,o={}){this.errors=e,this._updateControlsErrors(o.emitEvent!==!1,this,o.shouldHaveEmitted)}get(e){let o=e;return o==null||(Array.isArray(o)||(o=o.split(".")),o.length===0)?null:o.reduce((t,n)=>t&&t._find(n),this)}getError(e,o){let t=o?this.get(o):this;return t&&t.errors?t.errors[e]:null}hasError(e,o){return!!this.getError(e,o)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,o,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new it(this.status,o)),this._parent&&this._parent._updateControlsErrors(e,o,t)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?bt:this.errors?Bt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tt)?tt:this._anyControlsHaveStatus(Bt)?Bt:_t}_anyControlsHaveStatus(e){return this._anyControls(o=>o.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,o){let t=!this._anyControlsDirty(),n=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,o),n&&this._events.next(new Ct(this.pristine,o))}_updateTouched(e={},o){this.touched=this._anyControlsTouched(),this._events.next(new xt(this.touched,o)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,o)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let o=this._parent&&this._parent.dirty;return!e&&!!o&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Or(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Sr(this._rawAsyncValidators)}},ot=class extends nt{constructor(e,o,t){super(Ci(o),xi(t,o)),this.controls=e,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,o){return this.controls[e]?this.controls[e]:(this.controls[e]=o,o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange),o)}addControl(e,o,t={}){this.registerControl(e,o),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}setControl(e,o,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],o&&this.registerControl(e,o),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,o={}){Yn(this,!0,e),Object.keys(e).forEach(t=>{Zn(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(e,o={}){e!=null&&(Object.keys(e).forEach(t=>{let n=this.controls[t];n&&n.patchValue(e[t],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(e={},o={}){this._forEachChild((t,n)=>{t.reset(e?e[n]:null,{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o,this),this._updateTouched(o,this),this.updateValueAndValidity(o)}getRawValue(){return this._reduceChildren({},(e,o,t)=>(e[t]=o.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(o,t)=>t._syncPendingControls()?!0:o);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(o=>{let t=this.controls[o];t&&e(t,o)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[o,t]of Object.entries(this.controls))if(this.contains(o)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(o,t,n)=>((t.enabled||this.disabled)&&(o[n]=t.value),o))}_reduceChildren(e,o){let t=e;return this._forEachChild((n,r)=>{t=o(t,n,r)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vi=class extends ot{};var kt=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Qt}),Qt="always";function Xn(i,e){return[...e.path,i]}function Ht(i,e,o=Qt){Mi(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||o==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Pr(i,e),Dr(i,e),Er(i,e),Ir(i,e)}function Pn(i,e,o=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),qt(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Gt(i,e){i.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(e)})}function Ir(i,e){if(e.valueAccessor.setDisabledState){let o=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(o),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(o)})}}function Mi(i,e){let o=Kn(i);e.validator!==null?i.setValidators(On(o,e.validator)):typeof o=="function"&&i.setValidators([o]);let t=Qn(i);e.asyncValidator!==null?i.setAsyncValidators(On(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();Gt(e._rawValidators,n),Gt(e._rawAsyncValidators,n)}function qt(i,e){let o=!1;if(i!==null){if(e.validator!==null){let n=Kn(i);if(Array.isArray(n)&&n.length>0){let r=n.filter(d=>d!==e.validator);r.length!==n.length&&(o=!0,i.setValidators(r))}}if(e.asyncValidator!==null){let n=Qn(i);if(Array.isArray(n)&&n.length>0){let r=n.filter(d=>d!==e.asyncValidator);r.length!==n.length&&(o=!0,i.setAsyncValidators(r))}}}let t=()=>{};return Gt(e._rawValidators,t),Gt(e._rawAsyncValidators,t),o}function Pr(i,e){e.valueAccessor.registerOnChange(o=>{i._pendingValue=o,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Jn(i,e)})}function Er(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Jn(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Jn(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Dr(i,e){let o=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(o),e._registerOnDestroy(()=>{i._unregisterOnChange(o)})}function eo(i,e){i==null,Mi(i,e)}function Fr(i,e){return qt(i,e)}function to(i,e){if(!i.hasOwnProperty("model"))return!1;let o=i.model;return o.isFirstChange()?!0:!Object.is(e,o.currentValue)}function Tr(i){return Object.getPrototypeOf(i.constructor)===Wt}function io(i,e){i._syncPendingControls(),e.forEach(o=>{let t=o.control;t.updateOn==="submit"&&t._pendingChange&&(o.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function no(i,e){if(!e)return null;Array.isArray(e);let o,t,n;return e.forEach(r=>{r.constructor===H?o=r:Tr(r)?t=r:n=r}),n||t||o||null}function Vr(i,e){let o=i.indexOf(e);o>-1&&i.splice(o,1)}var Ar={provide:we,useExisting:se(()=>Oe)},yt=Promise.resolve(),Oe=(()=>{let e=class e extends we{get submitted(){return Me(this.submittedReactive)}constructor(t,n,r){super(),this.callSetDisabledState=r,this._submitted=Ke(()=>this.submittedReactive()),this.submittedReactive=me(!1),this._directives=new Set,this.ngSubmit=new ze,this.form=new ot({},bi(t),yi(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yt.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Ht(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yt.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yt.then(()=>{let n=this._findContainer(t.path),r=new ot({});eo(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yt.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){yt.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),io(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(n){return new(n||e)(p(Ne,10),p($t,10),p(kt,8))},e.\u0275dir=U({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&v("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[le([Ar]),X]});let i=e;return i})();function En(i,e){let o=i.indexOf(e);o>-1&&i.splice(o,1)}function Dn(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Mt=class extends nt{constructor(e=null,o,t){super(Ci(o),xi(t,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kt(o)&&(o.nonNullable||o.initialValueIsDefault)&&(Dn(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,o={}){this.value=this._pendingValue=e,this._onChange.length&&o.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,o.emitViewToModelChange!==!1)),this.updateValueAndValidity(o)}patchValue(e,o={}){this.setValue(e,o)}reset(e=this.defaultValue,o={}){this._applyFormState(e),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){En(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){En(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Dn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Nr=i=>i instanceof Mt;var Br={provide:He,useExisting:se(()=>Y)},Fn=Promise.resolve(),Y=(()=>{let e=class e extends He{constructor(t,n,r,d,u,w){super(),this._changeDetectorRef=u,this.callSetDisabledState=w,this.control=new Mt,this._registered=!1,this.name="",this.update=new ze,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=no(this,d)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),to(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ht(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Fn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,r=n!==0&&ni(n);Fn.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Xn(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(p(we,9),p(Ne,10),p($t,10),p(rt,10),p(Pt,8),p(kt,8))},e.\u0275dir=U({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[le([Br]),X,ct]});let i=e;return i})(),ye=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=U({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})(),Rr={provide:rt,useExisting:se(()=>Ge),multi:!0},Ge=(()=>{let e=class e extends Wt{writeValue(t){let n=t??"";this.setProperty("value",n)}registerOnChange(t){this.onChange=n=>{t(n==""?null:parseFloat(n))}}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ce(e)))(r||e)}})(),e.\u0275dir=U({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&v("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[le([Rr]),X]});let i=e;return i})();var oo=new ue("");var jr={provide:we,useExisting:se(()=>ki)},ki=(()=>{let e=class e extends we{get submitted(){return Me(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,n,r){super(),this.callSetDisabledState=r,this._submitted=Ke(()=>this._submittedReactive()),this._submittedReactive=me(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ze,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let n=this.form.get(t.path);return Ht(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){Pn(t.control||null,t,!1),Vr(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this._submittedReactive.set(!0),io(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new hi(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new fi(this.form))}_updateDomValue(){this.directives.forEach(t=>{let n=t.control,r=this.form.get(t.path);n!==r&&(Pn(n||null,t),Nr(r)&&(Ht(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let n=this.form.get(t.path);eo(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let n=this.form.get(t.path);n&&Fr(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mi(this.form,this),this._oldForm&&qt(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(n){return new(n||e)(p(Ne,10),p($t,10),p(kt,8))},e.\u0275dir=U({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&v("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[le([jr]),X,ct]});let i=e;return i})();var zr={provide:He,useExisting:se(()=>wi)},wi=(()=>{let e=class e extends He{set isDisabled(t){}constructor(t,n,r,d,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new ze,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=no(this,d)}ngOnChanges(t){this._added||this._setUpControl(),to(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Xn(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(p(we,13),p(Ne,10),p($t,10),p(rt,10),p(oo,8))},e.\u0275dir=U({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[le([zr]),X,ct]});let i=e;return i})(),Ur={provide:rt,useExisting:se(()=>Be),multi:!0};function ro(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Lr(i){return i.split(":")[0]}var Be=(()=>{let e=class e extends Wt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n=this._getOptionId(t),r=ro(n,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=n=>{this.value=this._getOptionValue(n),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),t))return n;return null}_getOptionValue(t){let n=Lr(t);return this._optionMap.has(n)?this._optionMap.get(n):t}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ce(e)))(r||e)}})(),e.\u0275dir=U({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&v("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[le([Ur]),X]});let i=e;return i})(),at=(()=>{let e=class e{constructor(t,n,r){this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ro(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(p($e),p(mt),p(Be,9))},e.\u0275dir=U({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})(),Hr={provide:rt,useExisting:se(()=>ao),multi:!0};function Tn(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Gr(i){return i.split(":")[0]}var ao=(()=>{let e=class e extends Wt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n;if(Array.isArray(t)){let r=t.map(d=>this._getOptionId(d));n=(d,u)=>{d._setSelected(r.indexOf(u.toString())>-1)}}else n=(r,d)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(t){this.onChange=n=>{let r=[],d=n.selectedOptions;if(d!==void 0){let u=d;for(let w=0;w<u.length;w++){let ie=u[w],ne=this._getOptionValue(ie.value);r.push(ne)}}else{let u=n.options;for(let w=0;w<u.length;w++){let ie=u[w];if(ie.selected){let ne=this._getOptionValue(ie.value);r.push(ne)}}}this.value=r,t(r)}}_registerOption(t){let n=(this._idCounter++).toString();return this._optionMap.set(n,t),n}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,t))return n;return null}_getOptionValue(t){let n=Gr(t);return this._optionMap.has(n)?this._optionMap.get(n)._value:t}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ce(e)))(r||e)}})(),e.\u0275dir=U({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&v("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[le([Hr]),X]});let i=e;return i})(),st=(()=>{let e=class e{constructor(t,n,r){this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Tn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Tn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(p($e),p(mt),p(ao,9))},e.\u0275dir=U({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})();function qr(i){return typeof i=="number"?i:parseInt(i,10)}function so(i){return typeof i=="number"?i:parseFloat(i)}var Zt=(()=>{let e=class e{constructor(){this._validator=Rt}ngOnChanges(t){if(this.inputName in t){let n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Rt,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=U({type:e,features:[ct]});let i=e;return i})(),Wr={provide:Ne,useExisting:se(()=>Oi),multi:!0},Oi=(()=>{let e=class e extends Zt{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>so(t),this.createValidator=t=>Rn(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ce(e)))(r||e)}})(),e.\u0275dir=U({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&fe("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[le([Wr]),X]});let i=e;return i})(),$r={provide:Ne,useExisting:se(()=>Si),multi:!0},Si=(()=>{let e=class e extends Zt{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>so(t),this.createValidator=t=>Bn(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ce(e)))(r||e)}})(),e.\u0275dir=U({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&fe("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[le([$r]),X]});let i=e;return i})(),Kr={provide:Ne,useExisting:se(()=>Se),multi:!0};var Se=(()=>{let e=class e extends Zt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ni,this.createValidator=t=>jn}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ce(e)))(r||e)}})(),e.\u0275dir=U({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&fe("required",r._enabled?"":null)},inputs:{required:"required"},features:[le([Kr]),X]});let i=e;return i})();var Qr={provide:Ne,useExisting:se(()=>Ii),multi:!0},Ii=(()=>{let e=class e extends Zt{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>qr(t),this.createValidator=t=>zn(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ce(e)))(r||e)}})(),e.\u0275dir=U({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&fe("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[le([Qr]),X]});let i=e;return i})();var lo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let i=e;return i})(),_i=class extends nt{constructor(e,o,t){super(Ci(o),xi(t,o)),this.controls=e,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,o={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}insert(e,o,t={}){this.controls.splice(e,0,o),this._registerControl(o),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,o={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:o.emitEvent})}setControl(e,o,t={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),o&&(this.controls.splice(n,0,o),this._registerControl(o)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,o={}){Yn(this,!1,e),e.forEach((t,n)=>{Zn(this,!1,n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(e,o={}){e!=null&&(e.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(e=[],o={}){this._forEachChild((t,n)=>{t.reset(e[n],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o,this),this._updateTouched(o,this),this.updateValueAndValidity(o)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(o=>o._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((o,t)=>t._syncPendingControls()?!0:o,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((o,t)=>{e(o,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(o=>o.enabled&&e(o))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Vn(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var co=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,n=null){let r=this._reduceControls(t),d={};return Vn(n)?d=n:n!==null&&(d.validators=n.validator,d.asyncValidators=n.asyncValidator),new ot(r,d)}record(t,n=null){let r=this._reduceControls(t);return new vi(r,n)}control(t,n,r){let d={};return this.useNonNullable?(Vn(n)?d=n:(d.validators=n,d.asyncValidators=r),new Mt(t,Q(R({},d),{nonNullable:!0}))):new Mt(t,n,r)}array(t,n,r){let d=t.map(u=>this._createControl(u));return new _i(d,n,r)}_reduceControls(t){let n={};return Object.keys(t).forEach(r=>{n[r]=this._createControl(t[r])}),n}_createControl(t){if(t instanceof Mt)return t;if(t instanceof nt)return t;if(Array.isArray(t)){let n=t[0],r=t.length>1?t[1]:null,d=t.length>2?t[2]:null;return this.control(n,r,d)}else return this.control(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var L=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:kt,useValue:t.callSetDisabledState??Qt}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({imports:[lo]});let i=e;return i})(),Re=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:oo,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:kt,useValue:t.callSetDisabledState??Qt}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({imports:[lo]});let i=e;return i})();var Zr=i=>({show:i});function Yr(i,e){i&1&&Zi(0)}function Xr(i,e){i&1&&(a(0,"div",19)(1,"a",20),l(2,"Qeydiyyat"),s(),l(3," v\u0259 ya "),a(4,"a",21),l(5,"Daxil Ol"),s()())}function Jr(i,e){if(i&1&&(a(0,"span",23),l(1),s()),i&2){let o=g().ngIf;c(),k(o)}}function ea(i,e){if(i&1&&(a(0,"span"),h(1,Jr,2,1,"span",22),s()),i&2){let o=e.ngIf;c(),m("ngIf",o>0)}}function ta(i,e){if(i&1&&f(0,"img",30),i&2){let o=g().$implicit;m("src",o.imageUrls[0],Z)}}function ia(i,e){i&1&&f(0,"img",31)}function na(i,e){if(i&1){let o=I();a(0,"div",26),h(1,ta,1,1,"img",27)(2,ia,1,0,"ng-template",null,1,ft),a(4,"div",28)(5,"p"),l(6),s()(),a(7,"button",29),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.removeItem(n.bookId))}),l(8,"Sil"),s()()}if(i&2){let o=e.$implicit,t=Ue(3);c(),m("ngIf",o.imageUrls.length>0)("ngIfElse",t),c(5),nn("",o.productName,"... - ",o.quantity," x \u20BC",o.price,"")}}function oa(i,e){i&1&&(a(0,"div",32)(1,"a",33),l(2,"S\u0259b\u0259t\u0259 get"),s()())}function ra(i,e){if(i&1&&(gt(0),h(1,na,9,5,"div",24)(2,oa,3,0,"div",25),ht()),i&2){let o=e.ngIf;c(),m("ngForOf",o.items),c(),m("ngIf",o.items.length>0)}}var uo=(()=>{let e=class e{constructor(t,n,r){this.basketService=t,this.authService=n,this.router=r,this.isDropdownOpen=!1,this.userId=null,this.searchKeyword="",this.itemCount$=this.basketService.basketItemCount$,this.totalPrice$=this.basketService.basketTotalPrice$,this.basket$=this.basketService.basket$,this.isLoggedIn$=this.authService.isLoggedIn$}ngOnInit(){this.userId=this.authService.getUserId(),this.basketService.basket$.subscribe(t=>{this.authService.checkLoginStatus()}),this.userId&&this.basketService.loadBasket(this.userId)}searchBooks(){this.searchKeyword.trim()!==""&&this.router.navigate(["/books/search"],{queryParams:{keyword:this.searchKeyword}})}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}logout(){this.authService.logout(),this.basketService.clearBasket(this.userId||"")}removeItem(t){this.userId?this.basketService.removeItemFromBasket(t,this.userId).subscribe(()=>{this.basketService.loadBasket(this.userId)}):console.error("UserId al\u0131na bilm\u0259di, kitab s\u0259b\u0259td\u0259n silin\u0259 bilm\u0259di.")}};e.\u0275fac=function(n){return new(n||e)(p(W),p(N),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-header"]],standalone:!0,features:[C],decls:29,vars:17,consts:[["loggedOut",""],["placeholderImage",""],["id","header",1,"site-header"],[1,"header-actions","d-flex","align-items-center","justify-content-between","py-2"],[1,"browse-categories","dropdown"],["type","button","id","categoriesDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"fas","fa-bars"],[2,"margin","0 7px"],["aria-labelledby","categoriesDropdown",1,"dropdown-menu"],[1,"search-bar","d-flex"],["type","text","placeholder","B\xFCt\xFCn ma\u011Fazan\u0131 burada axtar\u0131n",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",1,"btn","btn-success",3,"click"],[1,"user-options","d-flex","align-items-center"],[4,"ngIf","ngIfElse"],[1,"shopping-cart","d-flex","align-items-center",3,"click"],[1,"fas","fa-shopping-cart"],[1,"cart-amount","ms-2"],[4,"ngIf"],[1,"dropdown-menu",3,"ngClass"],[1,"login-register","me-4"],["routerLink","/register",1,"text-dark"],["routerLink","/login",1,"text-dark"],["class","badge bg-danger ms-2",4,"ngIf"],[1,"badge","bg-danger","ms-2"],["class","basket-item d-flex align-items-center",4,"ngFor","ngForOf"],["class","summary",4,"ngIf"],[1,"basket-item","d-flex","align-items-center"],["class","basket-item-image me-2",3,"src",4,"ngIf","ngIfElse"],[1,"basket-item-details"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"basket-item-image","me-2",3,"src"],["src","path/to/placeholder-image.png","alt","No Image",1,"basket-item-image","me-2"],[1,"summary"],["routerLink","/basket",1,"btn","btn-success"]],template:function(n,r){if(n&1){let d=I();a(0,"header",2),f(1,"app-navbar"),a(2,"div",3)(3,"div",4)(4,"button",5),f(5,"i",6),a(6,"p",7),l(7,"Kitap Kategoriyalar\u0131"),s()(),a(8,"ul",8),f(9,"app-category-list"),s()(),a(10,"div",9)(11,"input",10),D("ngModelChange",function(w){return b(d),E(r.searchKeyword,w)||(r.searchKeyword=w),y(w)}),s(),a(12,"button",11),v("click",function(){return b(d),y(r.searchBooks())}),l(13,"Axtar\u0131\u015F"),s()(),a(14,"div",12),h(15,Yr,1,0,"ng-container",13),q(16,"async"),h(17,Xr,6,0,"ng-template",null,0,ft),a(19,"div",14),v("click",function(){return b(d),y(r.toggleDropdown())}),f(20,"i",15),a(21,"span",16),l(22),q(23,"async"),s(),h(24,ea,2,1,"span",17),q(25,"async"),a(26,"div",18),h(27,ra,3,2,"ng-container",17),q(28,"async"),s()()()()()}if(n&2){let d,u=Ue(18);c(11),P("ngModel",r.searchKeyword),c(4),m("ngIf",J(16,7,r.isLoggedIn$))("ngIfElse",u),c(7),x("",(d=J(23,9,r.totalPrice$))==null?null:d.toFixed(2),"\u20BC"),c(2),m("ngIf",J(25,11,r.itemCount$)),c(2),m("ngClass",_e(15,Zr,r.isDropdownOpen)),c(),m("ngIf",J(28,13,r.basket$))}},dependencies:[kn,Nt,ee,O,Et,A,F,ln,L,H,K,Y],styles:[".header-actions[_ngcontent-%COMP%]{background-color:#fff;border-top:1px solid #ddd;border-bottom:1px solid #ddd;padding:10px 20px}p[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.browse-categories[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;width:300px;margin-right:10px}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;background-color:#6aa846;color:#fff}.user-options[_ngcontent-%COMP%]   .login-register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;margin-right:5px}.shopping-cart[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-family:Montserrat,sans-serif}.shopping-cart[_ngcontent-%COMP%]   .cart-amount[_ngcontent-%COMP%]{color:#6aa846;font-weight:700}.shopping-cart[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:14px}.dropdown-menu[_ngcontent-%COMP%]{width:280px;left:0;top:100%;margin-top:0;border-radius:0;padding:10px 20px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-weight:700;text-decoration:none;display:block;padding:10px 15px;transition:background-color .3s ease,color .3s ease}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#007bff}.shopping-cart[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:100%;right:0;width:250px;background-color:#fff;border:1px solid #ddd;padding:10px;display:none}.shopping-cart[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.basket-item-image[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover}.basket-item-details[_ngcontent-%COMP%]{flex-grow:1}.btn-sm[_ngcontent-%COMP%]{padding:5px 10px;margin-left:10px;transition:background-color .3s ease}.btn-sm[_ngcontent-%COMP%]:hover{background-color:#c82333}.summary[_ngcontent-%COMP%]{padding:10px 15px;border-top:1px solid #e0e0e0;text-align:right}.carousel-inner[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:40px 0}.carousel-item[_ngcontent-%COMP%]{min-height:400px;display:flex;align-items:center;position:relative}.carousel-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:1}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;z-index:0}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);display:flex;justify-content:center;gap:10px}.carousel-indicators[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#6aa846;border:none;border-radius:50%}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#2d5a27}@media (max-width: 768px){.basket-item-image[_ngcontent-%COMP%]{width:40px;height:40px}.basket-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.shopping-cart[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;left:0;right:0}}.shopping-cart[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{max-width:300px;right:0;left:auto;padding:10px;background-color:#fff;border:1px solid #ddd;overflow-y:auto}.basket-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.basket-item-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:10px}.basket-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;flex-grow:1}.btn-sm[_ngcontent-%COMP%]{padding:5px 10px;margin-left:10px;background-color:#dc3545;color:#fff}.summary[_ngcontent-%COMP%]{padding:10px 0;border-top:1px solid #ddd;text-align:center}.summary[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-top:10px;background-color:#6aa846;color:#fff;font-weight:700}.shopping-cart[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block;opacity:1;visibility:visible}@media (max-width: 768px){.shopping-cart[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;left:0;right:0}.basket-item-image[_ngcontent-%COMP%]{width:50px;height:50px}.basket-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}"]});let i=e;return i})();var Yt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-admin-dashboard"]],standalone:!0,features:[C],decls:30,vars:0,consts:[[1,"container-fluid","mt-4"],[1,"row"],[1,"col-lg-3","col-md-6"],[1,"card","bg-primary","text-white","mb-4"],[1,"card-body"],[1,"card","bg-warning","text-white","mb-4"],[1,"card","bg-success","text-white","mb-4"],[1,"card","bg-danger","text-white","mb-4"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),l(6,"\u0130stifad\u0259\xE7il\u0259r"),s(),a(7,"div"),l(8,"798"),s()()()(),a(9,"div",2)(10,"div",5)(11,"div",4)(12,"div"),l(13,"S\u0259hif\u0259 bax\u0131\u015F saylar\u0131"),s(),a(14,"div"),l(15,"9454"),s()()()(),a(16,"div",2)(17,"div",6)(18,"div",4)(19,"div"),l(20,"Ortalam vaxt"),s(),a(21,"div"),l(22,"00:04:30"),s()()()(),a(23,"div",2)(24,"div",7)(25,"div",4)(26,"div"),l(27,"Bounce Rate"),s(),a(28,"div"),l(29,"1.55%"),s()()()()()())},dependencies:[O],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a;border-radius:8px}.card-body[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;display:flex;justify-content:space-between;align-items:center}.card.bg-primary[_ngcontent-%COMP%]{background-color:#007bff}.card.bg-warning[_ngcontent-%COMP%]{background-color:#ffc107}.card.bg-success[_ngcontent-%COMP%]{background-color:#28a745}.card.bg-danger[_ngcontent-%COMP%]{background-color:#dc3545}"]});let i=e;return i})();var aa=()=>["/admin-panel/books/add"];function sa(i,e){if(i&1){let o=I();a(0,"tr")(1,"td"),l(2),s(),a(3,"td"),l(4),s(),a(5,"td"),l(6),s(),a(7,"td"),l(8),s(),a(9,"td"),l(10),s(),a(11,"td")(12,"button",4),v("click",function(){let n=b(o).$implicit,r=g();return y(r.editBook(n.bookId))}),l(13,"Edit"),s(),a(14,"button",5),v("click",function(){let n=b(o).$implicit,r=g();return y(r.deleteBook(n.bookId))}),l(15,"Sil"),s()()()}if(i&2){let o=e.$implicit;c(2),k(o.bookName),c(2),k(o.authorName),c(2),k(o.price),c(2),k(o.stock),c(2),k(o.categoryId)}}var Xt=(()=>{let e=class e{constructor(t,n){this.bookService=t,this.router=n,this.books=[]}ngOnInit(){this.bookService.getBooks().subscribe(t=>{this.books=t.books})}loadBooks(){this.bookService.getBooks().subscribe(t=>{this.books=t.books})}editBook(t){this.router.navigate(["/admin-panel/books/edit",t]).then(n=>{console.log(n?"Navigation successful":"Navigation failed")}).catch(n=>{console.error("Navigation error:",n)})}deleteBook(t){confirm("Bu kitab\u0131 silmek istedi\u011Finizden emin misiniz?")&&this.bookService.deleteBook(t).subscribe({next:()=>{alert("Kitap ba\u015Far\u0131yla silindi!"),this.loadBooks()},error:n=>{console.error("Kitap silme hatas\u0131:",n),alert("Kitap silinirken bir hata olu\u015Ftu.")}})}};e.\u0275fac=function(n){return new(n||e)(p(te),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-book-management"]],standalone:!0,features:[C],decls:22,vars:3,consts:[[1,"container","mt-4"],[1,"btn","btn-primary","mb-3",3,"routerLink"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","deleteBook",1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h1"),l(2,"Book management "),s(),a(3,"button",1),l(4,"Add Book "),s(),a(5,"table",2)(6,"thead")(7,"tr")(8,"th"),l(9,"Kitab Ad\u0131"),s(),a(10,"th"),l(11,"Yazar"),s(),a(12,"th"),l(13,"Qiym\u0259t"),s(),a(14,"th"),l(15,"Stok"),s(),a(16,"th"),l(17,"Kategoriya"),s(),a(18,"th"),l(19,"Prosesl\u0259r"),s()()(),a(20,"tbody"),h(21,sa,16,5,"tr",3),s()()()),n&2&&(c(3),m("routerLink",Ot(2,aa)),c(18),m("ngForOf",r.books))},dependencies:[O,A,V,ee,L,Re],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;-webkit-user-select:none;user-select:none;font-family:Montserrat,sans-serif}h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3f301d;font-family:Arial,Helvetica,sans-serif;letter-spacing:1.2;line-height:1.4}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:default}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.img-thumbnail[_ngcontent-%COMP%]{border:none;object-fit:cover}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;text-align:center;text-decoration:none;color:#fff;border-radius:5px;transition:background-color .3s ease}.btn-warning[_ngcontent-%COMP%]{background-color:#f0ad4e;border:none}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ec971f}.btn-danger[_ngcontent-%COMP%]{background-color:#d9534f;border:none}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c9302c}#deleteBook[_ngcontent-%COMP%]{margin-left:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#f0ad4e;border-color:#f0ad4e;color:#fff;font-weight:700;border-radius:4px;padding:10px 20px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#ec971f;border-color:#ec971f}"]});let i=e;return i})();var Pe=function(i){return i[i.Pending=0]="Pending",i[i.Confirmed=1]="Confirmed",i[i.Shipped=2]="Shipped",i[i.Delivered=3]="Delivered",i[i.Canceled=4]="Canceled",i}(Pe||{});var lt=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl="http://localhost:5287/api/Orders"}createOrder(t){return this.http.post(`${this.baseUrl}`,t)}getOrders(){return this.http.get(`${this.baseUrl}`)}getAllOrders(){return this.http.get(`${this.baseUrl}/getAll`).pipe(z(t=>t.orders))}getOrderWithDetailsById(t){return this.http.get(`${this.baseUrl}/GetOrderWithDetailsById/${t}`)}getOrderById(t){return this.http.get(`${this.baseUrl}/${t}`)}};e.\u0275fac=function(n){return new(n||e)(T(oe))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var la=(i,e,o,t,n)=>({pending:i,confirmed:e,shipped:o,delivered:t,canceled:n});function ca(i,e){i&1&&(a(0,"div",3)(1,"p"),l(2,"H\u0259l\u0259ki he\xE7bir sifari\u015F yoxdur."),s()())}function da(i,e){if(i&1){let o=I();a(0,"tr")(1,"td"),l(2),s(),a(3,"td"),l(4),q(5,"date"),s(),a(6,"td"),l(7),s(),a(8,"td",6),l(9),s(),a(10,"td")(11,"button",7),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.viewOrderDetails(n.id))}),l(12,"Detallar"),s()()()}if(i&2){let o=e.$implicit,t=g(2);c(2),k(o.orderNumber),c(2),k(St(5,5,o.orderDate,"short")),c(3),k(o.deliveryAddress),c(),m("ngClass",on(8,la,o.status===0,o.status===1,o.status===2,o.status===3,o.status===4)),c(),x(" ",t.getOrderStatusLabel(o.status)," ")}}function ua(i,e){if(i&1&&(a(0,"div")(1,"table",4)(2,"thead")(3,"tr")(4,"th"),l(5,"Sifrai\u015F n\xF6mr\u0259si"),s(),a(6,"th"),l(7,"Tarix"),s(),a(8,"th"),l(9,"Address"),s(),a(10,"th"),l(11,"Status"),s(),a(12,"th"),l(13,"Sifari\u015FDetal"),s()()(),a(14,"tbody"),h(15,da,13,14,"tr",5),s()()()),i&2){let o=g();c(15),m("ngForOf",o.orders)}}var mo=(()=>{let e=class e{constructor(t,n){this.orderService=t,this.router=n,this.orders=[]}ngOnInit(){this.getOrders()}getOrders(){this.orderService.getAllOrders().subscribe(t=>{this.orders=t,console.log("Gelen Sipari\u015Fler:",this.orders)},t=>{console.error("Sipari\u015Fler getirilemedi:",t)})}viewOrderDetails(t){this.router.navigate(["/admin-panel/orders",t])}getOrderStatusLabel(t){switch(t){case Pe.Pending:return"G\xF6zl\u0259yir";case Pe.Confirmed:return"R\u0259smil\u0259\u015Fdi";case Pe.Shipped:return"Yola \xE7\u0131xd\u0131";case Pe.Delivered:return"T\u0259slim  Eildi";case Pe.Canceled:return"L\u0259\u011Fv edildi";default:return"Bilinmir"}}};e.\u0275fac=function(n){return new(n||e)(p(lt),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-order-management"]],decls:5,vars:2,consts:[[1,"order-management-container"],["class","no-orders",4,"ngIf"],[4,"ngIf"],[1,"no-orders"],[1,"order-table"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"view-details-button",3,"click"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h2"),l(2,"Order Managemenet "),s(),h(3,ca,3,0,"div",1)(4,ua,16,1,"div",2),s()),n&2&&(c(3),m("ngIf",r.orders.length===0),c(),m("ngIf",r.orders.length>0))},dependencies:[Et,A,F,Dt],styles:[".order-management-container[_ngcontent-%COMP%]{padding:10px;max-width:1000px;margin:auto;font-family:Arial,sans-serif;font-size:14px;font-family:Montserrat,sans-serif}.order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:15px;box-shadow:0 2px 5px #0000001a}.order-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}.order-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f9f9f9;font-weight:600;font-size:14px;color:#333}.order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;color:#555}.view-details-button[_ngcontent-%COMP%]{padding:4px 8px;background-color:#28a745;color:#fff;border:none;border-radius:3px;cursor:pointer;font-size:12px;transition:background-color .3s ease}.view-details-button[_ngcontent-%COMP%]:hover{background-color:#218838}.pending[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.confirmed[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.shipped[_ngcontent-%COMP%]{color:#9c27b0;font-weight:700}.delivered[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.canceled[_ngcontent-%COMP%]{color:#f44336;font-weight:700}@media (max-width: 768px){.order-management-container[_ngcontent-%COMP%]{padding:5px}.order-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;font-size:12px}.view-details-button[_ngcontent-%COMP%]{font-size:10px;padding:3px 6px}}"]});let i=e;return i})();var po=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-user-management"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h2"),l(2,"User Management"),s()())}});let i=e;return i})();var Jt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-admin-sidebar"]],standalone:!0,features:[C],decls:17,vars:0,consts:[["id","sidebar-wrapper",1,"bg-dark","text-white"],[1,"sidebar-heading","text-center","py-4","primary-text","fs-4","fw-bold","text-uppercase","border-bottom"],[1,"fas","fa-user-secret","me-2"],[1,"list-group","list-group-flush","my-3"],["routerLink","/admin-panel/users",1,"list-group-item","list-group-item-action","bg-transparent","text-white"],[1,"fas","fa-users"],["routerLink","/admin-panel/books",1,"list-group-item","list-group-item-action","bg-transparent","text-white"],[1,"fas","fa-book"],["routerLink","/admin-panel/reviews",1,"list-group-item","list-group-item-action","bg-transparent","text-white"],[1,"fas","fa-comments"],["routerLink","/admin-panel/orders",1,"list-group-item","list-group-item-action","bg-transparent","text-white"],[1,"fas","fa-shopping-cart"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1),f(2,"i",2),l(3,"Admin Panel "),s(),a(4,"div",3)(5,"a",4),f(6,"i",5),l(7," User Management "),s(),a(8,"a",6),f(9,"i",7),l(10," Book Management "),s(),a(11,"a",8),f(12,"i",9),l(13," Review Management "),s(),a(14,"a",10),f(15,"i",11),l(16," Order Management "),s()()())},dependencies:[V,ee],styles:["#sidebar-wrapper[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background-color:#343a40;height:100vh;position:fixed;z-index:100;transition:all .3s}.sidebar-heading[_ngcontent-%COMP%]{font-size:1.2rem;padding:15px}.list-group-item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;border:none;padding:20px;color:#fff;transition:background-color .3s,color .3s}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}"]});let i=e;return i})();var go=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-access-denied"]],decls:7,vars:0,consts:[[1,"access-denied-container"],["routerLink","/"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h1"),l(2,"Eri\u015Fim Reddedildi"),s(),a(3,"p"),l(4,"Bu sayfay\u0131 g\xF6r\xFCnt\xFCleme yetkiniz yok."),s(),a(5,"a",1),l(6,"Ana Sayfa'ya D\xF6n"),s()())},dependencies:[ee],styles:[".access-denied[_ngcontent-%COMP%]{text-align:center;padding:50px}.access-denied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}"]});let i=e;return i})();var ho=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({imports:[V,Jt,Xt,Yt,O,L]});let i=e;return i})();var fo=(()=>{let e=class e{constructor(){this.title="BookShelfterClientAngular"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-root"]],standalone:!0,features:[C],decls:1,vars:0,template:function(n,r){n&1&&f(0,"router-outlet")},dependencies:[Ze,O,ho]});let i=e;return i})();var Ei=i=>["/books",i];function ma(i,e){if(i&1&&f(0,"img",21),i&2){let o=g().$implicit;m("src",o.imageUrls[0],Z)}}function pa(i,e){if(i&1){let o=I();a(0,"div",10)(1,"div",11),h(2,ma,1,1,"img",12),a(3,"div",13)(4,"h5",14)(5,"a",15),l(6),s()(),a(7,"h6",16),l(8),s(),a(9,"p",17),l(10),s(),a(11,"div",18)(12,"button",19),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.addToBasket(n.bookId))}),s(),f(13,"button",20),s()()()()}if(i&2){let o=e.$implicit;c(2),m("ngIf",o.imageUrls.length>0),c(3),m("routerLink",_e(5,Ei,o.bookId)),c(),k(o.bookName),c(2),k(o.authorName),c(2),x("",o.price,"\u20BC")}}function ga(i,e){if(i&1&&(a(0,"div",7)(1,"div",8),h(2,pa,14,7,"div",9),s()()),i&2){let o=g();c(2),m("ngForOf",o.featuredProducts)}}function ha(i,e){if(i&1&&f(0,"img",21),i&2){let o=g().$implicit;m("src",o.imageUrls[0],Z)}}function fa(i,e){if(i&1){let o=I();a(0,"div",10)(1,"div",11),h(2,ha,1,1,"img",12),a(3,"div",13)(4,"h5",14)(5,"a",15),l(6),s()(),a(7,"h6",16),l(8),s(),a(9,"p",17),l(10),s(),a(11,"div",18)(12,"button",19),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.addToBasket(n.bookId))}),s(),f(13,"button",20),s()()()()}if(i&2){let o=e.$implicit;c(2),m("ngIf",o.imageUrls.length>0),c(3),m("routerLink",_e(5,Ei,o.bookId)),c(),k(o.bookName),c(2),k(o.authorName),c(2),x("",o.price,"\u20BC")}}function va(i,e){if(i&1&&(a(0,"div",7)(1,"div",8),h(2,fa,14,7,"div",9),s()()),i&2){let o=g();c(2),m("ngForOf",o.newArrivals)}}function _a(i,e){if(i&1&&f(0,"img",21),i&2){let o=g().$implicit;m("src",o.imageUrls[0],Z)}}function ba(i,e){if(i&1){let o=I();a(0,"div",10)(1,"div",11),h(2,_a,1,1,"img",12),a(3,"div",13)(4,"h5",14)(5,"a",15),l(6),s()(),a(7,"h6",16),l(8),s(),a(9,"p",17),l(10),s(),a(11,"div",18)(12,"button",19),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.addToBasket(n.bookId))}),s()()()()()}if(i&2){let o=e.$implicit;c(2),m("ngIf",o.imageUrls.length>0),c(3),m("routerLink",_e(5,Ei,o.bookId)),c(),k(o.bookName),c(2),k(o.authorName),c(2),x("",o.price,"\u20BC")}}function ya(i,e){if(i&1&&(a(0,"div",7)(1,"div",8),h(2,ba,13,7,"div",9),s()()),i&2){let o=g();c(2),m("ngForOf",o.mostViewProducts)}}var Di=(()=>{let e=class e{constructor(t,n,r,d,u){this.bookService=t,this.router=n,this.basketService=r,this.authService=d,this.toastr=u,this.activeTab="featured",this.featuredProducts=[],this.newArrivals=[],this.mostViewProducts=[],this.userId=null}ngOnInit(){this.loadFeaturedBooks(),this.loadNewArrivals(),this.loadMostViewedBooks()}selectTab(t){this.activeTab=t}loadFeaturedBooks(){this.bookService.getFeaturedBooks().subscribe(t=>{this.featuredProducts=t})}loadNewArrivals(){this.bookService.getNewArrivals().subscribe(t=>{this.newArrivals=t},t=>{console.log("Error fetching featured books",t)})}loadMostViewedBooks(){this.bookService.getMostViewedBooks().subscribe(t=>{this.mostViewProducts=t})}ViewBookDetails(t){this.router.navigate(["/books",t])}addToBasket(t){if(this.userId=this.authService.getUserId(),!this.userId){this.toastr.warning("S\u0259b\u0259t\u0259 kitap \u0259lav\u0259 etm\u0259k \xFC\xE7\xFCn Daxil olun "),this.router.navigate(["/login"]);return}this.basketService.addItemToBasket(t,1,this.userId).subscribe(()=>{this.basketService.getBasket(this.userId).subscribe()})}};e.\u0275fac=function(n){return new(n||e)(p(te),p(M),p(W),p(N),p(ae))},e.\u0275cmp=_({type:e,selectors:[["app-home"]],standalone:!0,features:[C],decls:16,vars:9,consts:[[1,"container","my-4"],["id","productTab","role","tablist",1,"nav","nav-tabs","justify-content-center"],["role","presentation",1,"nav-item"],[1,"nav-link",3,"click"],[1,"arrow-icon"],["id","productTabContent",1,"tab-content"],["class","tab-pane fade show active",4,"ngIf"],[1,"tab-pane","fade","show","active"],[1,"row","mt-3"],["class","col-lg-3 col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6","mb-4"],[1,"card"],["class","card-img-top","alt","Product Image",3,"src",4,"ngIf"],[1,"card-body","text-center"],[1,"card-title"],[1,"text-dark",3,"routerLink"],[1,"text-muted"],[1,"card-text"],[1,"card-buttons","mt-3"],["data-tooltip","S\u0259b\u0259t\u0259 \u018Flav\u0259 et",1,"icon-btn","icon-cart",3,"click"],["data-tooltip","Detaylar\u0131 G\xF6r",1,"icon-btn","icon-eye"],["alt","Product Image",1,"card-img-top",3,"src"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),v("click",function(){return r.selectTab("featured")}),l(4,"\xD6n\u0259 \xE7\u0131xan Kitablar"),s(),f(5,"span",4),s(),a(6,"li",2)(7,"a",3),v("click",function(){return r.selectTab("new")}),l(8,"Yeni G\u0259l\u0259nl\u0259r"),s()(),a(9,"li",2)(10,"a",3),v("click",function(){return r.selectTab("most")}),l(11,"\u018Fn \xE7ox bax\u0131lan"),s()()(),a(12,"div",5),h(13,ga,3,1,"div",6)(14,va,3,1,"div",6)(15,ya,3,1,"div",6),s()()),n&2&&(c(3),G("active",r.activeTab==="featured"),c(4),G("active",r.activeTab==="new"),c(3),G("active",r.activeTab==="most"),c(3),m("ngIf",r.activeTab==="featured"),c(),m("ngIf",r.activeTab==="new"),c(),m("ngIf",r.activeTab==="most"))},dependencies:[O,A,F,V,ee],styles:['.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:16px;transition:background-color .3s ease-in-out,color .3s ease-in-out;position:relative;padding-bottom:15px;font-size:17px;color:#797c93;line-height:38px;text-transform:capitalize;font-weight:600;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-style:normal}#productTabContent[_ngcontent-%COMP%]{margin-top:35px;border-bottom:2px}body[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:#6aa846;color:#6aa846}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;border-color:#6aa846;color:#6aa846}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #0000001a;background-color:#f8f9fa;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;display:flex;flex-direction:column;justify-content:space-between;width:80%;cursor:pointer;padding:10px;margin:auto;-webkit-user-select:none;user-select:none}.card-body[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:space-between;font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #00000026}.card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:8px;font-family:Montserrat,sans-serif}.text-muted[_ngcontent-%COMP%]{font-size:14px;color:#777;margin-bottom:10px;font-family:Montserrat,sans-serif}.card-text[_ngcontent-%COMP%]{font-size:14px;color:#999;margin-bottom:10px}.card-img-top[_ngcontent-%COMP%]{height:230px;object-fit:contain;margin-bottom:15px}.badge[_ngcontent-%COMP%]{font-size:14px}.card-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background-color:transparent;font-family:Montserrat,sans-serif;position:relative;border:none;cursor:pointer;font-size:20px;color:#6aa846;transition:color .3s ease-in-out,transform .2s ease-in-out}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{color:#4c8033;transform:translateY(-2px)}.icon-cart[_ngcontent-%COMP%]:before{content:"\\f217";font-family:"Font Awesome 5 Free";font-weight:900}.icon-details[_ngcontent-%COMP%]:before{content:"\\f05a";font-family:"Font Awesome 5 Free";font-weight:400}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;top:110%;left:50%;transform:translate(-50%);background-color:#384332;color:#fff;padding:4px 8px;border-radius:3px;font-size:12px;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover:after{opacity:1;visibility:visible;transform:translate(-37%,8px)}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.container.my-4[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.row.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.arrow-icon[_ngcontent-%COMP%]{position:absolute;display:block;opacity:1}.arrow-icon[_ngcontent-%COMP%]:after{position:absolute;content:"";border-width:13px 10px;border-style:solid;left:2px;border-color:#fff transparent transparent transparent;top:-2px}']});let i=e;return i})();var vo=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl="http://localhost:5287/api/Review"}addReview(t){return this.http.post(`${this.baseUrl}/AddReviews`,t)}getReviews(t){return this.http.get(`${this.baseUrl}/books/${t}/reviews`)}};e.\u0275fac=function(n){return new(n||e)(T(oe))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function xa(i,e){if(i&1&&(a(0,"span"),f(1,"i",9),s()),i&2){let o=e.index,t=g().$implicit;c(),G("filled",o<t.rating)}}function Ma(i,e){if(i&1&&(a(0,"div",7)(1,"p")(2,"strong"),l(3,"Raiting:"),s(),h(4,xa,2,2,"span",8),l(5),s(),a(6,"p"),l(7),s(),a(8,"p")(9,"em"),l(10),s()(),f(11,"hr"),s()),i&2){let o=e.$implicit,t=g();c(4),m("ngForOf",t.stars),c(),x(" ",o.rating," "),c(2),k(o.comment),c(3),x("User: ",o.userName,"")}}function ka(i,e){if(i&1){let o=I();a(0,"i",21),v("click",function(){let n=b(o).index,r=g(2);return y(r.selectStar(n+1))})("mouseenter",function(){let n=b(o).index,r=g(2);return y(r.hoverStar(n+1))})("mouseleave",function(){b(o);let n=g(2);return y(n.hoverStar(0))}),s()}if(i&2){let o=e.index,t=g(2);G("filled",o<t.currentRating||o<t.hoverRating)}}function wa(i,e){i&1&&(a(0,"div",22),l(1," \u015E\u0259rh qismi b\xF6\u015F \xF6t\xFCr\xFCl\u0259 bilm\u0259z "),s())}function Oa(i,e){if(i&1){let o=I();a(0,"form",10,1),v("ngSubmit",function(){b(o);let n=Ue(1),r=g();return y(r.addReview(n))}),a(2,"input",11),D("ngModelChange",function(n){b(o);let r=g();return E(r.newReview.bookId,n)||(r.newReview.bookId=n),y(n)}),s(),a(3,"input",12),D("ngModelChange",function(n){b(o);let r=g();return E(r.newReview.userId,n)||(r.newReview.userId=n),y(n)}),s(),a(4,"div",13)(5,"label",14),l(6,"Raiting"),s(),a(7,"div",15),h(8,ka,1,2,"i",16),s()(),a(9,"div",13)(10,"label",17),l(11,"Comment"),s(),a(12,"textarea",18),D("ngModelChange",function(n){b(o);let r=g();return E(r.newReview.comment,n)||(r.newReview.comment=n),y(n)}),s(),h(13,wa,2,0,"div",19),s(),a(14,"button",20),l(15,"\u015E\u0259rh yaz"),s()()}if(i&2){let o=Ue(1),t=g();c(2),P("ngModel",t.newReview.bookId),c(),P("ngModel",t.newReview.userId),c(5),m("ngForOf",t.stars),c(4),P("ngModel",t.newReview.comment),c(),m("ngIf",!t.newReview.comment&&o.submitted)}}function Sa(i,e){if(i&1){let o=I();a(0,"div",23)(1,"p"),l(2,"\u015E\u0259rh yaza bilm\u0259k \xFC\xE7\xFCn "),a(3,"a",24),v("click",function(){b(o);let n=g();return y(n.showLoginPrompt())}),l(4,"Daxil olmal\u0131s\u0131n\u0131z"),s(),l(5,"."),s()()}}function Ia(i,e){if(i&1&&(a(0,"div",25),l(1),s()),i&2){let o=g();c(),x(" ",o.errorMessage," ")}}function Pa(i,e){if(i&1){let o=I();a(0,"div",26)(1,"div",27)(2,"h4"),l(3,"Daxil olmal\u0131s\u0131n\u0131z "),s(),a(4,"p"),l(5,"\u015E\u0259rh yaza bilm\u0259k \xFC\xE7\xFCn xai\u015F olunur hesab\u0131n\u0131za daxil olun."),s(),a(6,"button",28),v("click",function(){b(o);let n=g();return y(n.redirectToLogin())}),l(7,"Daxil ol"),s(),a(8,"button",29),v("click",function(){b(o);let n=g();return y(n.closeModal())}),l(9,"ba\u011Fla"),s()()()}}var _o=(()=>{let e=class e{constructor(t,n,r,d,u){this.reviewService=t,this.authService=n,this.router=r,this.toastr=d,this.changeDetectorRef=u,this.reviews=[],this.newReview={bookId:0,userId:"",rating:0,comment:"",userName:""},this.stars=[1,2,3,4,5],this.currentRating=0,this.hoverRating=0,this.isLoggedIn=!1,this.showModal=!1,this.errorMessage=""}ngOnInit(){console.log("Received bookId: ",this.bookId),this.isLoggedIn=!!this.authService.getToken(),this.currentRating=0,this.hoverRating=0,this.loadReviews()}loadReviews(){this.reviewService.getReviews(this.bookId).subscribe({next:t=>{t&&t.reviews&&(this.reviews=t.reviews)},error:t=>{t.status===204?(console.log("Bu kitap i\xE7in hen\xFCz yorum yap\u0131lmam\u0131\u015F."),this.reviews=[]):this.toastr.error("Yorumlar y\xFCklenirken bir hata olu\u015Ftu.","Hata")}})}onReviewSectionClick(){this.isLoggedIn||(this.showModal=!0)}showLoginPrompt(){this.showModal=!0}closeModal(){this.showModal=!1}redirectToLogin(){this.router.navigate(["/login"])}selectStar(t){this.currentRating=t,this.newReview.rating=t}hoverStar(t){this.hoverRating=t}addReview(t){if(!t.valid||this.currentRating===0){this.toastr.warning("Xai\u015F edirik \u015F\u0259rh qismini doldurun.","Uyar\u0131");return}this.newReview.bookId=this.bookId,this.newReview.userId=this.authService.getUserId(),this.newReview.userName=this.authService.getUserName(),this.reviewService.addReview(this.newReview).subscribe({next:n=>{n.success?(this.reviews.push(n.review),t.resetForm(),this.currentRating=0,this.hoverRating=0,this.loadReviews(),this.toastr.success("\u015E\u0259rhiniz \u0259lav\u0259  edildi.","U\u011Furlu")):this.toastr.error(n.message,"X\u0259ta")},error:n=>{n.error&&n.error.message?this.toastr.error(n.error.message,"X\u0259ta"):this.toastr.error("\u015E\u0259rh \u0259lav\u0259 edil\u0259rk\u0259n bir problem ba\u015F verdi.","X\u0259ta")}})}};e.\u0275fac=function(n){return new(n||e)(p(vo),p(N),p(M),p(ae),p(Pt))},e.\u0275cmp=_({type:e,selectors:[["app-review"]],inputs:{bookId:"bookId"},standalone:!0,features:[C],decls:7,vars:5,consts:[["loginWarning",""],["newReviewForm","ngForm"],["class","review",4,"ngFor","ngForOf"],[1,"review-form-container",3,"click"],["class","review-form",3,"ngSubmit",4,"ngIf","ngIfElse"],["class","alert alert-danger",4,"ngIf"],["class","login-modal",4,"ngIf"],[1,"review"],[4,"ngFor","ngForOf"],[1,"fa","fa-star"],[1,"review-form",3,"ngSubmit"],["type","hidden","name","bookId",3,"ngModelChange","ngModel"],["type","hidden","name","userId",3,"ngModelChange","ngModel"],[1,"form-group"],["for","rating"],[1,"stars"],["class","fa fa-star",3,"filled","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["for","comment"],["id","comment","name","comment",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-star",3,"click","mouseenter","mouseleave"],[1,"text-danger"],[1,"login-warning"],["href","javascript:void(0);",3,"click"],[1,"alert","alert-danger"],[1,"login-modal"],[1,"modal-content"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(n,r){if(n&1){let d=I();h(0,Ma,12,4,"div",2),a(1,"div",3),v("click",function(){return b(d),y(r.onReviewSectionClick())}),h(2,Oa,16,5,"form",4)(3,Sa,6,0,"ng-template",null,0,ft),s(),h(5,Ia,2,1,"div",5)(6,Pa,10,0,"div",6)}if(n&2){let d=Ue(4);m("ngForOf",r.reviews),c(2),m("ngIf",r.isLoggedIn)("ngIfElse",d),c(3),m("ngIf",r.errorMessage),c(),m("ngIf",r.showModal)}},dependencies:[O,A,F,L,ye,H,K,be,Y,Oe],styles:[".review[_ngcontent-%COMP%]{padding:15px;background-color:#f8f9fa;border-radius:6px;margin-bottom:15px;box-shadow:0 2px 4px #0000001a;font-family:Montserrat,sans-serif;font-weight:400;font-size:15px}em[_ngcontent-%COMP%]{color:#0ca32f}.review-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.review-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:4px;padding:10px;border:1px solid #ced4da}.review-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#6aa846;border-color:#6aa846;transition:background-color .3s ease,border-color .3s ease}.review-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4c8033;border-color:#4c8033}.star-rating[_ngcontent-%COMP%]{font-size:24px;color:gold}.fa-star[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s}.fa-star.filled[_ngcontent-%COMP%]{color:gold}.stars[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;color:#e0e0e0}.stars[_ngcontent-%COMP%]   i.filled[_ngcontent-%COMP%]{color:#ffc107}.login-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.modal-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:5px}.review-form-container[_ngcontent-%COMP%]{position:relative}.login-warning[_ngcontent-%COMP%]{cursor:pointer;background-color:#fffc;padding:10px;text-align:center;border-radius:4px}.review[_ngcontent-%COMP%]{margin-bottom:20px}.review[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.username[_ngcontent-%COMP%]{color:#6c757d;font-size:.9em;font-style:italic}.hr[_ngcontent-%COMP%]{border:0;height:1px;background-color:#e0e0e0;margin-top:10px;margin-bottom:10px}.toast-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff!important;border-radius:10px;box-shadow:0 4px 8px #0003}.toast-error[_ngcontent-%COMP%]{background-color:#dc3545!important;color:#fff!important;border-radius:10px;box-shadow:0 4px 8px #0003}"]});let i=e;return i})();function Ea(i,e){if(i&1){let o=I();a(0,"div",3)(1,"div",4),f(2,"img",5),a(3,"div",6)(4,"h5",7)(5,"a",8),v("click",function(){let n=b(o).$implicit,r=g();return y(r.navigateToDetail(n.bookId))}),l(6),s()(),a(7,"p",9),l(8),s()()()()}if(i&2){let o=e.$implicit;c(2),ve("alt",o.bookName),m("src",o.imageUrls[0],Z),c(4),k(o.bookName),c(2),k(o.authorName)}}var bo=(()=>{let e=class e{constructor(t,n){this.bookService=t,this.router=n,this.relatedBooks=[]}ngOnInit(){console.log("Category ID:",this.categoryId),console.log("Current Book ID:",this.currentBookId),this.categoryId&&this.bookService.getRelatedBooks(this.categoryId).subscribe(t=>{this.relatedBooks=t.filter(n=>n.bookId!==this.currentBookId),console.log(this.relatedBooks)})}navigateToDetail(t){this.router.navigate(["/books",t])}};e.\u0275fac=function(n){return new(n||e)(p(te),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-related-books"]],inputs:{categoryId:"categoryId",currentBookId:"currentBookId"},standalone:!0,features:[C],decls:5,vars:1,consts:[[1,"related-products","mt-4"],[1,"book-list"],["class","book-item",4,"ngFor","ngForOf"],[1,"book-item"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"text-dark",3,"click"],[1,"card-text"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h3"),l(2,"B\u0259nz\u0259r Kitablar"),s(),a(3,"div",1),h(4,Ea,9,4,"div",2),s()()),n&2&&(c(4),m("ngForOf",r.relatedBooks))},dependencies:[O,A,L,V],styles:[".related-products[_ngcontent-%COMP%]{margin-top:20px;text-align:center;margin-bottom:32px}.related-products[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:2px solid #c0cbd8;padding-bottom:10px;margin-bottom:20px;color:#606366;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}.book-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:20px}.book-item[_ngcontent-%COMP%]{max-width:200px;flex:1;text-align:center}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:10px;overflow:hidden;transition:transform .2s;cursor:pointer;font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-img-top[_ngcontent-%COMP%]{width:100%;height:250px;margin-top:20px;margin-left:2px;object-fit:contain}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1rem;margin-top:10px;font-weight:400}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-text[_ngcontent-%COMP%]{font-size:.875rem;color:#555}"]});let i=e;return i})();var Da=["reviewsSection"];function Fa(i,e){if(i&1&&f(0,"img",34),i&2){let o=g(2);ve("alt",o.book.bookName),m("src",o.book.imageUrls[0],Z)}}function Ta(i,e){if(i&1&&(a(0,"div",35),f(1,"img",36),s()),i&2){let o=e.$implicit;c(),m("src",o,Z)}}function Va(i,e){if(i&1&&f(0,"i",37),i&2){let o=e.index,t=g(2);G("filled",o<t.averageRating)("empty",o>=t.averageRating)}}function Aa(i,e){if(i&1&&f(0,"app-related-books",38),i&2){let o=g(2);m("categoryId",o.book.categoryId)("currentBookId",o.book.bookId)}}function Na(i,e){if(i&1){let o=I();a(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),h(4,Fa,1,2,"img",7),s(),a(5,"div",8),h(6,Ta,2,1,"div",9),s()(),a(7,"div",10)(8,"h2",11),l(9),s(),a(10,"h4",12),l(11),s(),a(12,"p",13),l(13),s(),a(14,"p",14)(15,"strong"),l(16,"Stok v\u0259ziy\u0259ti:"),s(),l(17),s(),a(18,"p"),l(19),s(),a(20,"div",15)(21,"span",16),l(22),s(),a(23,"div",17),h(24,Va,1,4,"i",18),s(),a(25,"p"),l(26),a(27,"a",19),v("click",function(){b(o);let n=g();return y(n.selectTab("reviews"))}),l(28,"\u015E\u0259rh Yaz\u0131n"),s()()(),a(29,"div",20)(30,"div",21)(31,"label",22),l(32,"\u018Fd\u0259d"),s(),a(33,"input",23),D("ngModelChange",function(n){b(o);let r=g();return E(r.quantity,n)||(r.quantity=n),y(n)}),v("input",function(){b(o);let n=g();return y(n.checkQuantity())})("change",function(){b(o);let n=g();return y(n.checkQuantity())})("keypress",function(n){b(o);let r=g();return y(r.limitInputLength(n))}),s()(),a(34,"button",24),v("click",function(){b(o);let n=g();return y(n.addToBasket(n.book.bookId))}),l(35,"S\u0259b\u0259t\u0259 at"),s()()()(),a(36,"div",25)(37,"button",26),v("click",function(){b(o);let n=g();return y(n.selectTab("description"))}),l(38,"Kitab Haqq\u0131nda"),s(),a(39,"button",27,0),v("click",function(){b(o);let n=g();return y(n.selectTab("reviews"))}),l(41),s()(),a(42,"div",28)(43,"div",29)(44,"p"),l(45),s()(),a(46,"div",30),f(47,"app-review",31),s()(),a(48,"div",32)(49,"div",4),h(50,Aa,1,2,"app-related-books",33),s()()()}if(i&2){let o=g();c(4),m("ngIf",o.book.imageUrls.length>0),c(2),m("ngForOf",o.book.imageUrls),c(3),k(o.book.bookName),c(2),k(o.book.authorName),c(2),x("Qiym\u0259t: ",o.book.price,"\u20BC"),c(4),x(" ",o.book.stock>0?"M\xF6vcud":"Stokta yok"," "),c(2),k(o.book.description),c(3),x("",o.averageRating," out of 5 stars"),c(2),m("ngForOf",o.stars),c(2),x("",o.totalReviews," global ratings | "),c(7),P("ngModel",o.quantity),c(4),G("active",o.activeTab==="description"),c(2),G("active",o.activeTab==="reviews"),c(2),x("\u015E\u0259rhl\u0259r (",o.totalReviews,")"),c(2),G("active",o.activeTab==="description")("show",o.activeTab==="description"),c(2),k(o.book.description),c(),G("active",o.activeTab==="reviews")("show",o.activeTab==="reviews"),c(),m("bookId",o.book.bookId),c(3),m("ngIf",o.book.categoryId!==null)}}function Ba(i,e){i&1&&(a(0,"div",39),f(1,"i",40),l(2," Data y\xFCkl\u0259nir... "),s())}var yo=(()=>{let e=class e{constructor(t,n,r,d,u,w){this.activatedRoute=t,this.router=n,this.bookService=r,this.basketService=d,this.authService=u,this.toastr=w,this.activeTab="description",this.averageRating=0,this.totalReviews=0,this.stars=[1,2,3,4,5],this.quantity=1,this.userId=null}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{let n=t.get("id");n&&(this.loadBookDetails(+n),window.scrollTo({top:0,behavior:"smooth"}))})}loadBookDetails(t){this.bookService.getBookDetails(t).subscribe({next:n=>{this.book=n,this.averageRating=this.book.averageRating,this.totalReviews=this.book.totalReviews},error:n=>{}})}selectTab(t){this.activeTab=t,t==="reviews"&&this.reviewsSection&&this.scrollToReviews()}scrollToReviews(){this.reviewsSection.nativeElement.scrollIntoView({behavior:"smooth"})}quickRate(t){console.log(`User rated this product: ${t} stars`)}addToBasket(t){if(this.userId=this.authService.getUserId(),!this.userId){this.toastr.warning("S\u0259b\u0259t\u0259 kitap \u0259lav\u0259 etm\u0259k \xFC\xE7\xFCn Daxil olun "),this.router.navigate(["/login"]);return}if(this.quantity<1){alert("d\xFCzg\xFCn miqdar girin z\u0259hm\u0259t olmasa");return}this.basketService.addItemToBasket(t,this.quantity,this.userId).subscribe(()=>{this.basketService.getBasket(this.userId).subscribe()})}limitInputLength(t){t.target.value.length>=2&&t.key>="0"&&t.key<="9"&&t.preventDefault()}checkQuantity(){this.quantity>99?this.quantity=99:this.quantity<1&&(this.quantity=1)}};e.\u0275fac=function(n){return new(n||e)(p(ce),p(M),p(te),p(W),p(N),p(ae))},e.\u0275cmp=_({type:e,selectors:[["app-book-detail"]],viewQuery:function(n,r){if(n&1&&Xi(Da,5),n&2){let d;Ji(d=en())&&(r.reviewsSection=d.first)}},standalone:!0,features:[C],decls:2,vars:2,consts:[["reviewsSection",""],["class","container mt-4 book-details-page",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"container","mt-4","book-details-page"],[1,"row"],[1,"col-md-4"],[1,"main-book-image"],["class","img-fluid main-image",3,"src","alt",4,"ngIf"],[1,"additional-images","mt-3"],["class","additional-image-item",4,"ngFor","ngForOf"],[1,"col-md-8"],[1,"book-title"],[1,"text-muted","author-name"],[1,"text-muted","price"],[1,"text-muted"],[1,"average-rating"],[1,"average-rating-value"],[1,"stars"],["class","fa fa-star",3,"filled","empty",4,"ngFor","ngForOf"],["href","javascript:void(0);",2,"font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",3,"click"],[1,"action-buttons","mt-3"],[1,"quantity-wrapper"],["for","quantity",1,"quantity-label"],["type","number","id","quantity","min","1","max","99","value","1",1,"quantity-input",3,"ngModelChange","input","change","keypress","ngModel"],[1,"btn","btn-primary","add-to-cart",3,"click"],["id","productDetailTab","role","tablist",1,"nav","nav-tabs","mt-4"],["id","description-tab","role","tab","aria-controls","description",1,"nav-link",3,"click"],["id","reviews-tab","role","tab","aria-controls","reviews",1,"nav-link",3,"click"],[1,"tab-content"],["id","description","role","tabpanel","aria-labelledby","description-tab",1,"tab-pane","fade","show"],["id","reviews","role","tabpanel","aria-labelledby","reviews-tab",1,"tab-pane","fade"],[3,"bookId"],[1,"related-products","mt-4"],[3,"categoryId","currentBookId",4,"ngIf"],[1,"img-fluid","main-image",3,"src","alt"],[1,"additional-image-item"],["alt","Ek Kitap G\xF6rseli",1,"img-fluid","additional-image",3,"src"],[1,"fa","fa-star"],[3,"categoryId","currentBookId"],[1,"loading-spinner"],[1,"fa","fa-spinner","fa-spin"]],template:function(n,r){n&1&&h(0,Na,51,27,"div",1)(1,Ba,3,0,"div",2),n&2&&(m("ngIf",r.book),c(),m("ngIf",!r.book))},dependencies:[O,A,F,V,_o,bo,L,H,Ge,K,Si,Oi,Y],styles:[".book-details-page[_ngcontent-%COMP%]{max-width:1200px;margin:auto;font-family:Montserrat,sans-serif}\\15f[_ngcontent-%COMP%]   .main-book-image[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px;font-size:24px;color:#007bff}.main-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;box-shadow:0 4px 8px #0000001a}.additional-images[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;margin-top:20px}.additional-image-item[_ngcontent-%COMP%]{flex:1;max-width:60px}.additional-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:4px;box-shadow:0 2px 4px #0000001a}.book-title[_ngcontent-%COMP%]{font-size:28px;margin-bottom:10px;font-family:Montserrat,sans-serif}.author-name[_ngcontent-%COMP%]{font-size:20px;color:#6c757d;margin-bottom:20px}.price[_ngcontent-%COMP%]{font-size:22px;color:#28a745}.quantity-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-right:20px}.quantity-label[_ngcontent-%COMP%]{margin-right:8px;font-size:16px;color:#666}.quantity-input[_ngcontent-%COMP%]{width:60px;height:38px;text-align:center;border-radius:4px;border:1px solid #ced4da;font-size:16px;color:#495057;background-color:#f8f9fa;transition:border-color .3s ease-in-out,box-shadow .3s ease-in-out}.quantity-input[_ngcontent-%COMP%]:hover, .quantity-input[_ngcontent-%COMP%]:focus{border-color:#6aa846;box-shadow:0 0 5px #6aa84680;outline:none}.action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.btn.add-to-cart[_ngcontent-%COMP%]{background-color:#6aa846;border-color:#6aa846;color:#fff;padding:12px 24px;border-radius:4px;transition:background-color .3s ease-in-out,transform .3s ease-in-out;box-shadow:0 4px 8px #0000001a}.btn.add-to-cart[_ngcontent-%COMP%]:hover{background-color:#4c8033;border-color:#4c8033;transform:translate(10px);box-shadow:0 8px 16px #00000026}.action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-top:20px}.btn.add-to-wishlist[_ngcontent-%COMP%], .btn.add-to-compare[_ngcontent-%COMP%]{color:#6aa846;border-color:#6aa846;padding:10px 20px}.product-review[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{font-size:18px}.fa-star[_ngcontent-%COMP%], .checked[_ngcontent-%COMP%]{color:gold}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #6AA846}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#6aa846;border:none;background:none;font-size:16px;padding:10px 20px;transition:background-color .3s,color .3s}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#6aa846;border:none}.tab-content[_ngcontent-%COMP%]{padding:20px;border:1px solid #e9ecef;border-top:none;background-color:#fff}.review[_ngcontent-%COMP%]{margin-bottom:20px}.review[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{border-radius:4px}.btn-primary[_ngcontent-%COMP%]{background-color:#6aa846;border-color:#6aa846;transition:background-color .3s,border-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#4c8033;border-color:#4c8033}.related-products[_ngcontent-%COMP%]{padding-top:20px}.related-products[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:400;font-family:Verdana,Geneva,Tahoma,sans-serif;margin-bottom:20px;text-align:center}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 16px #0003}.card-title[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.card-text[_ngcontent-%COMP%]{color:#6c757d}.col-md-8[_ngcontent-%COMP%]{color:#666}.card-img-top[_ngcontent-%COMP%]{height:200px;object-fit:contain;margin-bottom:15px}#productDetailTabContent[_ngcontent-%COMP%]{height:300px}.tab-pane[_ngcontent-%COMP%]{display:none}.tab-pane.active.show[_ngcontent-%COMP%]{display:block}.review-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.review-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:6px;padding:10px;border:1px solid #ced4da}.review-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#6aa846;border-color:#6aa846;padding:10px 15px;transition:background-color .3s ease}.review-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4c8033;border-color:#4c8033}.review[_ngcontent-%COMP%]{padding:15px;background-color:#f8f9fa;border-radius:6px;margin-bottom:15px;box-shadow:0 2px 4px #0000001a}.review[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.review[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#6aa846}.tab-content[_ngcontent-%COMP%]{padding:20px;min-height:300px;font-weight:400;color:#666;font-size:14px;line-height:1.75}.stars[_ngcontent-%COMP%]   .fa-star.filled[_ngcontent-%COMP%]{color:gold}.stars[_ngcontent-%COMP%]   .fa-star-o.empty[_ngcontent-%COMP%]{color:#d3d3d3}.stars[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%], .stars[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{color:gold}.stars[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{color:#ddd}"]});let i=e;return i})();var Ra=i=>["/books",i];function ja(i,e){if(i&1&&f(0,"img",22),i&2){let o=g().$implicit;ve("alt",o.bookName),m("src",o.imageUrls[0],Z)}}function za(i,e){if(i&1){let o=I();a(0,"div",11)(1,"div",12),h(2,ja,1,2,"img",13),a(3,"div",14)(4,"h5",15)(5,"a",16),l(6),s()(),a(7,"h6",17),l(8),s(),a(9,"p",18),l(10),s(),a(11,"div",19)(12,"button",20),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.addToBasket(n.bookId))}),s(),f(13,"button",21),s()()()()}if(i&2){let o=e.$implicit;c(2),m("ngIf",o.imageUrls&&o.imageUrls.length>0),c(3),m("routerLink",_e(5,Ra,o.bookId)),c(),k(o.bookName),c(2),k(o.authorName),c(2),x("\u20BC",o.price,"")}}function Ua(i,e){if(i&1&&(a(0,"div",8)(1,"div",9),h(2,za,14,7,"div",10),s()()),i&2){let o=g();c(2),m("ngForOf",o.books)}}var Fi=(()=>{let e=class e{constructor(t,n,r,d,u,w){this.bookService=t,this.router=n,this.basketService=r,this.authService=d,this.navigation=u,this.toastr=w,this.books=[],this.pageNumber=1,this.pageSize=8,this.userId=null,this.totalProductCount=0}ngOnInit(){this.router.paramMap.subscribe(t=>{this.categoryId=Number(t.get("id")),this.router.queryParams.subscribe(n=>{let r=n.keyword;r?this.bookService.searchBooks(r).subscribe(d=>{this.books=d,this.totalProductCount=d.length},d=>{console.error("Error loading search results:",d)}):this.loadBooks()})}),console.log("TotalProductCount:",this.totalProductCount),console.log("Books:",this.books),console.log("PageNumber:",this.pageNumber)}loadBooks(){this.books=[],this.categoryId?this.bookService.getBooksByCategoryId(this.categoryId,this.pageNumber,this.pageSize).subscribe(t=>{this.books=t.books,this.totalProductCount=t.totalProductCount,console.log(t)},t=>{console.error("Error loading books:",t)}):this.bookService.getBooks(this.pageNumber,this.pageSize).subscribe(t=>{this.books=t.books,this.totalProductCount=t.totalProductCount,console.log(t)},t=>{console.error("Error loading books:",t)})}nextPage(){let t=Math.ceil(this.totalProductCount/this.pageSize);this.pageNumber<t&&(this.pageNumber++,this.loadBooks())}previousPage(){this.pageNumber>1&&(this.pageNumber--,this.loadBooks())}addToBasket(t){if(this.userId=this.authService.getUserId(),!this.userId){this.toastr.warning("S\u0259b\u0259t\u0259 kitap \u0259lav\u0259 etm\u0259k \xFC\xE7\xFCn Daxil olun "),this.navigation.navigate(["/login"]);return}this.basketService.addItemToBasket(t,1,this.userId).subscribe(()=>{this.basketService.getBasket(this.userId).subscribe()})}};e.\u0275fac=function(n){return new(n||e)(p(te),p(ce),p(W),p(N),p(M),p(ae))},e.\u0275cmp=_({type:e,selectors:[["app-book-list"]],standalone:!0,features:[C],decls:14,vars:6,consts:[["class","container my-4",4,"ngIf"],[1,"row","mt-4"],[1,"col-12","text-center"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],[1,"page-link"],[1,"container","my-4"],[1,"row","mt-3"],["class","col-lg-3 col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6","mb-4"],[1,"card"],["class","card-img-top",3,"src","alt",4,"ngIf"],[1,"card-body","text-center"],[1,"card-title"],[1,"text-dark",3,"routerLink"],[1,"text-muted"],[1,"card-text"],[1,"card-buttons","mt-3"],["data-tooltip","S\u0259b\u0259t\u0259 \u018Flav\u0259 et",1,"icon-btn","icon-cart",3,"click"],["data-tooltip","Detaylar\u0131 G\xF6r",1,"icon-btn","icon-eye"],[1,"card-img-top",3,"src","alt"]],template:function(n,r){n&1&&(h(0,Ua,3,1,"div",0),a(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ul",4)(5,"li",5)(6,"a",6),v("click",function(){return r.previousPage()}),l(7,"\xD6nc\u0259ki"),s()(),a(8,"li",5)(9,"span",7),l(10),s()(),a(11,"li",5)(12,"a",6),v("click",function(){return r.nextPage()}),l(13,"Sonrak\u0131"),s()()()()()()),n&2&&(m("ngIf",r.books&&r.books.length>0),c(5),G("disabled",r.pageNumber===1),c(5),x("S\u0259hif\u0259 ",r.pageNumber,""),c(),G("disabled",r.pageNumber*r.pageSize>=r.totalProductCount))},dependencies:[O,A,F,V,ee],styles:['.row[_ngcontent-%COMP%]{width:98%;margin-left:18px;font-family:Montserrat,sans-serif}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:16px;transition:background-color .3s ease-in-out,color .3s ease-in-out;position:relative;padding-bottom:15px;font-size:17px;color:#797c93;line-height:38px;text-transform:capitalize;font-weight:600;font-family:Montserrat,sans-serif}#productTabContent[_ngcontent-%COMP%]{margin-top:35px}body[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:#6aa846;color:#6aa846}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;border-color:#6aa846;color:#6aa846}.card[_ngcontent-%COMP%]{margin:20px auto;border:none;box-shadow:0 4px 8px #0000001a;background-color:#f8f9fa;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;display:flex;flex-direction:column;justify-content:space-between;width:82%;cursor:pointer;padding:10px}.card-body[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:space-between;font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #00000026}.card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:8px;font-family:Montserrat,sans-serif}.text-muted[_ngcontent-%COMP%]{font-size:14px;color:#777;margin-bottom:10px;font-family:Montserrat,sans-serif}.card-text[_ngcontent-%COMP%]{font-size:14px;color:#999;margin-bottom:10px}.card-img-top[_ngcontent-%COMP%]{height:230px;object-fit:contain;margin-bottom:15px}.badge[_ngcontent-%COMP%]{font-size:14px}.card-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background-color:transparent;font-family:Montserrat,sans-serif;position:relative;border:none;cursor:pointer;font-size:20px;color:#6aa846;transition:color .3s ease-in-out,transform .2s ease-in-out}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{color:#4c8033;transform:translateY(-2px)}.icon-cart[_ngcontent-%COMP%]:before{content:"\\f217";font-family:"Font Awesome 5 Free";font-weight:900}.icon-details[_ngcontent-%COMP%]:before{content:"\\f05a";font-family:"Font Awesome 5 Free";font-weight:400}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;top:110%;left:50%;transform:translate(-50%);background-color:#384332;color:#fff;padding:4px 8px;border-radius:3px;font-size:12px;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.card-buttons[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover:after{opacity:1;visibility:visible;transform:translate(-37%,8px)}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.container.my-4[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.row.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.arrow-icon[_ngcontent-%COMP%]{position:absolute;display:block;opacity:1}.arrow-icon[_ngcontent-%COMP%]:after{position:absolute;content:"";border-width:13px 10px;border-style:solid;left:2px;border-color:#fff transparent transparent transparent;top:-2px}.pagination[_ngcontent-%COMP%]{margin-top:20px}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6aa846;border:1px solid #6AA846;padding:10px 15px;border-radius:50px;transition:background-color .3s,color .3s}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#6aa846;color:#fff}.pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#999;background-color:#f0f0f0;border-color:#ddd}.pagination[_ngcontent-%COMP%]{cursor:pointer}']});let i=e;return i})();function La(i,e){if(i&1&&(a(0,"div",20),l(1),s()),i&2){let o=g();c(),x(" ",o.loginError," ")}}function Ha(i,e){i&1&&(a(0,"div",21),l(1," Nicnkname z\u0259ruridir "),s())}function Ga(i,e){i&1&&(a(0,"div",21),l(1," \u015Eifr\u0259 g\u0259r\u0259ylidir "),s())}function qa(i,e){i&1&&(a(0,"div",21),l(1," \u015Eifr\u0259 \u0259n az 6 h\u0259rf olmal\u0131d\u0131r "),s())}var Co=(()=>{let e=class e{constructor(t,n,r){this.authService=t,this.router=n,this.basketService=r,this.email="",this.password="",this.loginError=null,this.validationErrors=[]}ngAfterViewInit(){typeof google<"u"?this.googleLogin():console.error("Google API y\xFCklenemedi.")}onLogin(){this.authService.login(this.email,this.password).subscribe(t=>{console.log("Giri\u015F u\u011Furlu !",t),t.token.accessToken&&(localStorage.setItem("accessToken",t.token.accessToken),localStorage.setItem("refreshToken",t.token.refreshToken),this.router.navigate(["/home"]).then(()=>{window.location.reload()}))},t=>{this.loginError=t.error.message||"Giri\u015F s\u0131ras\u0131nda bir x\u0259ta va\u015F.",this.validationErrors=t.error.errors||[]})}googleLogin(){google.accounts.id.initialize({client_id:"481116876345-91nqt31nkl5go3hffab10kaindap1n8g.apps.googleusercontent.com",callback:this.handleGoogleResponse.bind(this)}),google.accounts.id.prompt()}handleGoogleResponse(t){console.log("Google login response",t);let n=t.credential;this.authService.googleLogin(n).subscribe(r=>{console.log("Login successful",r),r&&r.accessToken?(localStorage.setItem("accessToken",r.accessToken),this.router.navigate(["/home"]).then(()=>{window.location.reload()})):console.error("Failed to store the token.")},r=>{console.error("Google login error",r)})}};e.\u0275fac=function(n){return new(n||e)(p(N),p(M),p(W))},e.\u0275cmp=_({type:e,selectors:[["app-login"]],standalone:!0,features:[C],decls:33,vars:6,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-sm",2,"width","400px"],[1,"text-center","mb-4"],[1,"d-grid","gap-2","mb-3"],[1,"btn","btn-danger",3,"click"],[1,"fab","fa-google","me-2"],[1,"text-center","mb-3"],[3,"ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"form-group","mb-3"],["for","email"],["type","email","name","email","id","email","placeholder","Enter username",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","password"],["type","password","name","password","id","password","placeholder","Enter password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","mb-3"],["type","submit",1,"btn","btn-success"],["href","#",1,"text-muted"],[1,"text-center"],["href","/register",1,"btn","btn-link"],[1,"alert","alert-danger"],[1,"text-danger"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),l(3,"Daxil ol"),s(),a(4,"div",3)(5,"button",4),v("click",function(){return r.googleLogin()}),f(6,"i",5),l(7," Google il\u0259 daxil ol "),s()(),a(8,"div",6),l(9,"V\u0259ya"),s(),a(10,"form",7),v("ngSubmit",function(){return r.onLogin()}),h(11,La,2,1,"div",8),a(12,"div",9)(13,"label",10),l(14," Username"),s(),a(15,"input",11),D("ngModelChange",function(u){return E(r.email,u)||(r.email=u),u}),s(),h(16,Ha,2,0,"div",12),s(),a(17,"div",9)(18,"label",13),l(19,"\u015Eifr\u0259"),s(),a(20,"input",14),D("ngModelChange",function(u){return E(r.password,u)||(r.password=u),u}),s(),h(21,Ga,2,0,"div",12)(22,qa,2,0,"div",12),s(),a(23,"div",15)(24,"button",16),l(25,"Daxil ol"),s()(),a(26,"div",6)(27,"a",17),l(28,"Forgot password?"),s()()(),f(29,"hr"),a(30,"div",18)(31,"a",19),l(32,"Qeydiyyatdan Ke\xE7"),s()()()()),n&2&&(c(11),m("ngIf",r.loginError),c(4),P("ngModel",r.email),c(),m("ngIf",r.validationErrors.includes("Email z\u0259ruridir")),c(4),P("ngModel",r.password),c(),m("ngIf",r.validationErrors.includes("\u015Eifr\u0259 g\u0259r\u0259ylidir")),c(),m("ngIf",r.validationErrors.includes("\u015Eifr\u0259 \u0259n az 6 h\u0259rf olmal\u0131d\u0131r")))},dependencies:[O,F,L,ye,H,K,be,Y,Oe],styles:["body[_ngcontent-%COMP%]{background-color:#f8f9fa}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;font-family:Montserrat,sans-serif}h3[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:450;color:#000}.form-control[_ngcontent-%COMP%]{border-radius:5px}.btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{border-radius:5px;padding:10px;font-size:16px}.text-muted[_ngcontent-%COMP%]{font-size:14px}.btn-link[_ngcontent-%COMP%]{font-size:16px;color:#007bff}.text-danger[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}"]});let i=e;return i})();var xo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-emailverification"]],standalone:!0,features:[C],decls:8,vars:0,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-sm",2,"width","400px"],[1,"text-center","mb-4"],[1,"text-center"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),l(3,"Email adresinin t\u0259sdiql\u0259nm\u0259si g\u0259r\u0259ylidir"),s(),a(4,"p",3),l(5," Qeydiyyat\u0131n\u0131z\u0131 tamamlamaq \xFC\xE7\xFCn e-po\xE7tunuza g\xF6nd\u0259ril\u0259n do\u011Frulama linkin\u0259 klikl\u0259yin. "),s(),a(6,"p",3),l(7," E-po\xE7t almam\u0131s\u0131n\u0131zsa, spam qovlu\u011Funuzu yoxlay\u0131n v\u0259 ya yenid\u0259n qeydiyyatdan ke\xE7m\u0259y\u0259 c\u0259hd edin. "),s()()())},dependencies:[O,V],styles:[".container[_ngcontent-%COMP%]{padding:20px;font-family:Montserrat,sans-serif;font-weight:430}h3[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#000;font-size:37px}.card[_ngcontent-%COMP%]{border-radius:8px}h3[_ngcontent-%COMP%]{color:#333}p[_ngcontent-%COMP%]{color:#555}"]});let i=e;return i})();function Wa(i,e){i&1&&(a(0,"div",18),l(1," \u0130stifad\u0259\xE7i ad\u0131 \u0259n az\u0131 3 simvol uzunlu\u011Funda olmal\u0131d\u0131r. "),s())}function $a(i,e){i&1&&(a(0,"div",18),l(1," Ad sah\u0259si bo\u015F qala bilm\u0259z. "),s())}function Ka(i,e){i&1&&(a(0,"div",18),l(1," Soyad sah\u0259si bo\u015F qala bilm\u0259z. "),s())}function Qa(i,e){i&1&&(a(0,"div",18),l(1," Etibarl\u0131 e-po\xE7t \xFCnvan\u0131 daxil edin. "),s())}function Za(i,e){i&1&&(a(0,"div",18),l(1," Parol \u0259n az\u0131 6 simvol uzunlu\u011Funda olmal\u0131d\u0131r. "),s())}function Ya(i,e){i&1&&(a(0,"div",18),l(1," Parollar uy\u011Fun g\u0259lmir. "),s())}function Xa(i,e){if(i&1&&(a(0,"div",19),l(1),s()),i&2){let o=g();c(),x(" ",o.registrationError," ")}}function Ja(i,e){if(i&1&&(a(0,"div",20),l(1),s()),i&2){let o=g();c(),x(" ",o.registrationSuccess," ")}}var Mo=(()=>{let e=class e{constructor(t,n,r){this.fb=t,this.authService=n,this.router=r,this.registerForm=this.fb.group({}),this.registrationError=null,this.registrationSuccess=null}ngOnInit(){this.registerForm=this.fb.group({firstName:["",de.required],lastName:["",de.required],userName:["",[de.required,de.minLength(3)]],email:["",[de.required,de.email]],password:["",[de.required,de.minLength(6)]],passwordConfirm:["",de.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(t){let n=t.get("password")?.value,r=t.get("passwordConfirm")?.value;return n===r?null:{passwordMismatch:!0}}onRegister(){if(this.registerForm.markAllAsTouched(),this.registerForm.invalid)return;let t={userName:this.registerForm.value.userName,email:this.registerForm.value.email,password:this.registerForm.value.password,nameSurname:`${this.registerForm.value.firstName} ${this.registerForm.value.lastName}`,passwordConfirm:this.registerForm.value.passwordConfirm};this.authService.register(t).subscribe(()=>{this.registrationSuccess="Qeydiyyat u\u011Furlu oldu! E-po\xE7t \xFCnvan\u0131n\u0131z\u0131 do\u011Frulamaq \xFC\xE7\xFCn link\u0259 klikl\u0259yin.",this.router.navigate(["/email-verification"])},n=>{this.registrationError="X\u0259ta ba\u015F verdi. Daha sonra yenid\u0259n c\u0259hd edin."})}};e.\u0275fac=function(n){return new(n||e)(p(co),p(N),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-register"]],standalone:!0,features:[C],decls:30,vars:9,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-sm",2,"width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["type","text","formControlName","userName","placeholder","Username","required","","minlength","3",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"row"],[1,"col"],["type","text","formControlName","firstName","placeholder","First Name","required","",1,"form-control"],["type","text","formControlName","lastName","placeholder","Last Name","required","",1,"form-control"],["type","email","formControlName","email","placeholder","Email Address","required","",1,"form-control"],["type","password","formControlName","password","placeholder","Password","required","","minlength","6",1,"form-control"],["type","password","formControlName","passwordConfirm","placeholder","Confirm Password","required","",1,"form-control"],[1,"d-grid","mb-3"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"text-danger"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(n,r){if(n&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),l(3,"Qeydiyyatdan Ke\xE7in "),s(),a(4,"form",3),v("ngSubmit",function(){return r.onRegister()}),a(5,"div",4),f(6,"input",5),h(7,Wa,2,0,"div",6),s(),a(8,"div",4)(9,"div",7)(10,"div",8),f(11,"input",9),h(12,$a,2,0,"div",6),s(),a(13,"div",8),f(14,"input",10),h(15,Ka,2,0,"div",6),s()()(),a(16,"div",4),f(17,"input",11),h(18,Qa,2,0,"div",6),s(),a(19,"div",4),f(20,"input",12),h(21,Za,2,0,"div",6),s(),a(22,"div",4),f(23,"input",13),h(24,Ya,2,0,"div",6),s(),a(25,"div",14)(26,"button",15),l(27,"Qeydiyyat"),s()(),h(28,Xa,2,1,"div",16)(29,Ja,2,1,"div",17),s()()()),n&2){let d,u,w,ie,ne,qe;c(4),m("formGroup",r.registerForm),c(3),m("ngIf",((d=r.registerForm.get("userName"))==null?null:d.invalid)&&((d=r.registerForm.get("userName"))==null?null:d.touched)),c(5),m("ngIf",((u=r.registerForm.get("firstName"))==null?null:u.invalid)&&((u=r.registerForm.get("firstName"))==null?null:u.touched)),c(3),m("ngIf",((w=r.registerForm.get("lastName"))==null?null:w.invalid)&&((w=r.registerForm.get("lastName"))==null?null:w.touched)),c(3),m("ngIf",((ie=r.registerForm.get("email"))==null?null:ie.invalid)&&((ie=r.registerForm.get("email"))==null?null:ie.touched)),c(3),m("ngIf",((ne=r.registerForm.get("password"))==null?null:ne.invalid)&&((ne=r.registerForm.get("password"))==null?null:ne.touched)),c(3),m("ngIf",(r.registerForm.errors==null?null:r.registerForm.errors.passwordMismatch)&&((qe=r.registerForm.get("passwordConfirm"))==null?null:qe.touched)),c(4),m("ngIf",r.registrationError),c(),m("ngIf",r.registrationSuccess)}},dependencies:[O,F,Re,ye,H,K,be,Se,Ii,ki,wi],styles:[".container[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;height:100vh;font-family:Montserrat,sans-serif;background-color:#eefafb}h3[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]{width:400px;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:10px}h3[_ngcontent-%COMP%]{font-size:24px;font-weight:700;text-align:center;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{height:45px;font-size:16px;padding:10px;border-radius:5px;border:1px solid #ccc}.btn-primary[_ngcontent-%COMP%]{background-color:#17a2b8;border-color:#17a2b8;font-size:18px;height:45px;border-radius:5px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}.alert[_ngcontent-%COMP%]{margin-top:20px;font-size:14px;text-align:center}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-color:#c3e6cb}"]});let i=e;return i})();var ko=(()=>{let e=class e{constructor(t,n,r){this.router=t,this.route=n,this.authService=r,this.confirmationMessage="Emailiniz u\u011Furla  do\u011Fruland\u0131 Ana s\u0259hif\u0259y\u0259 y\xF6nl\u0259ndirilirsiniz..."}ngOnInit(){this.route.queryParams.subscribe(t=>{let n=t.token;n?(this.authService.saveToken(n),this.authService.currentUserSubject.next(this.authService.getUserName()),setTimeout(()=>{this.router.navigate(["/home"])},2e3)):(this.confirmationMessage="Email confirmation failed. Redirecting to error page...",setTimeout(()=>{this.router.navigate(["/error"])},2e3))})}};e.\u0275fac=function(n){return new(n||e)(p(M),p(ce),p(N))},e.\u0275cmp=_({type:e,selectors:[["app-confirmation-success"]],standalone:!0,features:[C],decls:5,vars:0,consts:[[1,"container"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h2"),l(2,"Emailiniz u\u011Furla do\u011Fruland\u0131!"),s(),a(3,"p"),l(4,"Ana s\u0259hif\u0259y\u0259 y\xF6nl\u0259ndirilirsiniz..."),s()())},styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;background-color:#f7f7f7;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{color:#4caf50;font-size:24px;margin-bottom:15px}p[_ngcontent-%COMP%]{color:#333;font-size:18px}"]});let i=e;return i})();function es(i,e){if(i&1&&(a(0,"div",3),l(1),s()),i&2){let o=g();c(),x(" ",o.confirmationSuccess," ")}}function ts(i,e){if(i&1&&(a(0,"div",4),l(1),s()),i&2){let o=g();c(),x(" ",o.confirmationError," ")}}var wo=(()=>{let e=class e{constructor(t,n,r){this.authService=t,this.route=n,this.router=r,this.token="",this.email="",this.confirmationError=null,this.confirmationSuccess=null}ngOnInit(){this.route.queryParams.subscribe(t=>{this.token=t.token,this.email=t.email,this.confirmEmail()})}confirmEmail(){this.authService.confirmEmail(this.token,this.email).subscribe(()=>{this.confirmationSuccess="E-po\xE7tun do\u011Frulanmas\u0131 u\u011Furlu oldu! \u0130ndi daxil ola bil\u0259rsiniz.",setTimeout(()=>{this.router.navigate(["/login"])},2e3)},t=>{this.confirmationError="E-po\xE7tun do\u011Frulanmas\u0131 u\u011Fursuz oldu. Yenid\u0259n c\u0259hd edin."})}};e.\u0275fac=function(n){return new(n||e)(p(N),p(ce),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-confirmemail"]],standalone:!0,features:[C],decls:3,vars:2,consts:[[1,"container"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(n,r){n&1&&(a(0,"div",0),h(1,es,2,1,"div",1)(2,ts,2,1,"div",2),s()),n&2&&(c(),m("ngIf",r.confirmationSuccess),c(),m("ngIf",r.confirmationError))},dependencies:[O,F,V],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.alert[_ngcontent-%COMP%]{width:100%;max-width:400px;text-align:center;font-size:1.1em;padding:15px;margin-top:10px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-color:#c3e6cb}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}"]});let i=e;return i})();function is(i,e){if(i&1){let o=I();a(0,"div",19)(1,"div",20)(2,"div",21),f(3,"img",22),s(),a(4,"div",23)(5,"div",12)(6,"h5",13),l(7),s(),a(8,"div",24)(9,"button",25),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.updateQuantity(n,-1))}),l(10,"-"),s(),a(11,"input",26),D("ngModelChange",function(n){let r=b(o).$implicit;return E(r.quantity,n)||(r.quantity=n),y(n)}),s(),a(12,"button",25),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.updateQuantity(n,1))}),l(13,"+"),s()()()(),a(14,"div",27)(15,"h5",28),l(16),q(17,"currency"),s(),a(18,"h6",28),l(19),q(20,"currency"),s(),a(21,"button",29),v("click",function(){let n=b(o).$implicit,r=g(2);return y(r.removeItem(n.bookId))}),f(22,"i",9),l(23," Sil"),s()()()()}if(i&2){let o=e.$implicit;c(3),ve("alt",o.productName),m("src",o.imageUrls||"https://via.placeholder.com/150",Z),c(4),k(o.productName),c(4),P("ngModel",o.quantity),c(5),k(J(17,6,o.price)),c(3),x("\xDCmumi: ",J(20,8,o.totalPrice),"")}}function ns(i,e){if(i&1){let o=I();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),f(4,"i",5),l(5," S\u0259b\u0259tim"),s()()(),a(6,"div",2)(7,"div",6),h(8,is,24,10,"div",7),a(9,"button",8),v("click",function(){b(o);let n=g();return y(n.clearBasket())}),f(10,"i",9),l(11," S\u0259b\u0259ti t\u0259mizl\u0259"),s()(),a(12,"div",10)(13,"div",11)(14,"div",12)(15,"h5",13),l(16,"Al\u0131\u015Fveri\u015F icmal\u0131"),s(),a(17,"div",14)(18,"span"),l(19,"S\u0259b\u0259tin Toplam tutar\u0131"),s(),a(20,"span"),l(21),q(22,"currency"),s()(),a(23,"div",14)(24,"span"),l(25,"Kargo r\xFCsumu"),s(),a(26,"span"),l(27,"2 manat"),s()(),f(28,"hr"),a(29,"div",15)(30,"span"),l(31,"\xDCmumi toplam"),s(),a(32,"span"),l(33),q(34,"currency"),s()(),a(35,"button",16),v("click",function(){b(o);let n=g();return y(n.goToOrderPage())}),l(36,"Sifari\u015F Ver"),s()(),a(37,"div",17)(38,"a",18),l(39,"Al\u0131\u015Fveri\u015Fe Davam et"),s()()()()()()}if(i&2){let o=g();c(8),m("ngForOf",o.basket.items),c(),m("disabled",o.isBasketEmpty),c(12),k(J(22,5,o.basket.total)),c(12),k(J(34,7,o.basket.total+2)),c(2),m("disabled",o.isBasketEmpty)}}var Oo=(()=>{let e=class e{constructor(t,n,r){this.basketService=t,this.authService=n,this.router=r,this.basket=null,this.isBasketEmpty=!0}ngOnInit(){this.userId=this.authService.getUserId(),this.basketService.basket$.subscribe(t=>{this.basket=t,this.isBasketEmpty=!t||t.items.length===0}),this.loadBasket()}loadBasket(){this.basketService.getBasket(this.userId).subscribe(t=>{this.basket=t,this.isBasketEmpty=!t||t.items.length===0})}removeItem(t){this.basketService.removeItemFromBasket(t,this.userId).subscribe(()=>{this.loadBasket()})}updateQuantity(t,n){t.quantity+n<=0?this.removeItem(t.bookId):this.basketService.addItemToBasket(t.bookId,n,this.userId).subscribe(()=>{this.loadBasket()})}clearBasket(){this.basketService.clearBasket(this.userId).subscribe(()=>{this.loadBasket()})}goToOrderPage(){this.isBasketEmpty||this.router.navigate(["/orders/summary"])}};e.\u0275fac=function(n){return new(n||e)(p(W),p(N),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-basket"]],standalone:!0,features:[C],decls:1,vars:1,consts:[["class","container my-5",4,"ngIf"],[1,"container","my-5"],[1,"row"],[1,"col-12"],[1,"text-uppercase","mb-4"],[1,"fas","fa-shopping-cart"],[1,"col-md-8"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"btn","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash-alt"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"d-flex","justify-content-between"],["id","totalPrice",1,"d-flex","justify-content-between","fw-bold"],["id","send-order",1,"btn","btn-warning","w-100","mt-3",3,"click","disabled"],[1,"card-footer","text-center"],["routerLink","/home",1,"btn","btn-outline-primary","w-100"],[1,"card","mb-3"],[1,"row","g-0","align-items-center"],[1,"col-md-3"],[1,"img-fluid","rounded-start",3,"src","alt"],[1,"col-md-6"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["type","text","readonly","",1,"form-control","mx-2","text-center",2,"width","50px",3,"ngModelChange","ngModel"],[1,"col-md-3","text-center"],[1,"fw-bold"],[1,"btn","btn-outline-danger","btn-sm","mt-2",3,"click"]],template:function(n,r){n&1&&h(0,ns,40,9,"div",0),n&2&&m("ngIf",r.basket)},dependencies:[O,A,F,Qe,L,H,K,Y],styles:[".card[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.card-title[_ngcontent-%COMP%]{font-size:1.25rem}.fa-shopping-card[_ngcontent-%COMP%]{color:#760707}.btn-outline-danger[_ngcontent-%COMP%]{margin-left:3px;font-family:Montserrat,sans-serif}.card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;line-height:1;font-size:1rem;border-radius:50%}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}#send-order[_ngcontent-%COMP%]{color:#09f859;background-color:#8a2be2}"]});let i=e;return i})();var So=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-banner"]],standalone:!0,features:[C],decls:9,vars:0,consts:[[1,"section-divider"],[1,"banner-container"],["src","https://htmldemo.net/pustok/pustok/image/bg-images/promo-banner-full.jpg","alt","Banner image",1,"banner-image"],[1,"banner-content"]],template:function(n,r){n&1&&(f(0,"div",0),a(1,"section",1),f(2,"img",2),a(3,"div",3)(4,"p"),l(5,"\u201C\xD6z i\xE7ind\u0259ki ziddiyy\u0259tl\u0259ri h\u0259ll etm\u0259y\u0259n insan, d\xFCnyadak\u0131 ziddiyy\u0259tl\u0259ri anlaya bilm\u0259z.\u201D"),s(),a(6,"p")(7,"em"),l(8,"\u2014 Fyodor Dostoyevski"),s()()()())},styles:['.banner-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:flex-start;align-items:center;width:100%;max-width:1920px;height:230px;margin:30px auto;background-color:#e0f7fa;border-radius:10px;box-shadow:0 10px 30px #0003;overflow:hidden;font-family:Montserrat,sans-serif}.banner-image[_ngcontent-%COMP%]{flex-basis:100%;height:100%;object-fit:cover;filter:brightness(.85)}.banner-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:5%;transform:translateY(-50%);max-width:40%;color:#fff;text-align:left;background-color:#00000080;padding:15px;border-radius:8px}.banner-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;font-family:Times New Roman,serif}.banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.banner-btn[_ngcontent-%COMP%]{background-color:#ff0;color:#000;padding:10px 20px;border:none;font-weight:700;cursor:pointer;border-radius:5px;box-shadow:2px 2px 5px #0003}.cards-container[_ngcontent-%COMP%]{margin-bottom:50px;border-bottom:2px solid #ccc}.banner-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-20px;left:0;width:100%;height:20px;background:linear-gradient(0deg,#00000026,#0000)}.section-divider[_ngcontent-%COMP%]{width:95%;height:1px;background:linear-gradient(to right,#d3d3d3,#b0b0b0);margin:40px auto;border-radius:1px;opacity:.7}']});let i=e;return i})();function os(i,e){i&1&&(a(0,"div",1),f(1,"app-banner"),s())}var Io=(()=>{let e=class e{constructor(t){this.router=t}isHomePage(){return this.router.url==="/"}};e.\u0275fac=function(n){return new(n||e)(p(M))},e.\u0275cmp=_({type:e,selectors:[["app-main-layout"]],standalone:!0,features:[C],decls:4,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"]],template:function(n,r){n&1&&(f(0,"app-header")(1,"router-outlet"),h(2,os,2,0,"div",0),f(3,"app-footer")),n&2&&(c(2),m("ngIf",r.isHomePage()))},dependencies:[Ze,uo,wn,O,F,So]});let i=e;return i})();var Po=(()=>{let e=class e{constructor(t){this.authService=t}logout(){this.authService.logout()}};e.\u0275fac=function(n){return new(n||e)(p(N))},e.\u0275cmp=_({type:e,selectors:[["app-admin-layout"]],standalone:!0,features:[C],decls:20,vars:0,consts:[["id","wrapper"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],[1,"fas","fa-cogs"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["href","/home",1,"nav-link"],[1,"fas","fa-user"],["href","#",1,"nav-link",3,"click"],[1,"fas","fa-sign-out-alt"],["id","content-wrapper",1,"container-fluid"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"nav",1)(2,"a",2),f(3,"i",3),l(4," Admin Panel "),s(),a(5,"button",4),f(6,"span",5),s(),a(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),f(11,"i",10),l(12," Geri d\xF6n "),s()(),a(13,"li",8)(14,"a",11),v("click",function(){return r.logout()}),f(15,"i",12),l(16," Logout "),s()()()()(),f(17,"app-admin-sidebar"),a(18,"div",13),f(19,"router-outlet"),s()())},dependencies:[Ze,Jt,V],styles:["#wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}#content-wrapper[_ngcontent-%COMP%]{flex:1;margin-left:250px;padding:20px}.navbar[_ngcontent-%COMP%]{width:100%;position:fixed;top:0;z-index:1;background-color:#343a40;box-shadow:0 4px 8px #0000001a;height:60px;display:flex;align-items:center;border-bottom:none}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:700}.navbar-brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.navbar-nav[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff;margin-right:20px;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#007bff;text-decoration:underline}.container-fluid[_ngcontent-%COMP%]{margin-top:60px}#sidebar-wrapper[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background-color:#343a40;height:100vh;position:fixed;z-index:100;transition:all .3s}.list-group-item[_ngcontent-%COMP%]{border:none;padding:20px;color:#fff}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.search-box[_ngcontent-%COMP%]{padding:5px 10px;border-radius:4px;border:none;margin-right:20px}"]});let i=e;return i})();var Eo=(()=>{let e=class e{constructor(t,n){this.authService=t,this.router=n}canActivate(){let t=this.authService.getUserRole();return t?t==="Admin"?!0:(this.router.navigate(["/access-denied"]),!1):(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(n){return new(n||e)(T(N),T(M))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function rs(i,e){if(i&1&&(a(0,"option",21),l(1),s()),i&2){let o=e.$implicit;m("value",o.categoryId),c(),k(o.categoryName)}}function as(i,e){if(i&1&&(a(0,"option",21),l(1),s()),i&2){let o=e.$implicit;m("value",o.id),c(),k(o.name)}}var Do=(()=>{let e=class e{constructor(t,n,r,d){this.bookService=t,this.categoryService=n,this.router=r,this.toastr=d,this.book={bookName:"",price:0,stock:0,authorName:"",description:"",categoryId:0,languageId:1},this.languages=[{id:1,name:"az"}],this.categories=[],this.selectedFile=null,this.loading=!1}ngOnInit(){this.categoryService.getCategories().subscribe(t=>{this.categories=t})}onFileSelected(t){this.selectedFile=t.target.files[0]}onSubmit(){if(!this.isFormValid()){this.toastr.error("Xahi\u015F olunur m\u0259lumatlar\u0131 doldurun ","Form \u0259ksik");return}this.loading=!0,this.bookService.addBooks(this.book).pipe(ge(t=>{if(this.selectedFile){let n=new FormData;n.append("file",this.selectedFile),n.append("bookId",t.bookId.toString()),console.log(`newBookId: ${t.bookId}`),console.log(n.get("bookId")+" is the bookId"),this.bookService.uploadBookImage(n).subscribe({next:()=>{alert("Book successfully added!"),this.router.navigate(["/admin-panel/books"])},error:r=>{console.error("Error uploading image:",r),alert("Book added, but there was an error uploading the image.")},complete:()=>{this.loading=!1}})}else alert("Book successfully added!"),this.router.navigate(["/admin-panel/books"]),this.loading=!1}),zi(t=>(console.error("Error adding book:",t),alert("There was an error adding the book."),this.loading=!1,Ri(()=>new Error(t.message||"An unknown error occurred."))))).subscribe()}isFormValid(){return this.book.bookName.trim()!==""&&this.book.authorName.trim()!==""&&this.book.price>0&&this.book.stock>=0&&this.book.categoryId!==0}};e.\u0275fac=function(n){return new(n||e)(p(te),p(et),p(M),p(ae))},e.\u0275cmp=_({type:e,selectors:[["app-add-book"]],standalone:!0,features:[C],decls:40,vars:9,consts:[[1,"container","mt-5"],[3,"ngSubmit"],[1,"form-group"],["for","bookName"],["type","text","id","bookName","name","bookName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","authorName"],["type","text","id","authorName","name","authorName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["type","number","id","price","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stock"],["type","number","id","stock","name","stock","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","categoryId","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","language"],["id","language","name","languageId","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","cover"],["type","file","id","cover","accept","image/*",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary","mt-3"],[3,"value"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h2"),l(2,"Kitab \u018Flav\u0259 et"),s(),a(3,"form",1),v("ngSubmit",function(){return r.onSubmit()}),a(4,"div",2)(5,"label",3),l(6,"Kitab Ad\u0131"),s(),a(7,"input",4),D("ngModelChange",function(u){return E(r.book.bookName,u)||(r.book.bookName=u),u}),s()(),a(8,"div",2)(9,"label",5),l(10,"Yazar ad\u0131"),s(),a(11,"input",6),D("ngModelChange",function(u){return E(r.book.authorName,u)||(r.book.authorName=u),u}),s()(),a(12,"div",2)(13,"label",7),l(14,"Qiym\u0259t"),s(),a(15,"input",8),D("ngModelChange",function(u){return E(r.book.price,u)||(r.book.price=u),u}),s()(),a(16,"div",2)(17,"label",9),l(18,"Stok"),s(),a(19,"input",10),D("ngModelChange",function(u){return E(r.book.stock,u)||(r.book.stock=u),u}),s()(),a(20,"div",2)(21,"label",11),l(22,"A\xE7\u0131qlama"),s(),a(23,"textarea",12),D("ngModelChange",function(u){return E(r.book.description,u)||(r.book.description=u),u}),s()(),a(24,"div",2)(25,"label",13),l(26,"Kategoriya"),s(),a(27,"select",14),D("ngModelChange",function(u){return E(r.book.categoryId,u)||(r.book.categoryId=u),u}),h(28,rs,2,2,"option",15),s()(),a(29,"div",2)(30,"label",16),l(31,"Dil"),s(),a(32,"select",17),D("ngModelChange",function(u){return E(r.book.languageId,u)||(r.book.languageId=u),u}),h(33,as,2,2,"option",15),s()(),a(34,"div",2)(35,"label",18),l(36," \u018Fsas Foto "),s(),a(37,"input",19),v("change",function(u){return r.onFileSelected(u)}),s()(),a(38,"button",20),l(39,"Ekle"),s()()()),n&2&&(c(7),P("ngModel",r.book.bookName),c(4),P("ngModel",r.book.authorName),c(4),P("ngModel",r.book.price),c(4),P("ngModel",r.book.stock),c(4),P("ngModel",r.book.description),c(4),P("ngModel",r.book.categoryId),c(),m("ngForOf",r.categories),c(4),P("ngModel",r.book.languageId),c(),m("ngForOf",r.languages))},dependencies:[O,A,L,ye,at,st,H,Ge,Be,K,be,Se,Y,Oe,Re,V],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;max-width:600px;margin:0 auto;font-family:Montserrat,sans-serif}h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{font-size:14px;padding:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}"]});let i=e;return i})();function ss(i,e){if(i&1&&(a(0,"option",20),l(1),s()),i&2){let o=e.$implicit;m("value",o.categoryId),c(),k(o.categoryName)}}function ls(i,e){if(i&1&&(a(0,"option",21),l(1),s()),i&2){let o=e.$implicit,t=g();m("value",o.id)("selected",o.id===t.book.languageId),c(),k(o.name)}}var Fo=(()=>{let e=class e{constructor(t,n,r,d){this.bookService=t,this.categoryService=n,this.router=r,this.activatedRoute=d,this.book={bookId:0,bookName:"",price:0,stock:0,authorName:"",description:"",categoryId:0,languageId:1},this.languages=[{id:1,name:"az"},{id:2,name:"en"}],this.categories=[],this.selectedFile=null,this.loading=!1}ngOnInit(){this.categoryService.getCategories().subscribe(t=>{this.categories=t,this.getFormBookAll()})}onFileSelected(t){this.selectedFile=t.target.files[0]}getFormBookAll(){let t=this.activatedRoute.snapshot.paramMap.get("id");t&&this.bookService.getBookById(t).subscribe(n=>{this.book=n,this.book.languageId=this.book.languageId||this.languages[0]?.id||1,this.book.categoryId=this.book.categoryId||this.categories.find(r=>r.categoryId===this.book.categoryId)?.categoryId||this.categories[0]?.categoryId})}onSubmit(){if(!this.book.bookId||!this.book.categoryId){alert("Please ensure all required fields are filled.");return}this.loading=!0,this.bookService.updateBook(this.book).subscribe(t=>{if(this.selectedFile){let n=new FormData;n.append("file",this.selectedFile),n.append("bookId",t.bookId.toString()),this.bookService.uploadBookImage(n).subscribe(()=>{alert("Book successfully updated and image uploaded!"),this.router.navigate(["/admin-panel/books"])},()=>{alert("Book updated, but an error occurred while uploading the image.")})}else alert("Book successfully updated!"),this.router.navigate(["/admin-panel/books"])},()=>{alert("An error occurred while updating the book.")}).add(()=>this.loading=!1)}};e.\u0275fac=function(n){return new(n||e)(p(te),p(et),p(M),p(ce))},e.\u0275cmp=_({type:e,selectors:[["app-edit-book"]],standalone:!0,features:[C],decls:36,vars:11,consts:[[1,"container","mt-5"],[3,"ngSubmit"],[1,"form-group"],["for","bookName"],["type","text","id","bookName","name","bookName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","authorName"],["type","text","id","authorName","name","authorName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["type","number","id","price","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stock"],["type","number","id","stock","name","stock","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","categoryId","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","language"],["id","language","name","languageId","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value","selected",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"],[3,"value"],[3,"value","selected"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h2"),l(2,"Redakt\u0259 et"),s(),a(3,"form",1),v("ngSubmit",function(){return r.onSubmit()}),a(4,"div",2)(5,"label",3),l(6,"Kitab Ad\u0131"),s(),a(7,"input",4),D("ngModelChange",function(u){return E(r.book.bookName,u)||(r.book.bookName=u),u}),s()(),a(8,"div",2)(9,"label",5),l(10,"Yazar Ad\u0131"),s(),a(11,"input",6),D("ngModelChange",function(u){return E(r.book.authorName,u)||(r.book.authorName=u),u}),s()(),a(12,"div",2)(13,"label",7),l(14,"Qiym\u0259t"),s(),a(15,"input",8),D("ngModelChange",function(u){return E(r.book.price,u)||(r.book.price=u),u}),s()(),a(16,"div",2)(17,"label",9),l(18,"Stok"),s(),a(19,"input",10),D("ngModelChange",function(u){return E(r.book.stock,u)||(r.book.stock=u),u}),s()(),a(20,"div",2)(21,"label",11),l(22,"A\xE7\u0131qlama"),s(),a(23,"textarea",12),D("ngModelChange",function(u){return E(r.book.description,u)||(r.book.description=u),u}),s()(),a(24,"div",2)(25,"label",13),l(26,"Kategoriya"),s(),a(27,"select",14),D("ngModelChange",function(u){return E(r.book.categoryId,u)||(r.book.categoryId=u),u}),h(28,ss,2,2,"option",15),s()(),a(29,"div",2)(30,"label",16),l(31,"Dil"),s(),a(32,"select",17),D("ngModelChange",function(u){return E(r.book.languageId,u)||(r.book.languageId=u),u}),h(33,ls,2,3,"option",18),s()(),a(34,"button",19),l(35),s()()()),n&2&&(c(7),P("ngModel",r.book.bookName),c(4),P("ngModel",r.book.authorName),c(4),P("ngModel",r.book.price),c(4),P("ngModel",r.book.stock),c(4),P("ngModel",r.book.description),c(4),P("ngModel",r.book.categoryId),c(),m("ngForOf",r.categories),c(4),P("ngModel",r.book.languageId),c(),m("ngForOf",r.languages),c(),m("disabled",r.loading),c(),x(" ",r.loading?"Processing...":"Edit"," "))},dependencies:[O,A,L,ye,at,st,H,Ge,Be,K,be,Se,Y,Oe,Re,V],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;max-width:600px;margin:0 auto;font-family:Montserrat,sans-serif}h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{font-size:14px;padding:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}"]});let i=e;return i})();var To=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl="http://localhost:5287/api/Customer"}getCustomerByUserId(t){return this.http.get(`${this.baseUrl}/${t}`).pipe(z(n=>(console.log("Customer Response:",n),n.customer)))}};e.\u0275fac=function(n){return new(n||e)(T(oe))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function ds(i,e){if(i&1&&(a(0,"div",16)(1,"div",3)(2,"h5"),l(3),s(),a(4,"p"),l(5),q(6,"currency"),s(),a(7,"p"),l(8),q(9,"currency"),s()()()),i&2){let o=e.$implicit;c(3),tn("",o.productName," (",o.quantity," \u0259d\u0259d)"),c(2),x("Qiym\u0259t: ",J(6,4,o.price),""),c(3),x("Total: ",J(9,6,o.totalPrice),"")}}function us(i,e){i&1&&(a(0,"div",17),l(1," T\u0259slimat adressi m\u0259cburidir "),s())}function ms(i,e){i&1&&(a(0,"div",17),l(1," Telefon n\xF6mr\u0259si m\u0259cburidir "),s())}function ps(i,e){i&1&&(a(0,"div",17),l(1," \xD6d\u0259m\u0259 \xFCsulu se\xE7m\u0259k m\u0259cburdiri "),s())}function gs(i,e){if(i&1&&(a(0,"div",18),l(1),s()),i&2){let o=g(2);c(),x(" ",o.errorMessage," ")}}function hs(i,e){if(i&1){let o=I();a(0,"div",1)(1,"h2"),l(2,"Sifari\u015F Ver"),s(),h(3,ds,10,8,"div",2),a(4,"div",3)(5,"label",4),l(6,"T\u0259slimat Adresi"),s(),a(7,"input",5),D("ngModelChange",function(n){b(o);let r=g();return E(r.deliveryAddress,n)||(r.deliveryAddress=n),y(n)}),s(),h(8,us,2,0,"div",6),s(),a(9,"div",3)(10,"label",7),l(11,"Telefon n\xF6mr\u0259si"),s(),a(12,"input",8),D("ngModelChange",function(n){b(o);let r=g();return E(r.phoneNumber,n)||(r.phoneNumber=n),y(n)}),s(),h(13,ms,2,0,"div",6),s(),a(14,"div",3)(15,"label",9),l(16,"\xD6d\u0259m\u0259 \xFCsulu"),s(),a(17,"select",10),D("ngModelChange",function(n){b(o);let r=g();return E(r.paymentMethod,n)||(r.paymentMethod=n),y(n)}),a(18,"option",11),l(19,"Bir \xF6d\u0259m\u0259 \xFCsulu se\xE7in"),s(),a(20,"option",12),l(21,"Qap\u0131da \xF6d\u0259m\u0259"),s()(),h(22,ps,2,0,"div",6),s(),a(23,"div",13)(24,"h4"),l(25),q(26,"currency"),s(),a(27,"button",14),v("click",function(){b(o);let n=g();return y(n.confirmOrder())}),l(28,"Sifari\u015Fi t\u0259sdiql\u0259"),s()(),h(29,gs,2,1,"div",15),s()}if(i&2){let o=g();c(3),m("ngForOf",o.basket.items),c(4),P("ngModel",o.deliveryAddress),c(),m("ngIf",!o.deliveryAddress&&o.formSubmitted),c(4),P("ngModel",o.phoneNumber),c(),m("ngIf",!o.phoneNumber&&o.formSubmitted),c(4),P("ngModel",o.paymentMethod),c(5),m("ngIf",!o.paymentMethod&&o.formSubmitted),c(3),x("Umumi Toplam: ",J(26,9,o.basket.total),""),c(4),m("ngIf",o.errorMessage)}}var Vo=(()=>{let e=class e{constructor(t,n,r,d,u){this.basketService=t,this.orderService=n,this.authService=r,this.customerService=d,this.router=u,this.basket=null,this.deliveryAddress="",this.paymentMethod="",this.phoneNumber="",this.formSubmitted=!1,this.errorMessage=null}ngOnInit(){this.authService.getUserId$().subscribe(t=>{if(!t){console.error("Istifade\xE7i  ID tap\u0131labilmedi, itdifade\xE7i login  olmam\u0131\u015F olabil\u0259r.");return}this.customerService.getCustomerByUserId(t).subscribe(n=>{console.log("Customer ID:",n.id),this.customerId=n.id,this.deliveryAddress=n.adress,this.phoneNumber=n.phoneNumber}),this.basketService.basket$.subscribe(n=>{this.basket=n})})}confirmOrder(){if(!this.basket)return;if(this.formSubmitted=!0,!this.deliveryAddress||!this.phoneNumber||!this.paymentMethod||!this.basket||this.basket.items.length===0){console.error("Form uy\u011Fun deyl v\u0259 yaxud s\u0259b\u0259tiniz bo\u015Fdur");return}let t={id:0,customerId:this.customerId,orderDate:new Date,status:Pe.Pending,deliveryAddress:this.deliveryAddress,phoneNumber:this.phoneNumber,orderNumber:this.orderNumber,paymentMethod:this.paymentMethod,orderDetails:this.basket.items.map(n=>({orderDetailId:0,orderId:0,bookId:n.bookId,bookName:"",bookImageUrl:"",BookId:n.bookId,quantity:n.quantity,price:n.price}))};this.orderService.createOrder(t).subscribe(n=>{console.log("Sifari\u015F u\u011Furla tamamland\u0131:",n),this.basketService.clearBasket(this.authService.getUserId()).subscribe(()=>{}),this.router.navigate(["/order-success"],{queryParams:{orderId:n.id}})},n=>{console.error("Sifari\u015F tamamlanamad\u0131:",n),this.errorMessage="Sifari\u015Finiz tamamlanmad\u0131, z\u0259hm\u0259t olmasa yenid\u0259n c\u0259hd edin."})}showErrorMessage(t){alert(t)}};e.\u0275fac=function(n){return new(n||e)(p(W),p(lt),p(N),p(To),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-order-summary"]],standalone:!0,features:[C],decls:1,vars:1,consts:[["class","container my-5",4,"ngIf"],[1,"container","my-5"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card-body"],["for","deliveryAddress"],["id","deliveryAddress","placeholder","Teslimat adresini daxil edin","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","phoneNumber"],["id","phoneNumber","placeholder","Telefon  n\xF6mr\u0259sini daxil edin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","paymentMethod"],["id","paymentMethod","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","CashOnDelivery"],[1,"card-footer"],[1,"btn","btn-success","w-100",3,"click"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"card","mb-3"],[1,"text-danger"],[1,"alert","alert-danger","mt-3"]],template:function(n,r){n&1&&h(0,hs,30,11,"div",0),n&2&&m("ngIf",r.basket)},dependencies:[O,A,F,Qe,L,at,st,H,Be,K,Se,Y],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 4px 8px #0000001a;font-family:Montserrat,sans-serif}h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;color:#343a40;margin-bottom:1.5rem;text-align:center}.card[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;border:none;background-color:#fff;margin-bottom:1rem;border-radius:10px;box-shadow:0 2px 4px #0000001a}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.25rem;color:#495057;margin-bottom:.5rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;font-size:1rem;color:#6c757d}textarea.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ced4da;box-shadow:inset 0 1px 2px #0000001a;padding:10px;font-size:1rem;margin-top:10px}.card-footer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;color:#343a40;text-align:right;margin:0;padding-bottom:1rem}.btn-success[_ngcontent-%COMP%]{font-size:1.25rem;padding:15px;background-color:#28a745;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-success[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:15px}h2[_ngcontent-%COMP%]{font-size:1.5rem}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-footer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.btn-success[_ngcontent-%COMP%]{font-size:1rem;padding:12px}}"]});let i=e;return i})();var Ao=(()=>{let e=class e{constructor(t,n){this.basketService=t,this.router=n}canActivate(){return this.basketService.basket$.pipe(z(t=>t&&t.items.length>0?!0:(this.router.navigate(["/basket"]),!1)))}};e.\u0275fac=function(n){return new(n||e)(T(W),T(M))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var No=(()=>{let e=class e{constructor(t){this.router=t}ngOnInit(){this.orderNumber="12345"}goToHomePage(){this.router.navigate(["/home"])}};e.\u0275fac=function(n){return new(n||e)(p(M))},e.\u0275cmp=_({type:e,selectors:[["app-order-success"]],standalone:!0,features:[C],decls:7,vars:0,consts:[[1,"container","mt-5","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"h2"),l(2,"Sifari\u015Finiz u\u011Furla tamamland\u0131!"),s(),a(3,"p"),l(4,"Te\u015Fekk\xFCr edirik! Sifari\u015Finiz al\u0131nd\u0131."),s(),a(5,"button",1),v("click",function(){return r.goToHomePage()}),l(6,"Ana s\u0259hif\u0259y\u0259 d\xF6n\xFCn"),s()())}});let i=e;return i})();function fs(i,e){if(i&1&&(a(0,"div",8)(1,"div",9),f(2,"img",10),a(3,"div",11)(4,"h5",12),l(5),s(),a(6,"p",13)(7,"strong"),l(8,"Miqdar:"),s(),l(9),s(),a(10,"p",13)(11,"strong"),l(12,"Qiym\u0259t:"),s(),l(13),q(14,"currency"),s()()()()),i&2){let o=e.$implicit;c(2),ve("alt",o.bookName),m("src",o.bookImageUrl,Z),c(3),k(o.bookName),c(4),x(" ",o.quantity,""),c(4),x(" ",J(14,5,o.price),"\u20BC")}}function vs(i,e){if(i&1){let o=I();a(0,"div",1)(1,"h2",2),l(2,"Sifari\u015F Detallar\u0131"),s(),a(3,"div",3)(4,"div",4)(5,"p")(6,"strong"),l(7,"Sifari\u015F N\xF6mr\u0259si:"),s(),l(8),s(),a(9,"p")(10,"strong"),l(11,"Sifari\u015F Tarixi:"),s(),l(12),q(13,"date"),s(),a(14,"p")(15,"strong"),l(16,"\xC7atd\u0131r\u0131lma Adresi:"),s(),l(17),s(),a(18,"p")(19,"strong"),l(20,"M\xFC\u015Ft\u0259ri Telefonu:"),s(),l(21),s(),a(22,"p")(23,"strong"),l(24,"\xD6d\u0259m\u0259 Metodu:"),s(),l(25),s()()(),a(26,"button",5),v("click",function(){b(o);let n=g();return y(n.goBackToOrderManagement())}),l(27,"Geri "),s(),a(28,"div",6),h(29,fs,15,7,"div",7),s()()}if(i&2){let o=g();c(8),x(" ",o.orderDetails.orderNumber,""),c(4),x(" ",St(13,6,o.orderDetails.orderDate,"short"),""),c(5),x(" ",o.orderDetails.deliveryAddress,""),c(4),x(" ",o.orderDetails.customerPhoneNumber,""),c(4),x(" ",o.orderDetails.paymentMethod,""),c(4),m("ngForOf",o.orderDetails.orderDetails)}}var Bo=(()=>{let e=class e{constructor(t,n,r){this.route=t,this.orderService=n,this.router=r}ngOnInit(){let t=this.route.snapshot.params.id;this.orderService.getOrderWithDetailsById(t).subscribe(n=>{this.orderDetails=n},n=>{console.error("Sifrai\u015Fin detallar\u0131 g\u0259tiril\u0259 blm\u0259di",n)})}goBackToOrderManagement(){this.router.navigate(["/admin-panel/orders"])}};e.\u0275fac=function(n){return new(n||e)(p(ce),p(lt),p(M))},e.\u0275cmp=_({type:e,selectors:[["app-orderdetails"]],standalone:!0,features:[C],decls:1,vars:1,consts:[["class","container mt-5",4,"ngIf"],[1,"container","mt-5"],[1,"mb-4","text-center"],[1,"row","mb-3","justify-content-center"],[1,"col-md-6"],[1,"btn","btn-secondary",3,"click"],[1,"row","justify-content-center"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","h-100","shadow-sm"],[1,"card-img-top","img-fluid",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&h(0,vs,30,9,"div",0),n&2&&m("ngIf",r.orderDetails)},dependencies:[O,A,F,Qe,Dt,V],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;font-family:Montserrat,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#333;font-weight:700}h2[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:20px}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px}p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{max-height:220px;object-fit:contain;padding:10px;background-color:#f9f9f9}.card-body[_ngcontent-%COMP%]{padding:15px}.card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000001a}"]});let i=e;return i})();var Ro=[{path:"",component:Io,children:[{path:"",component:Di},{path:"home",component:Di},{path:"books/:id",component:yo},{path:"categories",component:Nt},{path:"categories/:id/books",component:Fi},{path:"login",component:Co},{path:"books",component:Fi},{path:"register",component:Mo},{path:"basket",component:Oo},{path:"confirmemail",component:wo},{path:"confirmation-success",component:ko},{path:"email-verification",component:xo},{path:"orders/summary",component:Vo,canActivate:[Ao]},{path:"order-success",component:No}]},{path:"admin-panel",component:Po,canActivate:[Eo],children:[{path:"dashboard",component:Yt},{path:"books",component:Xt},{path:"orders",component:mo},{path:"users",component:po},{path:"books/add",component:Do},{path:"books/edit/:id",component:Fo},{path:"orders/:id",component:Bo}]},{path:"access-denied",component:go}];var _s="@",bs=(()=>{let e=class e{constructor(t,n,r,d,u){this.doc=t,this.delegate=n,this.zone=r,this.animationType=d,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=he(Wi,{optional:!0}),this.loadingSchedulerFn=he(ys,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-RQ7K542B.mjs").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(r=>{throw new We(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:d})=>{this._engine=r(this.animationType,this.doc);let u=new d(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(t,n){let r=this.delegate.createRenderer(t,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let d=new Ti(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let w=u.createRenderer(t,n);d.use(w),this.scheduler?.notify(10)}).catch(u=>{d.use(r)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(n){qi()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let i=e;return i})(),Ti=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let o of this.replay)o(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,o){return this.delegate.createElement(e,o)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,o){this.delegate.appendChild(e,o)}insertBefore(e,o,t,n){this.delegate.insertBefore(e,o,t,n)}removeChild(e,o,t){this.delegate.removeChild(e,o,t)}selectRootElement(e,o){return this.delegate.selectRootElement(e,o)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,o,t,n){this.delegate.setAttribute(e,o,t,n)}removeAttribute(e,o,t){this.delegate.removeAttribute(e,o,t)}addClass(e,o){this.delegate.addClass(e,o)}removeClass(e,o){this.delegate.removeClass(e,o)}setStyle(e,o,t,n){this.delegate.setStyle(e,o,t,n)}removeStyle(e,o,t){this.delegate.removeStyle(e,o,t)}setProperty(e,o,t){this.shouldReplay(o)&&this.replay.push(n=>n.setProperty(e,o,t)),this.delegate.setProperty(e,o,t)}setValue(e,o){this.delegate.setValue(e,o)}listen(e,o,t){return this.shouldReplay(o)&&this.replay.push(n=>n.listen(e,o,t)),this.delegate.listen(e,o,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(_s)}},ys=new ue("");function Vi(i="animations"){return Qi("NgAsyncAnimations"),wt([{provide:Ki,useFactory:(e,o,t)=>new bs(e,o,t,i),deps:[vt,un,ut]},{provide:Hi,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var jo={providers:[an({eventCoalescing:!0}),bn(Ro),gn(),cn(dn()),Vi(),ti(fn),ti(Mn.forRoot({timeOut:2200,positionClass:"toast-top-right",preventDuplicates:!0,closeButton:!0,progressBar:!0})),Vi()]};var Cs={providers:[_n(),vn(),mi()]},zo=sn(jo,Cs);var xs=()=>mn(fo,zo),Ou=xs;export{Ou as a};
